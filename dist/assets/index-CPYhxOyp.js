var cg=Object.defineProperty;var Ud=e=>{throw TypeError(e)};var dg=(e,t,n)=>t in e?cg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var H=(e,t,n)=>dg(e,typeof t!="symbol"?t+"":t,n),Ra=(e,t,n)=>t.has(e)||Ud("Cannot "+n);var d=(e,t,n)=>(Ra(e,t,"read from private field"),n?n.call(e):t.get(e)),C=(e,t,n)=>t.has(e)?Ud("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),E=(e,t,n,r)=>(Ra(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),k=(e,t,n)=>(Ra(e,t,"access private method"),n);var Kr=(e,t,n,r)=>({set _(s){E(e,t,s,n)},get _(){return d(e,t,r)}});function fg(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Np(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jp={exports:{}},sa={},Cp={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Co=Symbol.for("react.element"),pg=Symbol.for("react.portal"),hg=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),gg=Symbol.for("react.provider"),vg=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),wg=Symbol.for("react.suspense"),Eg=Symbol.for("react.memo"),Sg=Symbol.for("react.lazy"),zd=Symbol.iterator;function _g(e){return e===null||typeof e!="object"?null:(e=zd&&e[zd]||e["@@iterator"],typeof e=="function"?e:null)}var kp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tp=Object.assign,Rp={};function Zs(e,t,n){this.props=e,this.context=t,this.refs=Rp,this.updater=n||kp}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bp(){}bp.prototype=Zs.prototype;function Nc(e,t,n){this.props=e,this.context=t,this.refs=Rp,this.updater=n||kp}var jc=Nc.prototype=new bp;jc.constructor=Nc;Tp(jc,Zs.prototype);jc.isPureReactComponent=!0;var qd=Array.isArray,Ip=Object.prototype.hasOwnProperty,Cc={current:null},Pp={key:!0,ref:!0,__self:!0,__source:!0};function Ap(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ip.call(t,r)&&!Pp.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Co,type:e,key:i,ref:o,props:s,_owner:Cc.current}}function Ng(e,t){return{$$typeof:Co,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Co}function jg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $d=/\/+/g;function ba(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jg(""+e.key):t.toString(36)}function sl(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Co:case pg:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ba(o,0):r,qd(s)?(n="",e!=null&&(n=e.replace($d,"$&/")+"/"),sl(s,t,n,"",function(c){return c})):s!=null&&(kc(s)&&(s=Ng(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($d,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",qd(e))for(var a=0;a<e.length;a++){i=e[a];var u=r+ba(i,a);o+=sl(i,t,n,u,s)}else if(u=_g(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=r+ba(i,a++),o+=sl(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Fo(e,t,n){if(e==null)return e;var r=[],s=0;return sl(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Cg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qe={current:null},il={transition:null},kg={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:il,ReactCurrentOwner:Cc};function Lp(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Fo,forEach:function(e,t,n){Fo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fo(e,function(){t++}),t},toArray:function(e){return Fo(e,function(t){return t})||[]},only:function(e){if(!kc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=Zs;z.Fragment=hg;z.Profiler=yg;z.PureComponent=Nc;z.StrictMode=mg;z.Suspense=wg;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kg;z.act=Lp;z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Cc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Ip.call(t,u)&&!Pp.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Co,type:e.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(e){return e={$$typeof:vg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gg,_context:e},e.Consumer=e};z.createElement=Ap;z.createFactory=function(e){var t=Ap.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:xg,render:e}};z.isValidElement=kc;z.lazy=function(e){return{$$typeof:Sg,_payload:{_status:-1,_result:e},_init:Cg}};z.memo=function(e,t){return{$$typeof:Eg,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=il.transition;il.transition={};try{e()}finally{il.transition=t}};z.unstable_act=Lp;z.useCallback=function(e,t){return qe.current.useCallback(e,t)};z.useContext=function(e){return qe.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return qe.current.useDeferredValue(e)};z.useEffect=function(e,t){return qe.current.useEffect(e,t)};z.useId=function(){return qe.current.useId()};z.useImperativeHandle=function(e,t,n){return qe.current.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return qe.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return qe.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return qe.current.useMemo(e,t)};z.useReducer=function(e,t,n){return qe.current.useReducer(e,t,n)};z.useRef=function(e){return qe.current.useRef(e)};z.useState=function(e){return qe.current.useState(e)};z.useSyncExternalStore=function(e,t,n){return qe.current.useSyncExternalStore(e,t,n)};z.useTransition=function(){return qe.current.useTransition()};z.version="18.3.1";Cp.exports=z;var v=Cp.exports;const Op=Np(v),Tg=fg({__proto__:null,default:Op},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg=v,bg=Symbol.for("react.element"),Ig=Symbol.for("react.fragment"),Pg=Object.prototype.hasOwnProperty,Ag=Rg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lg={key:!0,ref:!0,__self:!0,__source:!0};function Dp(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Pg.call(t,r)&&!Lg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:bg,type:e,key:i,ref:o,props:s,_owner:Ag.current}}sa.Fragment=Ig;sa.jsx=Dp;sa.jsxs=Dp;jp.exports=sa;var l=jp.exports,su={},Mp={exports:{}},dt={},Fp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,F){var U=L.length;L.push(F);e:for(;0<U;){var Z=U-1>>>1,ie=L[Z];if(0<s(ie,F))L[Z]=F,L[U]=ie,U=Z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var F=L[0],U=L.pop();if(U!==F){L[0]=U;e:for(var Z=0,ie=L.length,Do=ie>>>1;Z<Do;){var pr=2*(Z+1)-1,Ta=L[pr],hr=pr+1,Mo=L[hr];if(0>s(Ta,U))hr<ie&&0>s(Mo,Ta)?(L[Z]=Mo,L[hr]=U,Z=hr):(L[Z]=Ta,L[pr]=U,Z=pr);else if(hr<ie&&0>s(Mo,U))L[Z]=Mo,L[hr]=U,Z=hr;else break e}}return F}function s(L,F){var U=L.sortIndex-F.sortIndex;return U!==0?U:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],p=1,h=null,g=3,w=!1,x=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=L)r(c),F.sortIndex=F.expirationTime,t(u,F);else break;F=n(c)}}function _(L){if(S=!1,y(L),!x)if(n(u)!==null)x=!0,li(N);else{var F=n(c);F!==null&&ai(_,F.startTime-L)}}function N(L,F){x=!1,S&&(S=!1,m(A),A=-1),w=!0;var U=g;try{for(y(F),h=n(u);h!==null&&(!(h.expirationTime>F)||L&&!I());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,g=h.priorityLevel;var ie=Z(h.expirationTime<=F);F=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(u)&&r(u),y(F)}else r(u);h=n(u)}if(h!==null)var Do=!0;else{var pr=n(c);pr!==null&&ai(_,pr.startTime-F),Do=!1}return Do}finally{h=null,g=U,w=!1}}var b=!1,P=null,A=-1,D=5,j=-1;function I(){return!(e.unstable_now()-j<D)}function V(){if(P!==null){var L=e.unstable_now();j=L;var F=!0;try{F=P(!0,L)}finally{F?xe():(b=!1,P=null)}}else b=!1}var xe;if(typeof f=="function")xe=function(){f(V)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Fd=et.port2;et.port1.onmessage=V,xe=function(){Fd.postMessage(null)}}else xe=function(){T(V,0)};function li(L){P=L,b||(b=!0,xe())}function ai(L,F){A=T(function(){L(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){x||w||(x=!0,li(N))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(L){switch(g){case 1:case 2:case 3:var F=3;break;default:F=g}var U=g;g=F;try{return L()}finally{g=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=g;g=L;try{return F()}finally{g=U}},e.unstable_scheduleCallback=function(L,F,U){var Z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,L){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=U+ie,L={id:p++,callback:F,priorityLevel:L,startTime:U,expirationTime:ie,sortIndex:-1},U>Z?(L.sortIndex=U,t(c,L),n(u)===null&&L===n(c)&&(S?(m(A),A=-1):S=!0,ai(_,U-Z))):(L.sortIndex=ie,t(u,L),x||w||(x=!0,li(N))),L},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(L){var F=g;return function(){var U=g;g=F;try{return L.apply(this,arguments)}finally{g=U}}}})(Up);Fp.exports=Up;var Og=Fp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=v,ct=Og;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zp=new Set,$i={};function Qr(e,t){$s(e,t),$s(e+"Capture",t)}function $s(e,t){for($i[e]=t,e=0;e<t.length;e++)zp.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=Object.prototype.hasOwnProperty,Mg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vd={},Bd={};function Fg(e){return iu.call(Bd,e)?!0:iu.call(Vd,e)?!1:Mg.test(e)?Bd[e]=!0:(Vd[e]=!0,!1)}function Ug(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zg(e,t,n,r){if(t===null||typeof t>"u"||Ug(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tc=/[\-:]([a-z])/g;function Rc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tc,Rc);be[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tc,Rc);be[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tc,Rc);be[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function bc(e,t,n,r){var s=be.hasOwnProperty(t)?be[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zg(t,n,s,r)&&(n=null),r||s===null?Fg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jn=Dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uo=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),Ic=Symbol.for("react.strict_mode"),ou=Symbol.for("react.profiler"),qp=Symbol.for("react.provider"),$p=Symbol.for("react.context"),Pc=Symbol.for("react.forward_ref"),lu=Symbol.for("react.suspense"),au=Symbol.for("react.suspense_list"),Ac=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),Vp=Symbol.for("react.offscreen"),Hd=Symbol.iterator;function ui(e){return e===null||typeof e!="object"?null:(e=Hd&&e[Hd]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,Ia;function vi(e){if(Ia===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ia=t&&t[1]||""}return`
`+Ia+e}var Pa=!1;function Aa(e,t){if(!e||Pa)return"";Pa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Pa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vi(e):""}function qg(e){switch(e.tag){case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 2:case 15:return e=Aa(e.type,!1),e;case 11:return e=Aa(e.type.render,!1),e;case 1:return e=Aa(e.type,!0),e;default:return""}}function uu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case es:return"Fragment";case Zr:return"Portal";case ou:return"Profiler";case Ic:return"StrictMode";case lu:return"Suspense";case au:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $p:return(e.displayName||"Context")+".Consumer";case qp:return(e._context.displayName||"Context")+".Provider";case Pc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ac:return t=e.displayName||null,t!==null?t:uu(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return uu(e(t))}catch{}}return null}function $g(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uu(t);case 8:return t===Ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vg(e){var t=Bp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zo(e){e._valueTracker||(e._valueTracker=Vg(e))}function Hp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cu(e,t){var n=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wp(e,t){t=t.checked,t!=null&&bc(e,"checked",t,!1)}function du(e,t){Wp(e,t);var n=rr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fu(e,t.type,n):t.hasOwnProperty("defaultValue")&&fu(e,t.type,rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fu(e,t,n){(t!=="number"||_l(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xi=Array.isArray;function hs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function pu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(xi(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rr(n)}}function Qp(e,t){var n=rr(t.value),r=rr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Kd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qo,Kp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bg=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(e){Bg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ii[t]=Ii[e]})});function Gp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ii.hasOwnProperty(e)&&Ii[e]?(""+t).trim():t+"px"}function Xp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Hg=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mu(e,t){if(t){if(Hg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function yu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=null;function Lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vu=null,ms=null,ys=null;function Gd(e){if(e=Ro(e)){if(typeof vu!="function")throw Error(R(280));var t=e.stateNode;t&&(t=ua(t),vu(e.stateNode,e.type,t))}}function Jp(e){ms?ys?ys.push(e):ys=[e]:ms=e}function Zp(){if(ms){var e=ms,t=ys;if(ys=ms=null,Gd(e),t)for(e=0;e<t.length;e++)Gd(t[e])}}function eh(e,t){return e(t)}function th(){}var La=!1;function nh(e,t,n){if(La)return e(t,n);La=!0;try{return eh(e,t,n)}finally{La=!1,(ms!==null||ys!==null)&&(th(),Zp())}}function Bi(e,t){var n=e.stateNode;if(n===null)return null;var r=ua(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var xu=!1;if(xn)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){xu=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{xu=!1}function Wg(e,t,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var Pi=!1,Nl=null,jl=!1,wu=null,Qg={onError:function(e){Pi=!0,Nl=e}};function Yg(e,t,n,r,s,i,o,a,u){Pi=!1,Nl=null,Wg.apply(Qg,arguments)}function Kg(e,t,n,r,s,i,o,a,u){if(Yg.apply(this,arguments),Pi){if(Pi){var c=Nl;Pi=!1,Nl=null}else throw Error(R(198));jl||(jl=!0,wu=c)}}function Yr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xd(e){if(Yr(e)!==e)throw Error(R(188))}function Gg(e){var t=e.alternate;if(!t){if(t=Yr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Xd(s),e;if(i===r)return Xd(s),t;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function sh(e){return e=Gg(e),e!==null?ih(e):null}function ih(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ih(e);if(t!==null)return t;e=e.sibling}return null}var oh=ct.unstable_scheduleCallback,Jd=ct.unstable_cancelCallback,Xg=ct.unstable_shouldYield,Jg=ct.unstable_requestPaint,le=ct.unstable_now,Zg=ct.unstable_getCurrentPriorityLevel,Oc=ct.unstable_ImmediatePriority,lh=ct.unstable_UserBlockingPriority,Cl=ct.unstable_NormalPriority,e0=ct.unstable_LowPriority,ah=ct.unstable_IdlePriority,ia=null,Kt=null;function t0(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ia,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:s0,n0=Math.log,r0=Math.LN2;function s0(e){return e>>>=0,e===0?32:31-(n0(e)/r0|0)|0}var $o=64,Vo=4194304;function wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=wi(a):(i&=o,i!==0&&(r=wi(i)))}else o=n&~s,o!==0?r=wi(o):i!==0&&(r=wi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Lt(t),s=1<<n,r|=e[n],t&=~s;return r}function i0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Lt(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=i0(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function Eu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uh(){var e=$o;return $o<<=1,!($o&4194240)&&($o=64),e}function Oa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ko(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=n}function l0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Lt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Dc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Lt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var W=0;function ch(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dh,Mc,fh,ph,hh,Su=!1,Bo=[],Yn=null,Kn=null,Gn=null,Hi=new Map,Wi=new Map,Pn=[],a0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zd(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Hi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(t.pointerId)}}function di(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ro(t),t!==null&&Mc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function u0(e,t,n,r,s){switch(t){case"focusin":return Yn=di(Yn,e,t,n,r,s),!0;case"dragenter":return Kn=di(Kn,e,t,n,r,s),!0;case"mouseover":return Gn=di(Gn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hi.set(i,di(Hi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wi.set(i,di(Wi.get(i)||null,e,t,n,r,s)),!0}return!1}function mh(e){var t=wr(e.target);if(t!==null){var n=Yr(t);if(n!==null){if(t=n.tag,t===13){if(t=rh(n),t!==null){e.blockedOn=t,hh(e.priority,function(){fh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_u(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);gu=r,n.target.dispatchEvent(r),gu=null}else return t=Ro(n),t!==null&&Mc(t),e.blockedOn=n,!1;t.shift()}return!0}function ef(e,t,n){ol(e)&&n.delete(t)}function c0(){Su=!1,Yn!==null&&ol(Yn)&&(Yn=null),Kn!==null&&ol(Kn)&&(Kn=null),Gn!==null&&ol(Gn)&&(Gn=null),Hi.forEach(ef),Wi.forEach(ef)}function fi(e,t){e.blockedOn===t&&(e.blockedOn=null,Su||(Su=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,c0)))}function Qi(e){function t(s){return fi(s,e)}if(0<Bo.length){fi(Bo[0],e);for(var n=1;n<Bo.length;n++){var r=Bo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yn!==null&&fi(Yn,e),Kn!==null&&fi(Kn,e),Gn!==null&&fi(Gn,e),Hi.forEach(t),Wi.forEach(t),n=0;n<Pn.length;n++)r=Pn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)mh(n),n.blockedOn===null&&Pn.shift()}var gs=jn.ReactCurrentBatchConfig,Tl=!0;function d0(e,t,n,r){var s=W,i=gs.transition;gs.transition=null;try{W=1,Fc(e,t,n,r)}finally{W=s,gs.transition=i}}function f0(e,t,n,r){var s=W,i=gs.transition;gs.transition=null;try{W=4,Fc(e,t,n,r)}finally{W=s,gs.transition=i}}function Fc(e,t,n,r){if(Tl){var s=_u(e,t,n,r);if(s===null)Ha(e,t,r,Rl,n),Zd(e,r);else if(u0(s,e,t,n,r))r.stopPropagation();else if(Zd(e,r),t&4&&-1<a0.indexOf(e)){for(;s!==null;){var i=Ro(s);if(i!==null&&dh(i),i=_u(e,t,n,r),i===null&&Ha(e,t,r,Rl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ha(e,t,r,null,n)}}var Rl=null;function _u(e,t,n,r){if(Rl=null,e=Lc(r),e=wr(e),e!==null)if(t=Yr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rl=e,null}function yh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zg()){case Oc:return 1;case lh:return 4;case Cl:case e0:return 16;case ah:return 536870912;default:return 16}default:return 16}}var Hn=null,Uc=null,ll=null;function gh(){if(ll)return ll;var e,t=Uc,n=t.length,r,s="value"in Hn?Hn.value:Hn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ll=s.slice(e,1<r?1-r:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ho(){return!0}function tf(){return!1}function ft(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ho:tf,this.isPropagationStopped=tf,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),t}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=ft(ei),To=re({},ei,{view:0,detail:0}),p0=ft(To),Da,Ma,pi,oa=re({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(Da=e.screenX-pi.screenX,Ma=e.screenY-pi.screenY):Ma=Da=0,pi=e),Da)},movementY:function(e){return"movementY"in e?e.movementY:Ma}}),nf=ft(oa),h0=re({},oa,{dataTransfer:0}),m0=ft(h0),y0=re({},To,{relatedTarget:0}),Fa=ft(y0),g0=re({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=ft(g0),x0=re({},ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w0=ft(x0),E0=re({},ei,{data:0}),rf=ft(E0),S0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=N0[e])?!!t[e]:!1}function qc(){return j0}var C0=re({},To,{key:function(e){if(e.key){var t=S0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qc,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k0=ft(C0),T0=re({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=ft(T0),R0=re({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qc}),b0=ft(R0),I0=re({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),P0=ft(I0),A0=re({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L0=ft(A0),O0=[9,13,27,32],$c=xn&&"CompositionEvent"in window,Ai=null;xn&&"documentMode"in document&&(Ai=document.documentMode);var D0=xn&&"TextEvent"in window&&!Ai,vh=xn&&(!$c||Ai&&8<Ai&&11>=Ai),of=" ",lf=!1;function xh(e,t){switch(e){case"keyup":return O0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function M0(e,t){switch(e){case"compositionend":return wh(t);case"keypress":return t.which!==32?null:(lf=!0,of);case"textInput":return e=t.data,e===of&&lf?null:e;default:return null}}function F0(e,t){if(ts)return e==="compositionend"||!$c&&xh(e,t)?(e=gh(),ll=Uc=Hn=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vh&&t.locale!=="ko"?null:t.data;default:return null}}var U0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U0[e.type]:t==="textarea"}function Eh(e,t,n,r){Jp(r),t=bl(t,"onChange"),0<t.length&&(n=new zc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Li=null,Yi=null;function z0(e){Ph(e,0)}function la(e){var t=ss(e);if(Hp(t))return e}function q0(e,t){if(e==="change")return t}var Sh=!1;if(xn){var Ua;if(xn){var za="oninput"in document;if(!za){var uf=document.createElement("div");uf.setAttribute("oninput","return;"),za=typeof uf.oninput=="function"}Ua=za}else Ua=!1;Sh=Ua&&(!document.documentMode||9<document.documentMode)}function cf(){Li&&(Li.detachEvent("onpropertychange",_h),Yi=Li=null)}function _h(e){if(e.propertyName==="value"&&la(Yi)){var t=[];Eh(t,Yi,e,Lc(e)),nh(z0,t)}}function $0(e,t,n){e==="focusin"?(cf(),Li=t,Yi=n,Li.attachEvent("onpropertychange",_h)):e==="focusout"&&cf()}function V0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return la(Yi)}function B0(e,t){if(e==="click")return la(t)}function H0(e,t){if(e==="input"||e==="change")return la(t)}function W0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:W0;function Ki(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!iu.call(t,s)||!Dt(e[s],t[s]))return!1}return!0}function df(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,t){var n=df(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=df(n)}}function Nh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jh(){for(var e=window,t=_l();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_l(e.document)}return t}function Vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q0(e){var t=jh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nh(n.ownerDocument.documentElement,n)){if(r!==null&&Vc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ff(n,i);var o=ff(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Y0=xn&&"documentMode"in document&&11>=document.documentMode,ns=null,Nu=null,Oi=null,ju=!1;function pf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ju||ns==null||ns!==_l(r)||(r=ns,"selectionStart"in r&&Vc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oi&&Ki(Oi,r)||(Oi=r,r=bl(Nu,"onSelect"),0<r.length&&(t=new zc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ns)))}function Wo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rs={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionend:Wo("Transition","TransitionEnd")},qa={},Ch={};xn&&(Ch=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function aa(e){if(qa[e])return qa[e];if(!rs[e])return e;var t=rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ch)return qa[e]=t[n];return e}var kh=aa("animationend"),Th=aa("animationiteration"),Rh=aa("animationstart"),bh=aa("transitionend"),Ih=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lr(e,t){Ih.set(e,t),Qr(t,[e])}for(var $a=0;$a<hf.length;$a++){var Va=hf[$a],K0=Va.toLowerCase(),G0=Va[0].toUpperCase()+Va.slice(1);lr(K0,"on"+G0)}lr(kh,"onAnimationEnd");lr(Th,"onAnimationIteration");lr(Rh,"onAnimationStart");lr("dblclick","onDoubleClick");lr("focusin","onFocus");lr("focusout","onBlur");lr(bh,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function mf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Kg(r,t,void 0,e),e.currentTarget=null}function Ph(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;mf(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;mf(s,a,c),i=u}}}if(jl)throw e=wu,jl=!1,wu=null,e}function X(e,t){var n=t[bu];n===void 0&&(n=t[bu]=new Set);var r=e+"__bubble";n.has(r)||(Ah(t,e,2,!1),n.add(r))}function Ba(e,t,n){var r=0;t&&(r|=4),Ah(n,e,r,t)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function Gi(e){if(!e[Qo]){e[Qo]=!0,zp.forEach(function(n){n!=="selectionchange"&&(X0.has(n)||Ba(n,!1,e),Ba(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qo]||(t[Qo]=!0,Ba("selectionchange",!1,t))}}function Ah(e,t,n,r){switch(yh(t)){case 1:var s=d0;break;case 4:s=f0;break;default:s=Fc}n=s.bind(null,t,n,e),s=void 0,!xu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ha(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=wr(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}nh(function(){var c=i,p=Lc(n),h=[];e:{var g=Ih.get(e);if(g!==void 0){var w=zc,x=e;switch(e){case"keypress":if(al(n)===0)break e;case"keydown":case"keyup":w=k0;break;case"focusin":x="focus",w=Fa;break;case"focusout":x="blur",w=Fa;break;case"beforeblur":case"afterblur":w=Fa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=m0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=b0;break;case kh:case Th:case Rh:w=v0;break;case bh:w=P0;break;case"scroll":w=p0;break;case"wheel":w=L0;break;case"copy":case"cut":case"paste":w=w0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=sf}var S=(t&4)!==0,T=!S&&e==="scroll",m=S?g!==null?g+"Capture":null:g;S=[];for(var f=c,y;f!==null;){y=f;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,m!==null&&(_=Bi(f,m),_!=null&&S.push(Xi(f,_,y)))),T)break;f=f.return}0<S.length&&(g=new w(g,x,null,n,p),h.push({event:g,listeners:S}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",g&&n!==gu&&(x=n.relatedTarget||n.fromElement)&&(wr(x)||x[wn]))break e;if((w||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,w?(x=n.relatedTarget||n.toElement,w=c,x=x?wr(x):null,x!==null&&(T=Yr(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=c),w!==x)){if(S=nf,_="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(S=sf,_="onPointerLeave",m="onPointerEnter",f="pointer"),T=w==null?g:ss(w),y=x==null?g:ss(x),g=new S(_,f+"leave",w,n,p),g.target=T,g.relatedTarget=y,_=null,wr(p)===c&&(S=new S(m,f+"enter",x,n,p),S.target=y,S.relatedTarget=T,_=S),T=_,w&&x)t:{for(S=w,m=x,f=0,y=S;y;y=Gr(y))f++;for(y=0,_=m;_;_=Gr(_))y++;for(;0<f-y;)S=Gr(S),f--;for(;0<y-f;)m=Gr(m),y--;for(;f--;){if(S===m||m!==null&&S===m.alternate)break t;S=Gr(S),m=Gr(m)}S=null}else S=null;w!==null&&yf(h,g,w,S,!1),x!==null&&T!==null&&yf(h,T,x,S,!0)}}e:{if(g=c?ss(c):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var N=q0;else if(af(g))if(Sh)N=H0;else{N=V0;var b=$0}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=B0);if(N&&(N=N(e,c))){Eh(h,N,n,p);break e}b&&b(e,g,c),e==="focusout"&&(b=g._wrapperState)&&b.controlled&&g.type==="number"&&fu(g,"number",g.value)}switch(b=c?ss(c):window,e){case"focusin":(af(b)||b.contentEditable==="true")&&(ns=b,Nu=c,Oi=null);break;case"focusout":Oi=Nu=ns=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,pf(h,n,p);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":pf(h,n,p)}var P;if($c)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ts?xh(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(vh&&n.locale!=="ko"&&(ts||A!=="onCompositionStart"?A==="onCompositionEnd"&&ts&&(P=gh()):(Hn=p,Uc="value"in Hn?Hn.value:Hn.textContent,ts=!0)),b=bl(c,A),0<b.length&&(A=new rf(A,e,null,n,p),h.push({event:A,listeners:b}),P?A.data=P:(P=wh(n),P!==null&&(A.data=P)))),(P=D0?M0(e,n):F0(e,n))&&(c=bl(c,"onBeforeInput"),0<c.length&&(p=new rf("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:c}),p.data=P))}Ph(h,t)})}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bi(e,n),i!=null&&r.unshift(Xi(e,i,s)),i=Bi(e,t),i!=null&&r.push(Xi(e,i,s))),e=e.return}return r}function Gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yf(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Bi(n,i),u!=null&&o.unshift(Xi(n,u,a))):s||(u=Bi(n,i),u!=null&&o.push(Xi(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var J0=/\r\n?/g,Z0=/\u0000|\uFFFD/g;function gf(e){return(typeof e=="string"?e:""+e).replace(J0,`
`).replace(Z0,"")}function Yo(e,t,n){if(t=gf(t),gf(e)!==t&&n)throw Error(R(425))}function Il(){}var Cu=null,ku=null;function Tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ru=typeof setTimeout=="function"?setTimeout:void 0,ev=typeof clearTimeout=="function"?clearTimeout:void 0,vf=typeof Promise=="function"?Promise:void 0,tv=typeof queueMicrotask=="function"?queueMicrotask:typeof vf<"u"?function(e){return vf.resolve(null).then(e).catch(nv)}:Ru;function nv(e){setTimeout(function(){throw e})}function Wa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Qi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Qi(t)}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ti=Math.random().toString(36).slice(2),Qt="__reactFiber$"+ti,Ji="__reactProps$"+ti,wn="__reactContainer$"+ti,bu="__reactEvents$"+ti,rv="__reactListeners$"+ti,sv="__reactHandles$"+ti;function wr(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wn]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xf(e);e!==null;){if(n=e[Qt])return n;e=xf(e)}return t}e=n,n=e.parentNode}return null}function Ro(e){return e=e[Qt]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function ua(e){return e[Ji]||null}var Iu=[],is=-1;function ar(e){return{current:e}}function J(e){0>is||(e.current=Iu[is],Iu[is]=null,is--)}function K(e,t){is++,Iu[is]=e.current,e.current=t}var sr={},De=ar(sr),Xe=ar(!1),qr=sr;function Vs(e,t){var n=e.type.contextTypes;if(!n)return sr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Je(e){return e=e.childContextTypes,e!=null}function Pl(){J(Xe),J(De)}function wf(e,t,n){if(De.current!==sr)throw Error(R(168));K(De,t),K(Xe,n)}function Lh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,$g(e)||"Unknown",s));return re({},n,r)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,qr=De.current,K(De,e),K(Xe,Xe.current),!0}function Ef(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Lh(e,t,qr),r.__reactInternalMemoizedMergedChildContext=e,J(Xe),J(De),K(De,e)):J(Xe),K(Xe,n)}var tn=null,ca=!1,Qa=!1;function Oh(e){tn===null?tn=[e]:tn.push(e)}function iv(e){ca=!0,Oh(e)}function ur(){if(!Qa&&tn!==null){Qa=!0;var e=0,t=W;try{var n=tn;for(W=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tn=null,ca=!1}catch(s){throw tn!==null&&(tn=tn.slice(e+1)),oh(Oc,ur),s}finally{W=t,Qa=!1}}return null}var os=[],ls=0,Ll=null,Ol=0,mt=[],yt=0,$r=null,yn=1,gn="";function mr(e,t){os[ls++]=Ol,os[ls++]=Ll,Ll=e,Ol=t}function Dh(e,t,n){mt[yt++]=yn,mt[yt++]=gn,mt[yt++]=$r,$r=e;var r=yn;e=gn;var s=32-Lt(r)-1;r&=~(1<<s),n+=1;var i=32-Lt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,yn=1<<32-Lt(t)+s|n<<s|r,gn=i+e}else yn=1<<i|n<<s|r,gn=e}function Bc(e){e.return!==null&&(mr(e,1),Dh(e,1,0))}function Hc(e){for(;e===Ll;)Ll=os[--ls],os[ls]=null,Ol=os[--ls],os[ls]=null;for(;e===$r;)$r=mt[--yt],mt[yt]=null,gn=mt[--yt],mt[yt]=null,yn=mt[--yt],mt[yt]=null}var ut=null,lt=null,ee=!1,Pt=null;function Mh(e,t){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,lt=Xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$r!==null?{id:yn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ut=e,lt=null,!0):!1;default:return!1}}function Pu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Au(e){if(ee){var t=lt;if(t){var n=t;if(!Sf(e,t)){if(Pu(e))throw Error(R(418));t=Xn(n.nextSibling);var r=ut;t&&Sf(e,t)?Mh(r,n):(e.flags=e.flags&-4097|2,ee=!1,ut=e)}}else{if(Pu(e))throw Error(R(418));e.flags=e.flags&-4097|2,ee=!1,ut=e}}}function _f(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Ko(e){if(e!==ut)return!1;if(!ee)return _f(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tu(e.type,e.memoizedProps)),t&&(t=lt)){if(Pu(e))throw Fh(),Error(R(418));for(;t;)Mh(e,t),t=Xn(t.nextSibling)}if(_f(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){lt=Xn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=ut?Xn(e.stateNode.nextSibling):null;return!0}function Fh(){for(var e=lt;e;)e=Xn(e.nextSibling)}function Bs(){lt=ut=null,ee=!1}function Wc(e){Pt===null?Pt=[e]:Pt.push(e)}var ov=jn.ReactCurrentBatchConfig;function hi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nf(e){var t=e._init;return t(e._payload)}function Uh(e){function t(m,f){if(e){var y=m.deletions;y===null?(m.deletions=[f],m.flags|=16):y.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=tr(m,f),m.index=0,m.sibling=null,m}function i(m,f,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<f?(m.flags|=2,f):y):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,y,_){return f===null||f.tag!==6?(f=eu(y,m.mode,_),f.return=m,f):(f=s(f,y),f.return=m,f)}function u(m,f,y,_){var N=y.type;return N===es?p(m,f,y.props.children,_,y.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bn&&Nf(N)===f.type)?(_=s(f,y.props),_.ref=hi(m,f,y),_.return=m,_):(_=ml(y.type,y.key,y.props,null,m.mode,_),_.ref=hi(m,f,y),_.return=m,_)}function c(m,f,y,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=tu(y,m.mode,_),f.return=m,f):(f=s(f,y.children||[]),f.return=m,f)}function p(m,f,y,_,N){return f===null||f.tag!==7?(f=Or(y,m.mode,_,N),f.return=m,f):(f=s(f,y),f.return=m,f)}function h(m,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=eu(""+f,m.mode,y),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Uo:return y=ml(f.type,f.key,f.props,null,m.mode,y),y.ref=hi(m,null,f),y.return=m,y;case Zr:return f=tu(f,m.mode,y),f.return=m,f;case bn:var _=f._init;return h(m,_(f._payload),y)}if(xi(f)||ui(f))return f=Or(f,m.mode,y,null),f.return=m,f;Go(m,f)}return null}function g(m,f,y,_){var N=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:a(m,f,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Uo:return y.key===N?u(m,f,y,_):null;case Zr:return y.key===N?c(m,f,y,_):null;case bn:return N=y._init,g(m,f,N(y._payload),_)}if(xi(y)||ui(y))return N!==null?null:p(m,f,y,_,null);Go(m,y)}return null}function w(m,f,y,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(y)||null,a(f,m,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Uo:return m=m.get(_.key===null?y:_.key)||null,u(f,m,_,N);case Zr:return m=m.get(_.key===null?y:_.key)||null,c(f,m,_,N);case bn:var b=_._init;return w(m,f,y,b(_._payload),N)}if(xi(_)||ui(_))return m=m.get(y)||null,p(f,m,_,N,null);Go(f,_)}return null}function x(m,f,y,_){for(var N=null,b=null,P=f,A=f=0,D=null;P!==null&&A<y.length;A++){P.index>A?(D=P,P=null):D=P.sibling;var j=g(m,P,y[A],_);if(j===null){P===null&&(P=D);break}e&&P&&j.alternate===null&&t(m,P),f=i(j,f,A),b===null?N=j:b.sibling=j,b=j,P=D}if(A===y.length)return n(m,P),ee&&mr(m,A),N;if(P===null){for(;A<y.length;A++)P=h(m,y[A],_),P!==null&&(f=i(P,f,A),b===null?N=P:b.sibling=P,b=P);return ee&&mr(m,A),N}for(P=r(m,P);A<y.length;A++)D=w(P,m,A,y[A],_),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?A:D.key),f=i(D,f,A),b===null?N=D:b.sibling=D,b=D);return e&&P.forEach(function(I){return t(m,I)}),ee&&mr(m,A),N}function S(m,f,y,_){var N=ui(y);if(typeof N!="function")throw Error(R(150));if(y=N.call(y),y==null)throw Error(R(151));for(var b=N=null,P=f,A=f=0,D=null,j=y.next();P!==null&&!j.done;A++,j=y.next()){P.index>A?(D=P,P=null):D=P.sibling;var I=g(m,P,j.value,_);if(I===null){P===null&&(P=D);break}e&&P&&I.alternate===null&&t(m,P),f=i(I,f,A),b===null?N=I:b.sibling=I,b=I,P=D}if(j.done)return n(m,P),ee&&mr(m,A),N;if(P===null){for(;!j.done;A++,j=y.next())j=h(m,j.value,_),j!==null&&(f=i(j,f,A),b===null?N=j:b.sibling=j,b=j);return ee&&mr(m,A),N}for(P=r(m,P);!j.done;A++,j=y.next())j=w(P,m,A,j.value,_),j!==null&&(e&&j.alternate!==null&&P.delete(j.key===null?A:j.key),f=i(j,f,A),b===null?N=j:b.sibling=j,b=j);return e&&P.forEach(function(V){return t(m,V)}),ee&&mr(m,A),N}function T(m,f,y,_){if(typeof y=="object"&&y!==null&&y.type===es&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Uo:e:{for(var N=y.key,b=f;b!==null;){if(b.key===N){if(N=y.type,N===es){if(b.tag===7){n(m,b.sibling),f=s(b,y.props.children),f.return=m,m=f;break e}}else if(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bn&&Nf(N)===b.type){n(m,b.sibling),f=s(b,y.props),f.ref=hi(m,b,y),f.return=m,m=f;break e}n(m,b);break}else t(m,b);b=b.sibling}y.type===es?(f=Or(y.props.children,m.mode,_,y.key),f.return=m,m=f):(_=ml(y.type,y.key,y.props,null,m.mode,_),_.ref=hi(m,f,y),_.return=m,m=_)}return o(m);case Zr:e:{for(b=y.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(m,f.sibling),f=s(f,y.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=tu(y,m.mode,_),f.return=m,m=f}return o(m);case bn:return b=y._init,T(m,f,b(y._payload),_)}if(xi(y))return x(m,f,y,_);if(ui(y))return S(m,f,y,_);Go(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,y),f.return=m,m=f):(n(m,f),f=eu(y,m.mode,_),f.return=m,m=f),o(m)):n(m,f)}return T}var Hs=Uh(!0),zh=Uh(!1),Dl=ar(null),Ml=null,as=null,Qc=null;function Yc(){Qc=as=Ml=null}function Kc(e){var t=Dl.current;J(Dl),e._currentValue=t}function Lu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vs(e,t){Ml=e,Qc=as=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Qc!==e)if(e={context:e,memoizedValue:t,next:null},as===null){if(Ml===null)throw Error(R(308));as=e,Ml.dependencies={lanes:0,firstContext:e}}else as=as.next=e;return t}var Er=null;function Gc(e){Er===null?Er=[e]:Er.push(e)}function qh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Gc(t)):(n.next=s.next,s.next=n),t.interleaved=n,En(e,r)}function En(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var In=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $h(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,En(e,n)}return s=r.interleaved,s===null?(t.next=t,Gc(r)):(t.next=s.next,s.next=t),r.interleaved=t,En(e,n)}function ul(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dc(e,n)}}function jf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fl(e,t,n,r){var s=e.updateQueue;In=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,p=c=u=null,a=i;do{var g=a.lane,w=a.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,S=a;switch(g=t,w=n,S.tag){case 1:if(x=S.payload,typeof x=="function"){h=x.call(w,h,g);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,g=typeof x=="function"?x.call(w,h,g):x,g==null)break e;h=re({},h,g);break e;case 2:In=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else w={eventTime:w,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(c=p=w,u=h):p=p.next=w,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(p===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Br|=o,e.lanes=o,e.memoizedState=h}}function Cf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var bo={},Gt=ar(bo),Zi=ar(bo),eo=ar(bo);function Sr(e){if(e===bo)throw Error(R(174));return e}function Jc(e,t){switch(K(eo,t),K(Zi,e),K(Gt,bo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hu(t,e)}J(Gt),K(Gt,t)}function Ws(){J(Gt),J(Zi),J(eo)}function Vh(e){Sr(eo.current);var t=Sr(Gt.current),n=hu(t,e.type);t!==n&&(K(Zi,e),K(Gt,n))}function Zc(e){Zi.current===e&&(J(Gt),J(Zi))}var te=ar(0);function Ul(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ya=[];function ed(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var cl=jn.ReactCurrentDispatcher,Ka=jn.ReactCurrentBatchConfig,Vr=0,ne=null,he=null,Se=null,zl=!1,Di=!1,to=0,lv=0;function Ie(){throw Error(R(321))}function td(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function nd(e,t,n,r,s,i){if(Vr=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cl.current=e===null||e.memoizedState===null?dv:fv,e=n(r,s),Di){i=0;do{if(Di=!1,to=0,25<=i)throw Error(R(301));i+=1,Se=he=null,t.updateQueue=null,cl.current=pv,e=n(r,s)}while(Di)}if(cl.current=ql,t=he!==null&&he.next!==null,Vr=0,Se=he=ne=null,zl=!1,t)throw Error(R(300));return e}function rd(){var e=to!==0;return to=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?ne.memoizedState=Se=e:Se=Se.next=e,Se}function Et(){if(he===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=Se===null?ne.memoizedState:Se.next;if(t!==null)Se=t,he=e;else{if(e===null)throw Error(R(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Se===null?ne.memoizedState=Se=e:Se=Se.next=e}return Se}function no(e,t){return typeof t=="function"?t(e):t}function Ga(e){var t=Et(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=he,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var p=c.lane;if((Vr&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,ne.lanes|=p,Br|=p}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Dt(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ne.lanes|=i,Br|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xa(e){var t=Et(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Dt(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Bh(){}function Hh(e,t){var n=ne,r=Et(),s=t(),i=!Dt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ge=!0),r=r.queue,sd(Yh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,ro(9,Qh.bind(null,n,r,s,t),void 0,null),Ne===null)throw Error(R(349));Vr&30||Wh(n,t,s)}return s}function Wh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qh(e,t,n,r){t.value=n,t.getSnapshot=r,Kh(t)&&Gh(e)}function Yh(e,t,n){return n(function(){Kh(t)&&Gh(e)})}function Kh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Gh(e){var t=En(e,1);t!==null&&Ot(t,e,1,-1)}function kf(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:e},t.queue=e,e=e.dispatch=cv.bind(null,ne,e),[t.memoizedState,e]}function ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xh(){return Et().memoizedState}function dl(e,t,n,r){var s=zt();ne.flags|=e,s.memoizedState=ro(1|t,n,void 0,r===void 0?null:r)}function da(e,t,n,r){var s=Et();r=r===void 0?null:r;var i=void 0;if(he!==null){var o=he.memoizedState;if(i=o.destroy,r!==null&&td(r,o.deps)){s.memoizedState=ro(t,n,i,r);return}}ne.flags|=e,s.memoizedState=ro(1|t,n,i,r)}function Tf(e,t){return dl(8390656,8,e,t)}function sd(e,t){return da(2048,8,e,t)}function Jh(e,t){return da(4,2,e,t)}function Zh(e,t){return da(4,4,e,t)}function em(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tm(e,t,n){return n=n!=null?n.concat([e]):null,da(4,4,em.bind(null,t,e),n)}function id(){}function nm(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&td(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rm(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&td(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sm(e,t,n){return Vr&21?(Dt(n,t)||(n=uh(),ne.lanes|=n,Br|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function av(e,t){var n=W;W=n!==0&&4>n?n:4,e(!0);var r=Ka.transition;Ka.transition={};try{e(!1),t()}finally{W=n,Ka.transition=r}}function im(){return Et().memoizedState}function uv(e,t,n){var r=er(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},om(e))lm(t,n);else if(n=qh(e,t,n,r),n!==null){var s=ze();Ot(n,e,r,s),am(n,t,r)}}function cv(e,t,n){var r=er(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(om(e))lm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Dt(a,o)){var u=t.interleaved;u===null?(s.next=s,Gc(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=qh(e,t,s,r),n!==null&&(s=ze(),Ot(n,e,r,s),am(n,t,r))}}function om(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function lm(e,t){Di=zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function am(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dc(e,n)}}var ql={readContext:wt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},dv={readContext:wt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:Tf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,dl(4194308,4,em.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return dl(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=uv.bind(null,ne,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:kf,useDebugValue:id,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=kf(!1),t=e[0];return e=av.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ne,s=zt();if(ee){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Ne===null)throw Error(R(349));Vr&30||Wh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Tf(Yh.bind(null,r,i,e),[e]),r.flags|=2048,ro(9,Qh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=zt(),t=Ne.identifierPrefix;if(ee){var n=gn,r=yn;n=(r&~(1<<32-Lt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=to++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fv={readContext:wt,useCallback:nm,useContext:wt,useEffect:sd,useImperativeHandle:tm,useInsertionEffect:Jh,useLayoutEffect:Zh,useMemo:rm,useReducer:Ga,useRef:Xh,useState:function(){return Ga(no)},useDebugValue:id,useDeferredValue:function(e){var t=Et();return sm(t,he.memoizedState,e)},useTransition:function(){var e=Ga(no)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Bh,useSyncExternalStore:Hh,useId:im,unstable_isNewReconciler:!1},pv={readContext:wt,useCallback:nm,useContext:wt,useEffect:sd,useImperativeHandle:tm,useInsertionEffect:Jh,useLayoutEffect:Zh,useMemo:rm,useReducer:Xa,useRef:Xh,useState:function(){return Xa(no)},useDebugValue:id,useDeferredValue:function(e){var t=Et();return he===null?t.memoizedState=e:sm(t,he.memoizedState,e)},useTransition:function(){var e=Xa(no)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Bh,useSyncExternalStore:Hh,useId:im,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ou(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fa={isMounted:function(e){return(e=e._reactInternals)?Yr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ze(),s=er(e),i=vn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Jn(e,i,s),t!==null&&(Ot(t,e,s,r),ul(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ze(),s=er(e),i=vn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Jn(e,i,s),t!==null&&(Ot(t,e,s,r),ul(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),r=er(e),s=vn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Jn(e,s,r),t!==null&&(Ot(t,e,r,n),ul(t,e,r))}};function Rf(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ki(n,r)||!Ki(s,i):!0}function um(e,t,n){var r=!1,s=sr,i=t.contextType;return typeof i=="object"&&i!==null?i=wt(i):(s=Je(t)?qr:De.current,r=t.contextTypes,i=(r=r!=null)?Vs(e,s):sr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function bf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function Du(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Xc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=wt(i):(i=Je(t)?qr:De.current,s.context=Vs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ou(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&fa.enqueueReplaceState(s,s.state,null),Fl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qs(e,t){try{var n="",r=t;do n+=qg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ja(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hv=typeof WeakMap=="function"?WeakMap:Map;function cm(e,t,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Qu=r),Mu(e,t)},n}function dm(e,t,n){n=vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Mu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Mu(e,t),typeof r!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function If(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Tv.bind(null,e,t,n),t.then(e,e))}function Pf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Af(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vn(-1,1),t.tag=2,Jn(n,t,1))),n.lanes|=1),e)}var mv=jn.ReactCurrentOwner,Ge=!1;function Ue(e,t,n,r){t.child=e===null?zh(t,null,n,r):Hs(t,e.child,n,r)}function Lf(e,t,n,r,s){n=n.render;var i=t.ref;return vs(t,s),r=nd(e,t,n,r,i,s),n=rd(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(ee&&n&&Bc(t),t.flags|=1,Ue(e,t,r,s),t.child)}function Of(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!pd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,fm(e,t,i,r,s)):(e=ml(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ki,n(o,r)&&e.ref===t.ref)return Sn(e,t,s)}return t.flags|=1,e=tr(i,r),e.ref=t.ref,e.return=t,t.child=e}function fm(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ki(i,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,Sn(e,t,s)}return Fu(e,t,n,r,s)}function pm(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(cs,it),it|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(cs,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(cs,it),it|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,K(cs,it),it|=r;return Ue(e,t,s,n),t.child}function hm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fu(e,t,n,r,s){var i=Je(n)?qr:De.current;return i=Vs(t,i),vs(t,s),n=nd(e,t,n,r,i,s),r=rd(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(ee&&r&&Bc(t),t.flags|=1,Ue(e,t,n,s),t.child)}function Df(e,t,n,r,s){if(Je(n)){var i=!0;Al(t)}else i=!1;if(vs(t,s),t.stateNode===null)fl(e,t),um(t,n,r),Du(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wt(c):(c=Je(n)?qr:De.current,c=Vs(t,c));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&bf(t,o,r,c),In=!1;var g=t.memoizedState;o.state=g,Fl(t,r,o,s),u=t.memoizedState,a!==r||g!==u||Xe.current||In?(typeof p=="function"&&(Ou(t,n,p,r),u=t.memoizedState),(a=In||Rf(t,n,a,r,g,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$h(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:_t(t.type,a),o.props=c,h=t.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=wt(u):(u=Je(n)?qr:De.current,u=Vs(t,u));var w=n.getDerivedStateFromProps;(p=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==u)&&bf(t,o,r,u),In=!1,g=t.memoizedState,o.state=g,Fl(t,r,o,s);var x=t.memoizedState;a!==h||g!==x||Xe.current||In?(typeof w=="function"&&(Ou(t,n,w,r),x=t.memoizedState),(c=In||Rf(t,n,c,r,g,x,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Uu(e,t,n,r,i,s)}function Uu(e,t,n,r,s,i){hm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ef(t,n,!1),Sn(e,t,i);r=t.stateNode,mv.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Hs(t,e.child,null,i),t.child=Hs(t,null,a,i)):Ue(e,t,a,i),t.memoizedState=r.state,s&&Ef(t,n,!0),t.child}function mm(e){var t=e.stateNode;t.pendingContext?wf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wf(e,t.context,!1),Jc(e,t.containerInfo)}function Mf(e,t,n,r,s){return Bs(),Wc(s),t.flags|=256,Ue(e,t,n,r),t.child}var zu={dehydrated:null,treeContext:null,retryLane:0};function qu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ym(e,t,n){var r=t.pendingProps,s=te.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),K(te,s&1),e===null)return Au(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ma(o,r,0,null),e=Or(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=qu(n),t.memoizedState=zu,e):od(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return yv(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=tr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=tr(a,i):(i=Or(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?qu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=zu,r}return i=e.child,e=i.sibling,r=tr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function od(e,t){return t=ma({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xo(e,t,n,r){return r!==null&&Wc(r),Hs(t,e.child,null,n),e=od(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yv(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ja(Error(R(422))),Xo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ma({mode:"visible",children:r.children},s,0,null),i=Or(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Hs(t,e.child,null,o),t.child.memoizedState=qu(o),t.memoizedState=zu,i);if(!(t.mode&1))return Xo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(R(419)),r=Ja(i,r,void 0),Xo(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ge||a){if(r=Ne,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,En(e,s),Ot(r,e,s,-1))}return fd(),r=Ja(Error(R(421))),Xo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Rv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,lt=Xn(s.nextSibling),ut=t,ee=!0,Pt=null,e!==null&&(mt[yt++]=yn,mt[yt++]=gn,mt[yt++]=$r,yn=e.id,gn=e.overflow,$r=t),t=od(t,r.children),t.flags|=4096,t)}function Ff(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lu(e.return,t,n)}function Za(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function gm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ue(e,t,r.children,n),r=te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ff(e,n,t);else if(e.tag===19)Ff(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(K(te,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ul(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Za(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ul(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Za(t,!0,n,null,i);break;case"together":Za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Br|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=tr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gv(e,t,n){switch(t.tag){case 3:mm(t),Bs();break;case 5:Vh(t);break;case 1:Je(t.type)&&Al(t);break;case 4:Jc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;K(Dl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(K(te,te.current&1),t.flags|=128,null):n&t.child.childLanes?ym(e,t,n):(K(te,te.current&1),e=Sn(e,t,n),e!==null?e.sibling:null);K(te,te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(te,te.current),r)break;return null;case 22:case 23:return t.lanes=0,pm(e,t,n)}return Sn(e,t,n)}var vm,$u,xm,wm;vm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$u=function(){};xm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Sr(Gt.current);var i=null;switch(n){case"input":s=cu(e,s),r=cu(e,r),i=[];break;case"select":s=re({},s,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":s=pu(e,s),r=pu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Il)}mu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($i.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($i.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&X("scroll",e),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};wm=function(e,t,n,r){n!==r&&(t.flags|=4)};function mi(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vv(e,t,n){var r=t.pendingProps;switch(Hc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Je(t.type)&&Pl(),Pe(t),null;case 3:return r=t.stateNode,Ws(),J(Xe),J(De),ed(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ko(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pt!==null&&(Gu(Pt),Pt=null))),$u(e,t),Pe(t),null;case 5:Zc(t);var s=Sr(eo.current);if(n=t.type,e!==null&&t.stateNode!=null)xm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Pe(t),null}if(e=Sr(Gt.current),Ko(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Qt]=t,r[Ji]=i,e=(t.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(s=0;s<Ei.length;s++)X(Ei[s],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":Wd(r,i),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},X("invalid",r);break;case"textarea":Yd(r,i),X("invalid",r)}mu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yo(r.textContent,a,e),s=["children",""+a]):$i.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&X("scroll",r)}switch(n){case"input":zo(r),Qd(r,i,!0);break;case"textarea":zo(r),Kd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Il)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Qt]=t,e[Ji]=r,vm(e,t,!1,!1),t.stateNode=e;e:{switch(o=yu(n,r),n){case"dialog":X("cancel",e),X("close",e),s=r;break;case"iframe":case"object":case"embed":X("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ei.length;s++)X(Ei[s],e);s=r;break;case"source":X("error",e),s=r;break;case"img":case"image":case"link":X("error",e),X("load",e),s=r;break;case"details":X("toggle",e),s=r;break;case"input":Wd(e,r),s=cu(e,r),X("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=re({},r,{value:void 0}),X("invalid",e);break;case"textarea":Yd(e,r),s=pu(e,r),X("invalid",e);break;default:s=r}mu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Xp(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Kp(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Vi(e,u):typeof u=="number"&&Vi(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($i.hasOwnProperty(i)?u!=null&&i==="onScroll"&&X("scroll",e):u!=null&&bc(e,i,u,o))}switch(n){case"input":zo(e),Qd(e,r,!1);break;case"textarea":zo(e),Kd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?hs(e,!!r.multiple,i,!1):r.defaultValue!=null&&hs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)wm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Sr(eo.current),Sr(Gt.current),Ko(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qt]=t,(i=r.nodeValue!==n)&&(e=ut,e!==null))switch(e.tag){case 3:Yo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=t,t.stateNode=r}return Pe(t),null;case 13:if(J(te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&lt!==null&&t.mode&1&&!(t.flags&128))Fh(),Bs(),t.flags|=98560,i=!1;else if(i=Ko(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Qt]=t}else Bs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),i=!1}else Pt!==null&&(Gu(Pt),Pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||te.current&1?ve===0&&(ve=3):fd())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return Ws(),$u(e,t),e===null&&Gi(t.stateNode.containerInfo),Pe(t),null;case 10:return Kc(t.type._context),Pe(t),null;case 17:return Je(t.type)&&Pl(),Pe(t),null;case 19:if(J(te),i=t.memoizedState,i===null)return Pe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)mi(i,!1);else{if(ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ul(e),o!==null){for(t.flags|=128,mi(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(te,te.current&1|2),t.child}e=e.sibling}i.tail!==null&&le()>Ys&&(t.flags|=128,r=!0,mi(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ul(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),mi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ee)return Pe(t),null}else 2*le()-i.renderingStartTime>Ys&&n!==1073741824&&(t.flags|=128,r=!0,mi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,n=te.current,K(te,r?n&1|2:n&1),t):(Pe(t),null);case 22:case 23:return dd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function xv(e,t){switch(Hc(t),t.tag){case 1:return Je(t.type)&&Pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ws(),J(Xe),J(De),ed(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zc(t),null;case 13:if(J(te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Bs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(te),null;case 4:return Ws(),null;case 10:return Kc(t.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var Jo=!1,Oe=!1,wv=typeof WeakSet=="function"?WeakSet:Set,O=null;function us(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(e,t,r)}else n.current=null}function Vu(e,t,n){try{n()}catch(r){se(e,t,r)}}var Uf=!1;function Ev(e,t){if(Cu=Tl,e=jh(),Vc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,p=0,h=e,g=null;t:for(;;){for(var w;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(w=h.firstChild)!==null;)g=h,h=w;for(;;){if(h===e)break t;if(g===n&&++c===s&&(a=o),g===i&&++p===r&&(u=o),(w=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ku={focusedElem:e,selectionRange:n},Tl=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,T=x.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?S:_t(t.type,S),T);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(_){se(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return x=Uf,Uf=!1,x}function Mi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vu(t,n,i)}s=s.next}while(s!==r)}}function pa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Em(e){var t=e.alternate;t!==null&&(e.alternate=null,Em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[Ji],delete t[bu],delete t[rv],delete t[sv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sm(e){return e.tag===5||e.tag===3||e.tag===4}function zf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Il));else if(r!==4&&(e=e.child,e!==null))for(Hu(e,t,n),e=e.sibling;e!==null;)Hu(e,t,n),e=e.sibling}function Wu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wu(e,t,n),e=e.sibling;e!==null;)Wu(e,t,n),e=e.sibling}var Ce=null,It=!1;function kn(e,t,n){for(n=n.child;n!==null;)_m(e,t,n),n=n.sibling}function _m(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ia,n)}catch{}switch(n.tag){case 5:Oe||us(n,t);case 6:var r=Ce,s=It;Ce=null,kn(e,t,n),Ce=r,It=s,Ce!==null&&(It?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(It?(e=Ce,n=n.stateNode,e.nodeType===8?Wa(e.parentNode,n):e.nodeType===1&&Wa(e,n),Qi(e)):Wa(Ce,n.stateNode));break;case 4:r=Ce,s=It,Ce=n.stateNode.containerInfo,It=!0,kn(e,t,n),Ce=r,It=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vu(n,t,o),s=s.next}while(s!==r)}kn(e,t,n);break;case 1:if(!Oe&&(us(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){se(n,t,a)}kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,kn(e,t,n),Oe=r):kn(e,t,n);break;default:kn(e,t,n)}}function qf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wv),t.forEach(function(r){var s=bv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function St(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ce=a.stateNode,It=!1;break e;case 3:Ce=a.stateNode.containerInfo,It=!0;break e;case 4:Ce=a.stateNode.containerInfo,It=!0;break e}a=a.return}if(Ce===null)throw Error(R(160));_m(i,o,s),Ce=null,It=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){se(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nm(t,e),t=t.sibling}function Nm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),Ft(e),r&4){try{Mi(3,e,e.return),pa(3,e)}catch(S){se(e,e.return,S)}try{Mi(5,e,e.return)}catch(S){se(e,e.return,S)}}break;case 1:St(t,e),Ft(e),r&512&&n!==null&&us(n,n.return);break;case 5:if(St(t,e),Ft(e),r&512&&n!==null&&us(n,n.return),e.flags&32){var s=e.stateNode;try{Vi(s,"")}catch(S){se(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Wp(s,i),yu(a,o);var c=yu(a,i);for(o=0;o<u.length;o+=2){var p=u[o],h=u[o+1];p==="style"?Xp(s,h):p==="dangerouslySetInnerHTML"?Kp(s,h):p==="children"?Vi(s,h):bc(s,p,h,c)}switch(a){case"input":du(s,i);break;case"textarea":Qp(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?hs(s,!!i.multiple,w,!1):g!==!!i.multiple&&(i.defaultValue!=null?hs(s,!!i.multiple,i.defaultValue,!0):hs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ji]=i}catch(S){se(e,e.return,S)}}break;case 6:if(St(t,e),Ft(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){se(e,e.return,S)}}break;case 3:if(St(t,e),Ft(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qi(t.containerInfo)}catch(S){se(e,e.return,S)}break;case 4:St(t,e),Ft(e);break;case 13:St(t,e),Ft(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ud=le())),r&4&&qf(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(c=Oe)||p,St(t,e),Oe=c):St(t,e),Ft(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(O=e,p=e.child;p!==null;){for(h=O=p;O!==null;){switch(g=O,w=g.child,g.tag){case 0:case 11:case 14:case 15:Mi(4,g,g.return);break;case 1:us(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(S){se(r,n,S)}}break;case 5:us(g,g.return);break;case 22:if(g.memoizedState!==null){Vf(h);continue}}w!==null?(w.return=g,O=w):Vf(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Gp("display",o))}catch(S){se(e,e.return,S)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){se(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:St(t,e),Ft(e),r&4&&qf(e);break;case 21:break;default:St(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sm(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vi(s,""),r.flags&=-33);var i=zf(e);Wu(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zf(e);Hu(e,a,o);break;default:throw Error(R(161))}}catch(u){se(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sv(e,t,n){O=e,jm(e)}function jm(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Jo;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Oe;a=Jo;var c=Oe;if(Jo=o,(Oe=u)&&!c)for(O=s;O!==null;)o=O,u=o.child,o.tag===22&&o.memoizedState!==null?Bf(s):u!==null?(u.return=o,O=u):Bf(s);for(;i!==null;)O=i,jm(i),i=i.sibling;O=s,Jo=a,Oe=c}$f(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):$f(e)}}function $f(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||pa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Cf(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cf(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Qi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Oe||t.flags&512&&Bu(t)}catch(g){se(t,t.return,g)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Vf(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Bf(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pa(4,t)}catch(u){se(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){se(t,s,u)}}var i=t.return;try{Bu(t)}catch(u){se(t,i,u)}break;case 5:var o=t.return;try{Bu(t)}catch(u){se(t,o,u)}}}catch(u){se(t,t.return,u)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var _v=Math.ceil,$l=jn.ReactCurrentDispatcher,ld=jn.ReactCurrentOwner,vt=jn.ReactCurrentBatchConfig,B=0,Ne=null,de=null,Te=0,it=0,cs=ar(0),ve=0,so=null,Br=0,ha=0,ad=0,Fi=null,Ke=null,ud=0,Ys=1/0,en=null,Vl=!1,Qu=null,Zn=null,Zo=!1,Wn=null,Bl=0,Ui=0,Yu=null,pl=-1,hl=0;function ze(){return B&6?le():pl!==-1?pl:pl=le()}function er(e){return e.mode&1?B&2&&Te!==0?Te&-Te:ov.transition!==null?(hl===0&&(hl=uh()),hl):(e=W,e!==0||(e=window.event,e=e===void 0?16:yh(e.type)),e):1}function Ot(e,t,n,r){if(50<Ui)throw Ui=0,Yu=null,Error(R(185));ko(e,n,r),(!(B&2)||e!==Ne)&&(e===Ne&&(!(B&2)&&(ha|=n),ve===4&&An(e,Te)),Ze(e,r),n===1&&B===0&&!(t.mode&1)&&(Ys=le()+500,ca&&ur()))}function Ze(e,t){var n=e.callbackNode;o0(e,t);var r=kl(e,e===Ne?Te:0);if(r===0)n!==null&&Jd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jd(n),t===1)e.tag===0?iv(Hf.bind(null,e)):Oh(Hf.bind(null,e)),tv(function(){!(B&6)&&ur()}),n=null;else{switch(ch(r)){case 1:n=Oc;break;case 4:n=lh;break;case 16:n=Cl;break;case 536870912:n=ah;break;default:n=Cl}n=Am(n,Cm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cm(e,t){if(pl=-1,hl=0,B&6)throw Error(R(327));var n=e.callbackNode;if(xs()&&e.callbackNode!==n)return null;var r=kl(e,e===Ne?Te:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Hl(e,r);else{t=r;var s=B;B|=2;var i=Tm();(Ne!==e||Te!==t)&&(en=null,Ys=le()+500,Lr(e,t));do try{Cv();break}catch(a){km(e,a)}while(!0);Yc(),$l.current=i,B=s,de!==null?t=0:(Ne=null,Te=0,t=ve)}if(t!==0){if(t===2&&(s=Eu(e),s!==0&&(r=s,t=Ku(e,s))),t===1)throw n=so,Lr(e,0),An(e,r),Ze(e,le()),n;if(t===6)An(e,r);else{if(s=e.current.alternate,!(r&30)&&!Nv(s)&&(t=Hl(e,r),t===2&&(i=Eu(e),i!==0&&(r=i,t=Ku(e,i))),t===1))throw n=so,Lr(e,0),An(e,r),Ze(e,le()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:yr(e,Ke,en);break;case 3:if(An(e,r),(r&130023424)===r&&(t=ud+500-le(),10<t)){if(kl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ru(yr.bind(null,e,Ke,en),t);break}yr(e,Ke,en);break;case 4:if(An(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Lt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_v(r/1960))-r,10<r){e.timeoutHandle=Ru(yr.bind(null,e,Ke,en),r);break}yr(e,Ke,en);break;case 5:yr(e,Ke,en);break;default:throw Error(R(329))}}}return Ze(e,le()),e.callbackNode===n?Cm.bind(null,e):null}function Ku(e,t){var n=Fi;return e.current.memoizedState.isDehydrated&&(Lr(e,t).flags|=256),e=Hl(e,t),e!==2&&(t=Ke,Ke=n,t!==null&&Gu(t)),e}function Gu(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function Nv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Dt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function An(e,t){for(t&=~ad,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Lt(t),r=1<<n;e[n]=-1,t&=~r}}function Hf(e){if(B&6)throw Error(R(327));xs();var t=kl(e,0);if(!(t&1))return Ze(e,le()),null;var n=Hl(e,t);if(e.tag!==0&&n===2){var r=Eu(e);r!==0&&(t=r,n=Ku(e,r))}if(n===1)throw n=so,Lr(e,0),An(e,t),Ze(e,le()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,Ke,en),Ze(e,le()),null}function cd(e,t){var n=B;B|=1;try{return e(t)}finally{B=n,B===0&&(Ys=le()+500,ca&&ur())}}function Hr(e){Wn!==null&&Wn.tag===0&&!(B&6)&&xs();var t=B;B|=1;var n=vt.transition,r=W;try{if(vt.transition=null,W=1,e)return e()}finally{W=r,vt.transition=n,B=t,!(B&6)&&ur()}}function dd(){it=cs.current,J(cs)}function Lr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ev(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(Hc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pl();break;case 3:Ws(),J(Xe),J(De),ed();break;case 5:Zc(r);break;case 4:Ws();break;case 13:J(te);break;case 19:J(te);break;case 10:Kc(r.type._context);break;case 22:case 23:dd()}n=n.return}if(Ne=e,de=e=tr(e.current,null),Te=it=t,ve=0,so=null,ad=ha=Br=0,Ke=Fi=null,Er!==null){for(t=0;t<Er.length;t++)if(n=Er[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Er=null}return e}function km(e,t){do{var n=de;try{if(Yc(),cl.current=ql,zl){for(var r=ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zl=!1}if(Vr=0,Se=he=ne=null,Di=!1,to=0,ld.current=null,n===null||n.return===null){ve=1,so=t,de=null;break}e:{var i=e,o=n.return,a=n,u=t;if(t=Te,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=a,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=Pf(o);if(w!==null){w.flags&=-257,Af(w,o,a,i,t),w.mode&1&&If(i,c,t),t=w,u=c;var x=t.updateQueue;if(x===null){var S=new Set;S.add(u),t.updateQueue=S}else x.add(u);break e}else{if(!(t&1)){If(i,c,t),fd();break e}u=Error(R(426))}}else if(ee&&a.mode&1){var T=Pf(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Af(T,o,a,i,t),Wc(Qs(u,a));break e}}i=u=Qs(u,a),ve!==4&&(ve=2),Fi===null?Fi=[i]:Fi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=cm(i,u,t);jf(i,m);break e;case 1:a=u;var f=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zn===null||!Zn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=dm(i,a,t);jf(i,_);break e}}i=i.return}while(i!==null)}bm(n)}catch(N){t=N,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Tm(){var e=$l.current;return $l.current=ql,e===null?ql:e}function fd(){(ve===0||ve===3||ve===2)&&(ve=4),Ne===null||!(Br&268435455)&&!(ha&268435455)||An(Ne,Te)}function Hl(e,t){var n=B;B|=2;var r=Tm();(Ne!==e||Te!==t)&&(en=null,Lr(e,t));do try{jv();break}catch(s){km(e,s)}while(!0);if(Yc(),B=n,$l.current=r,de!==null)throw Error(R(261));return Ne=null,Te=0,ve}function jv(){for(;de!==null;)Rm(de)}function Cv(){for(;de!==null&&!Xg();)Rm(de)}function Rm(e){var t=Pm(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?bm(e):de=t,ld.current=null}function bm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xv(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ve=6,de=null;return}}else if(n=vv(n,t,it),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);ve===0&&(ve=5)}function yr(e,t,n){var r=W,s=vt.transition;try{vt.transition=null,W=1,kv(e,t,n,r)}finally{vt.transition=s,W=r}return null}function kv(e,t,n,r){do xs();while(Wn!==null);if(B&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(l0(e,i),e===Ne&&(de=Ne=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zo||(Zo=!0,Am(Cl,function(){return xs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vt.transition,vt.transition=null;var o=W;W=1;var a=B;B|=4,ld.current=null,Ev(e,n),Nm(n,e),Q0(ku),Tl=!!Cu,ku=Cu=null,e.current=n,Sv(n),Jg(),B=a,W=o,vt.transition=i}else e.current=n;if(Zo&&(Zo=!1,Wn=e,Bl=s),i=e.pendingLanes,i===0&&(Zn=null),t0(n.stateNode),Ze(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vl)throw Vl=!1,e=Qu,Qu=null,e;return Bl&1&&e.tag!==0&&xs(),i=e.pendingLanes,i&1?e===Yu?Ui++:(Ui=0,Yu=e):Ui=0,ur(),null}function xs(){if(Wn!==null){var e=ch(Bl),t=vt.transition,n=W;try{if(vt.transition=null,W=16>e?16:e,Wn===null)var r=!1;else{if(e=Wn,Wn=null,Bl=0,B&6)throw Error(R(331));var s=B;for(B|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(O=c;O!==null;){var p=O;switch(p.tag){case 0:case 11:case 15:Mi(8,p,i)}var h=p.child;if(h!==null)h.return=p,O=h;else for(;O!==null;){p=O;var g=p.sibling,w=p.return;if(Em(p),p===c){O=null;break}if(g!==null){g.return=w,O=g;break}O=w}}}var x=i.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mi(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var f=e.current;for(O=f;O!==null;){o=O;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,O=y;else e:for(o=f;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pa(9,a)}}catch(N){se(a,a.return,N)}if(a===o){O=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,O=_;break e}O=a.return}}if(B=s,ur(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ia,e)}catch{}r=!0}return r}finally{W=n,vt.transition=t}}return!1}function Wf(e,t,n){t=Qs(n,t),t=cm(e,t,1),e=Jn(e,t,1),t=ze(),e!==null&&(ko(e,1,t),Ze(e,t))}function se(e,t,n){if(e.tag===3)Wf(e,e,n);else for(;t!==null;){if(t.tag===3){Wf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zn===null||!Zn.has(r))){e=Qs(n,e),e=dm(t,e,1),t=Jn(t,e,1),e=ze(),t!==null&&(ko(t,1,e),Ze(t,e));break}}t=t.return}}function Tv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,Ne===e&&(Te&n)===n&&(ve===4||ve===3&&(Te&130023424)===Te&&500>le()-ud?Lr(e,0):ad|=n),Ze(e,t)}function Im(e,t){t===0&&(e.mode&1?(t=Vo,Vo<<=1,!(Vo&130023424)&&(Vo=4194304)):t=1);var n=ze();e=En(e,t),e!==null&&(ko(e,t,n),Ze(e,n))}function Rv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Im(e,n)}function bv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Im(e,n)}var Pm;Pm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,gv(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,ee&&t.flags&1048576&&Dh(t,Ol,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fl(e,t),e=t.pendingProps;var s=Vs(t,De.current);vs(t,n),s=nd(null,t,r,e,s,n);var i=rd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(r)?(i=!0,Al(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xc(t),s.updater=fa,t.stateNode=s,s._reactInternals=t,Du(t,r,e,n),t=Uu(null,t,r,!0,i,n)):(t.tag=0,ee&&i&&Bc(t),Ue(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Pv(r),e=_t(r,e),s){case 0:t=Fu(null,t,r,e,n);break e;case 1:t=Df(null,t,r,e,n);break e;case 11:t=Lf(null,t,r,e,n);break e;case 14:t=Of(null,t,r,_t(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Fu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Df(e,t,r,s,n);case 3:e:{if(mm(t),e===null)throw Error(R(387));r=t.pendingProps,i=t.memoizedState,s=i.element,$h(e,t),Fl(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Qs(Error(R(423)),t),t=Mf(e,t,r,n,s);break e}else if(r!==s){s=Qs(Error(R(424)),t),t=Mf(e,t,r,n,s);break e}else for(lt=Xn(t.stateNode.containerInfo.firstChild),ut=t,ee=!0,Pt=null,n=zh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bs(),r===s){t=Sn(e,t,n);break e}Ue(e,t,r,n)}t=t.child}return t;case 5:return Vh(t),e===null&&Au(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Tu(r,s)?o=null:i!==null&&Tu(r,i)&&(t.flags|=32),hm(e,t),Ue(e,t,o,n),t.child;case 6:return e===null&&Au(t),null;case 13:return ym(e,t,n);case 4:return Jc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hs(t,null,r,n):Ue(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Lf(e,t,r,s,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,K(Dl,r._currentValue),r._currentValue=o,i!==null)if(Dt(i.value,o)){if(i.children===s.children&&!Xe.current){t=Sn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=vn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Lu(i.return,n,t),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Lu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ue(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,vs(t,n),s=wt(s),r=r(s),t.flags|=1,Ue(e,t,r,n),t.child;case 14:return r=t.type,s=_t(r,t.pendingProps),s=_t(r.type,s),Of(e,t,r,s,n);case 15:return fm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),fl(e,t),t.tag=1,Je(r)?(e=!0,Al(t)):e=!1,vs(t,n),um(t,r,s),Du(t,r,s,n),Uu(null,t,r,!0,e,n);case 19:return gm(e,t,n);case 22:return pm(e,t,n)}throw Error(R(156,t.tag))};function Am(e,t){return oh(e,t)}function Iv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,n,r){return new Iv(e,t,n,r)}function pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pv(e){if(typeof e=="function")return pd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pc)return 11;if(e===Ac)return 14}return 2}function tr(e,t){var n=e.alternate;return n===null?(n=gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ml(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")pd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case es:return Or(n.children,s,i,t);case Ic:o=8,s|=8;break;case ou:return e=gt(12,n,t,s|2),e.elementType=ou,e.lanes=i,e;case lu:return e=gt(13,n,t,s),e.elementType=lu,e.lanes=i,e;case au:return e=gt(19,n,t,s),e.elementType=au,e.lanes=i,e;case Vp:return ma(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qp:o=10;break e;case $p:o=9;break e;case Pc:o=11;break e;case Ac:o=14;break e;case bn:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=gt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Or(e,t,n,r){return e=gt(7,e,r,t),e.lanes=n,e}function ma(e,t,n,r){return e=gt(22,e,r,t),e.elementType=Vp,e.lanes=n,e.stateNode={isHidden:!1},e}function eu(e,t,n){return e=gt(6,e,null,t),e.lanes=n,e}function tu(e,t,n){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Av(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oa(0),this.expirationTimes=Oa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hd(e,t,n,r,s,i,o,a,u){return e=new Av(e,t,n,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xc(i),e}function Lv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lm(e){if(!e)return sr;e=e._reactInternals;e:{if(Yr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Je(n))return Lh(e,n,t)}return t}function Om(e,t,n,r,s,i,o,a,u){return e=hd(n,r,!0,e,s,i,o,a,u),e.context=Lm(null),n=e.current,r=ze(),s=er(n),i=vn(r,s),i.callback=t??null,Jn(n,i,s),e.current.lanes=s,ko(e,s,r),Ze(e,r),e}function ya(e,t,n,r){var s=t.current,i=ze(),o=er(s);return n=Lm(n),t.context===null?t.context=n:t.pendingContext=n,t=vn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jn(s,t,o),e!==null&&(Ot(e,s,o,i),ul(e,s,o)),o}function Wl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function md(e,t){Qf(e,t),(e=e.alternate)&&Qf(e,t)}function Ov(){return null}var Dm=typeof reportError=="function"?reportError:function(e){console.error(e)};function yd(e){this._internalRoot=e}ga.prototype.render=yd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));ya(e,t,null,null)};ga.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){ya(null,e,null,null)}),t[wn]=null}};function ga(e){this._internalRoot=e}ga.prototype.unstable_scheduleHydration=function(e){if(e){var t=ph();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pn.length&&t!==0&&t<Pn[n].priority;n++);Pn.splice(n,0,e),n===0&&mh(e)}};function gd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function va(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yf(){}function Dv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Wl(o);i.call(c)}}var o=Om(t,r,e,0,null,!1,!1,"",Yf);return e._reactRootContainer=o,e[wn]=o.current,Gi(e.nodeType===8?e.parentNode:e),Hr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Wl(u);a.call(c)}}var u=hd(e,0,!1,null,null,!1,!1,"",Yf);return e._reactRootContainer=u,e[wn]=u.current,Gi(e.nodeType===8?e.parentNode:e),Hr(function(){ya(t,u,n,r)}),u}function xa(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Wl(o);a.call(u)}}ya(t,o,e,s)}else o=Dv(n,t,e,s,r);return Wl(o)}dh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wi(t.pendingLanes);n!==0&&(Dc(t,n|1),Ze(t,le()),!(B&6)&&(Ys=le()+500,ur()))}break;case 13:Hr(function(){var r=En(e,1);if(r!==null){var s=ze();Ot(r,e,1,s)}}),md(e,1)}};Mc=function(e){if(e.tag===13){var t=En(e,134217728);if(t!==null){var n=ze();Ot(t,e,134217728,n)}md(e,134217728)}};fh=function(e){if(e.tag===13){var t=er(e),n=En(e,t);if(n!==null){var r=ze();Ot(n,e,t,r)}md(e,t)}};ph=function(){return W};hh=function(e,t){var n=W;try{return W=e,t()}finally{W=n}};vu=function(e,t,n){switch(t){case"input":if(du(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ua(r);if(!s)throw Error(R(90));Hp(r),du(r,s)}}}break;case"textarea":Qp(e,n);break;case"select":t=n.value,t!=null&&hs(e,!!n.multiple,t,!1)}};eh=cd;th=Hr;var Mv={usingClientEntryPoint:!1,Events:[Ro,ss,ua,Jp,Zp,cd]},yi={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fv={bundleType:yi.bundleType,version:yi.version,rendererPackageName:yi.rendererPackageName,rendererConfig:yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sh(e),e===null?null:e.stateNode},findFiberByHostInstance:yi.findFiberByHostInstance||Ov,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{ia=el.inject(Fv),Kt=el}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gd(t))throw Error(R(200));return Lv(e,t,null,n)};dt.createRoot=function(e,t){if(!gd(e))throw Error(R(299));var n=!1,r="",s=Dm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=hd(e,1,!1,null,null,n,!1,r,s),e[wn]=t.current,Gi(e.nodeType===8?e.parentNode:e),new yd(t)};dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=sh(t),e=e===null?null:e.stateNode,e};dt.flushSync=function(e){return Hr(e)};dt.hydrate=function(e,t,n){if(!va(t))throw Error(R(200));return xa(null,e,t,!0,n)};dt.hydrateRoot=function(e,t,n){if(!gd(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Dm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Om(t,null,e,1,n??null,s,!1,i,o),e[wn]=t.current,Gi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ga(t)};dt.render=function(e,t,n){if(!va(t))throw Error(R(200));return xa(null,e,t,!1,n)};dt.unmountComponentAtNode=function(e){if(!va(e))throw Error(R(40));return e._reactRootContainer?(Hr(function(){xa(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1};dt.unstable_batchedUpdates=cd;dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!va(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return xa(e,t,n,!1,r)};dt.version="18.3.1-next-f1338f8080-20240426";function Mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mm)}catch(e){console.error(e)}}Mm(),Mp.exports=dt;var Uv=Mp.exports,Kf=Uv;su.createRoot=Kf.createRoot,su.hydrateRoot=Kf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},io.apply(this,arguments)}var Qn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qn||(Qn={}));const Gf="popstate";function zv(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Xu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ql(s)}return $v(t,n,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qv(){return Math.random().toString(36).substr(2,8)}function Xf(e,t){return{usr:e.state,key:e.key,idx:t}}function Xu(e,t,n,r){return n===void 0&&(n=null),io({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ni(t):t,{state:n,key:t&&t.key||r||qv()})}function Ql(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ni(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function $v(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Qn.Pop,u=null,c=p();c==null&&(c=0,o.replaceState(io({},o.state,{idx:c}),""));function p(){return(o.state||{idx:null}).idx}function h(){a=Qn.Pop;let T=p(),m=T==null?null:T-c;c=T,u&&u({action:a,location:S.location,delta:m})}function g(T,m){a=Qn.Push;let f=Xu(S.location,T,m);c=p()+1;let y=Xf(f,c),_=S.createHref(f);try{o.pushState(y,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(_)}i&&u&&u({action:a,location:S.location,delta:1})}function w(T,m){a=Qn.Replace;let f=Xu(S.location,T,m);c=p();let y=Xf(f,c),_=S.createHref(f);o.replaceState(y,"",_),i&&u&&u({action:a,location:S.location,delta:0})}function x(T){let m=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof T=="string"?T:Ql(T);return f=f.replace(/ $/,"%20"),ae(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let S={get action(){return a},get location(){return e(s,o)},listen(T){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Gf,h),u=T,()=>{s.removeEventListener(Gf,h),u=null}},createHref(T){return t(s,T)},createURL:x,encodeLocation(T){let m=x(T);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:g,replace:w,go(T){return o.go(T)}};return S}var Jf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jf||(Jf={}));function Vv(e,t,n){return n===void 0&&(n="/"),Bv(e,t,n)}function Bv(e,t,n,r){let s=typeof t=="string"?ni(t):t,i=vd(s.pathname||"/",n);if(i==null)return null;let o=Um(e);Hv(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=rx(i);a=ex(o[u],c)}return a}function Um(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(ae(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=nr([r,u.relativePath]),p=n.concat(u);i.children&&i.children.length>0&&(ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Um(i.children,t,p,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Jv(c,i.index),routesMeta:p})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of zm(i.path))s(i,o,u)}),t}function zm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zm(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Hv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Zv(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Wv=/^:[\w-]+$/,Qv=3,Yv=2,Kv=1,Gv=10,Xv=-2,Zf=e=>e==="*";function Jv(e,t){let n=e.split("/"),r=n.length;return n.some(Zf)&&(r+=Xv),t&&(r+=Yv),n.filter(s=>!Zf(s)).reduce((s,i)=>s+(Wv.test(i)?Qv:i===""?Kv:Gv),r)}function Zv(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function ex(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",h=tx({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},p),g=u.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:nr([i,h.pathname]),pathnameBase:lx(nr([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=nr([i,h.pathnameBase]))}return o}function tx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=nx(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,p,h)=>{let{paramName:g,isOptional:w}=p;if(g==="*"){let S=a[h]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const x=a[h];return w&&!x?c[g]=void 0:c[g]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function nx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Fm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function rx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ni(e):e;return{pathname:n?n.startsWith("/")?n:ix(n,t):t,search:ax(r),hash:ux(s)}}function ix(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function nu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ox(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xd(e,t){let n=ox(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wd(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ni(e):(s=io({},e),ae(!s.pathname||!s.pathname.includes("?"),nu("?","pathname","search",s)),ae(!s.pathname||!s.pathname.includes("#"),nu("#","pathname","hash",s)),ae(!s.search||!s.search.includes("#"),nu("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}a=h>=0?t[h]:"/"}let u=sx(s,a),c=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||p)&&(u.pathname+="/"),u}const nr=e=>e.join("/").replace(/\/\/+/g,"/"),lx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ax=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ux=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qm=["post","put","patch","delete"];new Set(qm);const dx=["get",...qm];new Set(dx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oo.apply(this,arguments)}const Ed=v.createContext(null),fx=v.createContext(null),cr=v.createContext(null),wa=v.createContext(null),Cn=v.createContext({outlet:null,matches:[],isDataRoute:!1}),$m=v.createContext(null);function px(e,t){let{relative:n}=t===void 0?{}:t;ri()||ae(!1);let{basename:r,navigator:s}=v.useContext(cr),{hash:i,pathname:o,search:a}=Bm(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:nr([r,o])),s.createHref({pathname:u,search:a,hash:i})}function ri(){return v.useContext(wa)!=null}function Io(){return ri()||ae(!1),v.useContext(wa).location}function Vm(e){v.useContext(cr).static||v.useLayoutEffect(e)}function Po(){let{isDataRoute:e}=v.useContext(Cn);return e?Tx():hx()}function hx(){ri()||ae(!1);let e=v.useContext(Ed),{basename:t,future:n,navigator:r}=v.useContext(cr),{matches:s}=v.useContext(Cn),{pathname:i}=Io(),o=JSON.stringify(xd(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return Vm(()=>{a.current=!0}),v.useCallback(function(c,p){if(p===void 0&&(p={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=wd(c,JSON.parse(o),i,p.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:nr([t,h.pathname])),(p.replace?r.replace:r.push)(h,p.state,p)},[t,r,o,i,e])}const mx=v.createContext(null);function yx(e){let t=v.useContext(Cn).outlet;return t&&v.createElement(mx.Provider,{value:e},t)}function Bm(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(cr),{matches:s}=v.useContext(Cn),{pathname:i}=Io(),o=JSON.stringify(xd(s,r.v7_relativeSplatPath));return v.useMemo(()=>wd(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function gx(e,t){return vx(e,t)}function vx(e,t,n,r){ri()||ae(!1);let{navigator:s}=v.useContext(cr),{matches:i}=v.useContext(Cn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Io(),p;if(t){var h;let T=typeof t=="string"?ni(t):t;u==="/"||(h=T.pathname)!=null&&h.startsWith(u)||ae(!1),p=T}else p=c;let g=p.pathname||"/",w=g;if(u!=="/"){let T=u.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=Vv(e,{pathname:w}),S=_x(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:nr([u,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:nr([u,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return t&&S?v.createElement(wa.Provider,{value:{location:oo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Qn.Pop}},S):S}function xx(){let e=kx(),t=cx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const wx=v.createElement(xx,null);class Ex extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Cn.Provider,{value:this.props.routeContext},v.createElement($m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sx(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(Ed);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Cn.Provider,{value:t},r)}function _x(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let p=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);p>=0||ae(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let h=o[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=p),h.route.id){let{loaderData:g,errors:w}=n,x=h.route.loader&&g[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||x){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((p,h,g)=>{let w,x=!1,S=null,T=null;n&&(w=a&&h.route.id?a[h.route.id]:void 0,S=h.route.errorElement||wx,u&&(c<0&&g===0?(Rx("route-fallback"),x=!0,T=null):c===g&&(x=!0,T=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,g+1)),f=()=>{let y;return w?y=S:x?y=T:h.route.Component?y=v.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=p,v.createElement(Sx,{match:h,routeContext:{outlet:p,matches:m,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?v.createElement(Ex,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var Hm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hm||{}),Wm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wm||{});function Nx(e){let t=v.useContext(Ed);return t||ae(!1),t}function jx(e){let t=v.useContext(fx);return t||ae(!1),t}function Cx(e){let t=v.useContext(Cn);return t||ae(!1),t}function Qm(e){let t=Cx(),n=t.matches[t.matches.length-1];return n.route.id||ae(!1),n.route.id}function kx(){var e;let t=v.useContext($m),n=jx(),r=Qm();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Tx(){let{router:e}=Nx(Hm.UseNavigateStable),t=Qm(Wm.UseNavigateStable),n=v.useRef(!1);return Vm(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,oo({fromRouteId:t},i)))},[e,t])}const ep={};function Rx(e,t,n){ep[e]||(ep[e]=!0)}function bx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ju(e){let{to:t,replace:n,state:r,relative:s}=e;ri()||ae(!1);let{future:i,static:o}=v.useContext(cr),{matches:a}=v.useContext(Cn),{pathname:u}=Io(),c=Po(),p=wd(t,xd(a,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(p);return v.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Ix(e){return yx(e.context)}function Tn(e){ae(!1)}function Px(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Qn.Pop,navigator:i,static:o=!1,future:a}=e;ri()&&ae(!1);let u=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:u,navigator:i,static:o,future:oo({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=ni(r));let{pathname:p="/",search:h="",hash:g="",state:w=null,key:x="default"}=r,S=v.useMemo(()=>{let T=vd(p,u);return T==null?null:{location:{pathname:T,search:h,hash:g,state:w,key:x},navigationType:s}},[u,p,h,g,w,x,s]);return S==null?null:v.createElement(cr.Provider,{value:c},v.createElement(wa.Provider,{children:n,value:S}))}function Ax(e){let{children:t,location:n}=e;return gx(Zu(t),n)}new Promise(()=>{});function Zu(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Zu(r.props.children,i));return}r.type!==Tn&&ae(!1),!r.props.index||!r.props.children||ae(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zu(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(this,arguments)}function Lx(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Ox(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Dx(e,t){return e.button===0&&(!t||t==="_self")&&!Ox(e)}const Mx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fx="6";try{window.__reactRouterVersion=Fx}catch{}const Ux="startTransition",tp=Tg[Ux];function zx(e){let{basename:t,children:n,future:r,window:s}=e,i=v.useRef();i.current==null&&(i.current=zv({window:s,v5Compat:!0}));let o=i.current,[a,u]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},p=v.useCallback(h=>{c&&tp?tp(()=>u(h)):u(h)},[u,c]);return v.useLayoutEffect(()=>o.listen(p),[o,p]),v.useEffect(()=>bx(r),[r]),v.createElement(Px,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const qx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Si=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:p,viewTransition:h}=t,g=Lx(t,Mx),{basename:w}=v.useContext(cr),x,S=!1;if(typeof c=="string"&&$x.test(c)&&(x=c,qx))try{let y=new URL(window.location.href),_=c.startsWith("//")?new URL(y.protocol+c):new URL(c),N=vd(_.pathname,w);_.origin===y.origin&&N!=null?c=N+_.search+_.hash:S=!0}catch{}let T=px(c,{relative:s}),m=Vx(c,{replace:o,state:a,target:u,preventScrollReset:p,relative:s,viewTransition:h});function f(y){r&&r(y),y.defaultPrevented||m(y)}return v.createElement("a",ec({},g,{href:x||T,onClick:S||i?r:f,ref:n,target:u}))});var np;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(np||(np={}));var rp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rp||(rp={}));function Vx(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,u=Po(),c=Io(),p=Bm(e,{relative:o});return v.useCallback(h=>{if(Dx(h,n)){h.preventDefault();let g=r!==void 0?r:Ql(c)===Ql(p);u(e,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,p,r,s,n,e,i,o,a])}let Bx={data:""},Hx=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Bx,Wx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Qx=/\/\*[^]*?\*\/|  +/g,sp=/\n+/g,Ln=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Ln(o,i):i+"{"+Ln(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=Ln(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ln.p?Ln.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Zt={},Ym=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Ym(e[n]);return t}return e},Yx=(e,t,n,r,s)=>{let i=Ym(e),o=Zt[i]||(Zt[i]=(u=>{let c=0,p=11;for(;c<u.length;)p=101*p+u.charCodeAt(c++)>>>0;return"go"+p})(i));if(!Zt[o]){let u=i!==e?e:(c=>{let p,h,g=[{}];for(;p=Wx.exec(c.replace(Qx,""));)p[4]?g.shift():p[3]?(h=p[3].replace(sp," ").trim(),g.unshift(g[0][h]=g[0][h]||{})):g[0][p[1]]=p[2].replace(sp," ").trim();return g[0]})(e);Zt[o]=Ln(s?{["@keyframes "+o]:u}:u,n?"":"."+o)}let a=n&&Zt.g?Zt.g:null;return n&&(Zt.g=Zt[o]),((u,c,p,h)=>{h?c.data=c.data.replace(h,u):c.data.indexOf(u)===-1&&(c.data=p?u+c.data:c.data+u)})(Zt[o],t,r,a),o},Kx=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let a=o(n),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=u?"."+u:a&&typeof a=="object"?a.props?"":Ln(a,""):a===!1?"":a}return r+s+(o??"")},"");function Ea(e){let t=this||{},n=e.call?e(t.p):e;return Yx(n.unshift?n.raw?Kx(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,Hx(t.target),t.g,t.o,t.k)}let Km,tc,nc;Ea.bind({g:1});let _n=Ea.bind({k:1});function Gx(e,t,n,r){Ln.p=t,Km=e,tc=n,nc=r}function dr(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),u=a.className||s.className;n.p=Object.assign({theme:tc&&tc()},a),n.o=/ *go\d+/.test(u),a.className=Ea.apply(n,r)+(u?" "+u:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),nc&&c[0]&&nc(a),Km(c,a)}return s}}var Xx=e=>typeof e=="function",Yl=(e,t)=>Xx(e)?e(t):e,Jx=(()=>{let e=0;return()=>(++e).toString()})(),Gm=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Zx=20,Sd="default",Xm=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return Xm(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},yl=[],Jm={toasts:[],pausedAt:void 0,settings:{toastLimit:Zx}},Yt={},Zm=(e,t=Sd)=>{Yt[t]=Xm(Yt[t]||Jm,e),yl.forEach(([n,r])=>{n===t&&r(Yt[t])})},ey=e=>Object.keys(Yt).forEach(t=>Zm(e,t)),ew=e=>Object.keys(Yt).find(t=>Yt[t].toasts.some(n=>n.id===e)),Sa=(e=Sd)=>t=>{Zm(t,e)},tw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},nw=(e={},t=Sd)=>{let[n,r]=v.useState(Yt[t]||Jm),s=v.useRef(Yt[t]);v.useEffect(()=>(s.current!==Yt[t]&&r(Yt[t]),yl.push([t,r]),()=>{let o=yl.findIndex(([a])=>a===t);o>-1&&yl.splice(o,1)}),[t]);let i=n.toasts.map(o=>{var a,u,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||tw[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...n,toasts:i}},rw=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Jx()}),Ao=e=>(t,n)=>{let r=rw(t,e,n);return Sa(r.toasterId||ew(r.id))({type:2,toast:r}),r.id},me=(e,t)=>Ao("blank")(e,t);me.error=Ao("error");me.success=Ao("success");me.loading=Ao("loading");me.custom=Ao("custom");me.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Sa(t)(n):ey(n)};me.dismissAll=e=>me.dismiss(void 0,e);me.remove=(e,t)=>{let n={type:4,toastId:e};t?Sa(t)(n):ey(n)};me.removeAll=e=>me.remove(void 0,e);me.promise=(e,t,n)=>{let r=me.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Yl(t.success,s):void 0;return i?me.success(i,{id:r,...n,...n==null?void 0:n.success}):me.dismiss(r),s}).catch(s=>{let i=t.error?Yl(t.error,s):void 0;i?me.error(i,{id:r,...n,...n==null?void 0:n.error}):me.dismiss(r)}),e};var sw=1e3,iw=(e,t="default")=>{let{toasts:n,pausedAt:r}=nw(e,t),s=v.useRef(new Map).current,i=v.useCallback((h,g=sw)=>{if(s.has(h))return;let w=setTimeout(()=>{s.delete(h),o({type:4,toastId:h})},g);s.set(h,w)},[]);v.useEffect(()=>{if(r)return;let h=Date.now(),g=n.map(w=>{if(w.duration===1/0)return;let x=(w.duration||0)+w.pauseDuration-(h-w.createdAt);if(x<0){w.visible&&me.dismiss(w.id);return}return setTimeout(()=>me.dismiss(w.id,t),x)});return()=>{g.forEach(w=>w&&clearTimeout(w))}},[n,r,t]);let o=v.useCallback(Sa(t),[t]),a=v.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=v.useCallback((h,g)=>{o({type:1,toast:{id:h,height:g}})},[o]),c=v.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),p=v.useCallback((h,g)=>{let{reverseOrder:w=!1,gutter:x=8,defaultPosition:S}=g||{},T=n.filter(y=>(y.position||S)===(h.position||S)&&y.height),m=T.findIndex(y=>y.id===h.id),f=T.filter((y,_)=>_<m&&y.visible).length;return T.filter(y=>y.visible).slice(...w?[f+1]:[0,f]).reduce((y,_)=>y+(_.height||0)+x,0)},[n]);return v.useEffect(()=>{n.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let g=s.get(h.id);g&&(clearTimeout(g),s.delete(h.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:u,startPause:a,endPause:c,calculateOffset:p}}},ow=_n`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,lw=_n`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aw=_n`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,uw=dr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ow} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${lw} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${aw} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,cw=_n`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,dw=dr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${cw} 1s linear infinite;
`,fw=_n`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pw=_n`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hw=dr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pw} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mw=dr("div")`
  position: absolute;
`,yw=dr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gw=_n`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vw=dr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gw} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,xw=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?v.createElement(vw,null,t):t:n==="blank"?null:v.createElement(yw,null,v.createElement(dw,{...r}),n!=="loading"&&v.createElement(mw,null,n==="error"?v.createElement(uw,{...r}):v.createElement(hw,{...r})))},ww=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ew=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Sw="0%{opacity:0;} 100%{opacity:1;}",_w="0%{opacity:1;} 100%{opacity:0;}",Nw=dr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jw=dr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Cw=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Gm()?[Sw,_w]:[ww(n),Ew(n)];return{animation:t?`${_n(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_n(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},kw=v.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?Cw(e.position||t||"top-center",e.visible):{opacity:0},i=v.createElement(xw,{toast:e}),o=v.createElement(jw,{...e.ariaProps},Yl(e.message,e));return v.createElement(Nw,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):v.createElement(v.Fragment,null,i,o))});Gx(v.createElement);var Tw=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=v.useCallback(o=>{if(o){let a=()=>{let u=o.getBoundingClientRect().height;r(e,u)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return v.createElement("div",{ref:i,className:t,style:n},s)},Rw=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Gm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},bw=Ea`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,tl=16,Iw=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:a})=>{let{toasts:u,handlers:c}=iw(n,i);return v.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:tl,left:tl,right:tl,bottom:tl,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(p=>{let h=p.position||t,g=c.calculateOffset(p,{reverseOrder:e,gutter:r,defaultPosition:t}),w=Rw(h,g);return v.createElement(Tw,{id:p.id,key:p.id,onHeightUpdate:c.updateHeight,className:p.visible?bw:"",style:w},p.type==="custom"?Yl(p.message,p):s?s(p):v.createElement(kw,{toast:p,position:h}))}))},M=me;class Y extends Error{constructor(n,r,s,i){r!==void 0&&(n=`${r}: ${n}`);super(n,{cause:i});H(this,"code");H(this,"rawCode");this.code=r,this.rawCode=s,this.name="LibsqlError"}}function Pw(e){const t=Aw.exec(e);if(t===null)throw new Y(`The URL '${e}' is not in a valid format`,"URL_INVALID");const n=t.groups,r=n.scheme,s=n.authority!==void 0?Lw(n.authority):void 0,i=Dr(n.path),o=n.query!==void 0?Dw(n.query):void 0,a=n.fragment!==void 0?Dr(n.fragment):void 0;return{scheme:r,authority:s,path:i,query:o,fragment:a}}const Aw=(()=>{const e="(?<scheme>[A-Za-z][A-Za-z.+-]*)",t="(?<authority>[^/?#]*)",n="(?<path>[^?#]*)",r="(?<query>[^#]*)",s="(?<fragment>.*)";return new RegExp(`^${e}:(//${t})?${n}(\\?${r})?(#${s})?$`,"su")})();function Lw(e){const t=Ow.exec(e);if(t===null)throw new Y("The authority part of the URL is not in a valid format","URL_INVALID");const n=t.groups,r=Dr(n.host_br??n.host),s=n.port?parseInt(n.port,10):void 0,i=n.username!==void 0?{username:Dr(n.username),password:n.password!==void 0?Dr(n.password):void 0}:void 0;return{host:r,port:s,userinfo:i}}const Ow=new RegExp("^((?<username>[^:]*)(:(?<password>.*))?@)?((?<host>[^:\\[\\]]*)|(\\[(?<host_br>[^\\[\\]]*)\\]))(:(?<port>[0-9]*))?$","su");function Dw(e){const t=e.split("&"),n=[];for(const r of t){if(r==="")continue;let s,i;const o=r.indexOf("=");o<0?(s=r,i=""):(s=r.substring(0,o),i=r.substring(o+1)),n.push({key:Dr(s.replaceAll("+"," ")),value:Dr(i.replaceAll("+"," "))})}return{pairs:n}}function Dr(e){try{return decodeURIComponent(e)}catch(t){throw t instanceof URIError?new Y(`URL component has invalid percent encoding: ${t}`,"URL_INVALID",void 0,t):t}}function rc(e,t,n){if(t===void 0)throw new Y(`URL with scheme ${JSON.stringify(e+":")} requires authority (the "//" part)`,"URL_INVALID");const r=`${e}:`,s=Mw(t.host),i=Fw(t.port),a=`//${Uw(t.userinfo)}${s}${i}`;let u=n.split("/").map(encodeURIComponent).join("/");return u!==""&&!u.startsWith("/")&&(u="/"+u),new URL(`${r}${a}${u}`)}function Mw(e){return e.includes(":")?`[${encodeURI(e)}]`:encodeURI(e)}function Fw(e){return e!==void 0?`:${e}`:""}function Uw(e){if(e===void 0)return"";const t=encodeURIComponent(e.username),n=e.password!==void 0?`:${encodeURIComponent(e.password)}`:"";return`${t}${n}@`}const ty="3.7.8",zw=ty,si=typeof Buffer=="function",ip=typeof TextDecoder=="function"?new TextDecoder:void 0,op=typeof TextEncoder=="function"?new TextEncoder:void 0,qw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_i=Array.prototype.slice.call(qw),nl=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(_i),$w=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ke=String.fromCharCode.bind(String),lp=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),ny=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),ry=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),sy=e=>{let t,n,r,s,i="";const o=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(s=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|s,i+=_i[t>>18&63]+_i[t>>12&63]+_i[t>>6&63]+_i[t&63]}return o?i.slice(0,o-3)+"===".substring(o):i},_d=typeof btoa=="function"?e=>btoa(e):si?e=>Buffer.from(e,"binary").toString("base64"):sy,sc=si?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,s=e.length;r<s;r+=4096)n.push(ke.apply(null,e.subarray(r,r+4096)));return _d(n.join(""))},gl=(e,t=!1)=>t?ny(sc(e)):sc(e),Vw=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?ke(192|t>>>6)+ke(128|t&63):ke(224|t>>>12&15)+ke(128|t>>>6&63)+ke(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return ke(240|t>>>18&7)+ke(128|t>>>12&63)+ke(128|t>>>6&63)+ke(128|t&63)}},Bw=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,iy=e=>e.replace(Bw,Vw),ap=si?e=>Buffer.from(e,"utf8").toString("base64"):op?e=>sc(op.encode(e)):e=>_d(iy(e)),ws=(e,t=!1)=>t?ny(ap(e)):ap(e),up=e=>ws(e,!0),Hw=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Ww=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return ke((n>>>10)+55296)+ke((n&1023)+56320);case 3:return ke((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return ke((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},oy=e=>e.replace(Hw,Ww),ly=e=>{if(e=e.replace(/\s+/g,""),!$w.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n,r,s=[];for(let i=0;i<e.length;)t=nl[e.charAt(i++)]<<18|nl[e.charAt(i++)]<<12|(n=nl[e.charAt(i++)])<<6|(r=nl[e.charAt(i++)]),n===64?s.push(ke(t>>16&255)):r===64?s.push(ke(t>>16&255,t>>8&255)):s.push(ke(t>>16&255,t>>8&255,t&255));return s.join("")},Nd=typeof atob=="function"?e=>atob(ry(e)):si?e=>Buffer.from(e,"base64").toString("binary"):ly,ay=si?e=>lp(Buffer.from(e,"base64")):e=>lp(Nd(e).split("").map(t=>t.charCodeAt(0))),uy=e=>ay(cy(e)),Qw=si?e=>Buffer.from(e,"base64").toString("utf8"):ip?e=>ip.decode(ay(e)):e=>oy(Nd(e)),cy=e=>ry(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),ic=e=>Qw(cy(e)),Yw=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},dy=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),fy=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,dy(n));e("fromBase64",function(){return ic(this)}),e("toBase64",function(t){return ws(this,t)}),e("toBase64URI",function(){return ws(this,!0)}),e("toBase64URL",function(){return ws(this,!0)}),e("toUint8Array",function(){return uy(this)})},py=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,dy(n));e("toBase64",function(t){return gl(this,t)}),e("toBase64URI",function(){return gl(this,!0)}),e("toBase64URL",function(){return gl(this,!0)})},Kw=()=>{fy(),py()},jd={version:ty,VERSION:zw,atob:Nd,atobPolyfill:ly,btoa:_d,btoaPolyfill:sy,fromBase64:ic,toBase64:ws,encode:ws,encodeURI:up,encodeURL:up,utob:iy,btou:oy,decode:ic,isValid:Yw,fromUint8Array:gl,toUint8Array:uy,extendString:fy,extendUint8Array:py,extendBuiltins:Kw},lo="https://github.com/libsql/libsql-client-ts#supported-urls";function oc(e){if(e==="write")return"BEGIN IMMEDIATE";if(e==="read")return"BEGIN TRANSACTION READONLY";if(e==="deferred")return"BEGIN DEFERRED";throw RangeError('Unknown transaction mode, supported values are "write", "read" and "deferred"')}class Gw{constructor(t,n,r,s,i){H(this,"columns");H(this,"columnTypes");H(this,"rows");H(this,"rowsAffected");H(this,"lastInsertRowid");this.columns=t,this.columnTypes=n,this.rows=r,this.rowsAffected=s,this.lastInsertRowid=i}toJSON(){return{columns:this.columns,columnTypes:this.columnTypes,rows:this.rows.map(Xw),rowsAffected:this.rowsAffected,lastInsertRowid:this.lastInsertRowid!==void 0?""+this.lastInsertRowid:null}}}function Xw(e){return Array.prototype.map.call(e,Jw)}function Jw(e){return typeof e=="bigint"?""+e:e instanceof ArrayBuffer?jd.fromUint8Array(new Uint8Array(e)):e}const cp=":memory:";function Zw(e,t){var S,T;if(typeof e!="object")throw new TypeError(`Expected client configuration as object, got ${typeof e}`);let{url:n,authToken:r,tls:s,intMode:i,concurrency:o}=e;o=Math.max(0,o||20),i??(i="number");let a=[];n===cp&&(n="file::memory:");const u=Pw(n),c=u.scheme.toLowerCase(),p=c==="file"&&u.path===cp&&u.authority===void 0;let h;p?h={cache:{values:["shared","private"],update:(m,f)=>a.push(`${m}=${f}`)}}:h={tls:{values:["0","1"],update:(m,f)=>s=f==="1"},authToken:{update:(m,f)=>r=f}};for(const{key:m,value:f}of((S=u.query)==null?void 0:S.pairs)??[]){if(!Object.hasOwn(h,m))throw new Y(`Unsupported URL query parameter ${JSON.stringify(m)}`,"URL_PARAM_NOT_SUPPORTED");const y=h[m];if(y.values!==void 0&&!y.values.includes(f))throw new Y(`Unknown value for the "${m}" query argument: ${JSON.stringify(f)}. Supported values are: [${y.values.map(_=>'"'+_+'"').join(", ")}]`,"URL_INVALID");y.update!==void 0&&(y==null||y.update(m,f))}const g=a.length===0?"":`?${a.join("&")}`,w=u.path+g;let x;if(c==="libsql")if(s===!1){if(((T=u.authority)==null?void 0:T.port)===void 0)throw new Y('A "libsql:" URL with ?tls=0 must specify an explicit port',"URL_INVALID");x="http"}else x="https";else x=c;if(x==="http"||x==="ws"?s??(s=!1):s??(s=!0),x!=="http"&&x!=="ws"&&x!=="https"&&x!=="wss"&&x!=="file")throw new Y(`The client supports only "libsql:", "wss:", "ws:", "https:", "http:" and "file:" URLs, got ${JSON.stringify(u.scheme+":")}. For more information, please read ${lo}`,"URL_SCHEME_NOT_SUPPORTED");if(i!=="number"&&i!=="bigint"&&i!=="string")throw new TypeError(`Invalid value for intMode, expected "number", "bigint" or "string", got ${JSON.stringify(i)}`);if(u.fragment!==void 0)throw new Y(`URL fragments are not supported: ${JSON.stringify("#"+u.fragment)}`,"URL_INVALID");return p?{scheme:"file",tls:!1,path:w,intMode:i,concurrency:o,syncUrl:e.syncUrl,syncInterval:e.syncInterval,readYourWrites:e.readYourWrites,offline:e.offline,fetch:e.fetch,authToken:void 0,encryptionKey:void 0,authority:void 0}:{scheme:x,tls:s,authority:u.authority,path:w,authToken:r,intMode:i,concurrency:o,encryptionKey:e.encryptionKey,syncUrl:e.syncUrl,syncInterval:e.syncInterval,readYourWrites:e.readYourWrites,offline:e.offline,fetch:e.fetch}}let ds;typeof WebSocket<"u"?ds=WebSocket:typeof global<"u"?ds=global.WebSocket:typeof window<"u"?ds=window.WebSocket:typeof self<"u"&&(ds=self.WebSocket);class hy{constructor(){H(this,"intMode");this.intMode="number"}}class ue extends Error{constructor(t){super(t),this.name="ClientError"}}class q extends ue{constructor(t){super(t),this.name="ProtoError"}}class my extends ue{constructor(n,r){super(n);H(this,"code");H(this,"proto");this.name="ResponseError",this.code=r.code,this.proto=r,this.stack=void 0}}class xt extends ue{constructor(t,n){n!==void 0?(super(`${t}: ${n}`),this.cause=n):super(t),this.name="ClosedError"}}class yy extends ue{constructor(t){super(t),this.name="WebSocketUnsupportedError"}}class lc extends ue{constructor(t){super(t),this.name="WebSocketError"}}class vl extends ue{constructor(n,r){super(n);H(this,"status");this.status=r,this.name="HttpServerError"}}class Ks extends ue{constructor(t){super(t),this.name="ProtocolVersionError"}}class ir extends ue{constructor(t){super(t),this.name="InternalError"}}class ii extends ue{constructor(t){super(t),this.name="MisuseError"}}function At(e){if(typeof e=="string")return e;throw oi(e,"string")}function Mt(e){if(e!=null){if(typeof e=="string")return e;throw oi(e,"string or null")}}function Mr(e){if(typeof e=="number")return e;throw oi(e,"number")}function ao(e){if(typeof e=="boolean")return e;throw oi(e,"boolean")}function Kl(e){if(Array.isArray(e))return e;throw oi(e,"array")}function Re(e){if(e!==null&&typeof e=="object"&&!Array.isArray(e))return e;throw oi(e,"object")}function or(e,t){return Kl(e).map(n=>t(Re(n)))}function oi(e,t){if(e===void 0)return new q(`Expected ${t}, but the property was missing`);let n=typeof e;return e===null?n="null":Array.isArray(e)&&(n="array"),new q(`Expected ${t}, received ${n}`)}function Cd(e,t){return t(Re(e))}var pe,Dn,nn,gr;class e1{constructor(t){C(this,nn);C(this,pe);C(this,Dn);E(this,pe,t),E(this,Dn,!1)}begin(){d(this,pe).push("{"),E(this,Dn,!0)}end(){d(this,pe).push("}"),E(this,Dn,!1)}string(t,n){k(this,nn,gr).call(this,t),d(this,pe).push(JSON.stringify(n))}stringRaw(t,n){k(this,nn,gr).call(this,t),d(this,pe).push('"'),d(this,pe).push(n),d(this,pe).push('"')}number(t,n){k(this,nn,gr).call(this,t),d(this,pe).push(""+n)}boolean(t,n){k(this,nn,gr).call(this,t),d(this,pe).push(n?"true":"false")}object(t,n,r){k(this,nn,gr).call(this,t),this.begin(),r(this,n),this.end()}arrayObjects(t,n,r){k(this,nn,gr).call(this,t),d(this,pe).push("[");for(let s=0;s<n.length;++s)s!==0&&d(this,pe).push(","),this.begin(),r(this,n[s]),this.end();d(this,pe).push("]")}}pe=new WeakMap,Dn=new WeakMap,nn=new WeakSet,gr=function(t){d(this,Dn)?(d(this,pe).push('"'),E(this,Dn,!1)):d(this,pe).push(',"'),d(this,pe).push(t),d(this,pe).push('":')};function gy(e,t){const n=[],r=new e1(n);return r.begin(),t(r,e),r.end(),n.join("")}const zi=0,ac=1,uc=2,t1=5;var qt,fo,tt;class n1{constructor(t){C(this,qt);C(this,fo);C(this,tt);E(this,qt,t),E(this,fo,new DataView(t.buffer,t.byteOffset,t.byteLength)),E(this,tt,0)}varint(){let t=0;for(let n=0;;n+=7){const r=d(this,qt)[Kr(this,tt)._++];if(t|=(r&127)<<n,!(r&128))break}return t}varintBig(){let t=0n;for(let n=0n;;n+=7n){const r=d(this,qt)[Kr(this,tt)._++];if(t|=BigInt(r&127)<<n,!(r&128))break}return t}bytes(t){const n=new Uint8Array(d(this,qt).buffer,d(this,qt).byteOffset+d(this,tt),t);return E(this,tt,d(this,tt)+t),n}double(){const t=d(this,fo).getFloat64(d(this,tt),!0);return E(this,tt,d(this,tt)+8),t}skipVarint(){for(;d(this,qt)[Kr(this,tt)._++]&128;);}skip(t){E(this,tt,d(this,tt)+t)}eof(){return d(this,tt)>=d(this,qt).byteLength}}qt=new WeakMap,fo=new WeakMap,tt=new WeakMap;var Ve,Me,_r,Ni;class r1{constructor(t){C(this,_r);C(this,Ve);C(this,Me);E(this,Ve,t),E(this,Me,-1)}setup(t){E(this,Me,t)}bytes(){k(this,_r,Ni).call(this,uc);const t=d(this,Ve).varint();return d(this,Ve).bytes(t)}string(){return new TextDecoder().decode(this.bytes())}message(t){return _a(this.bytes(),t)}int32(){return k(this,_r,Ni).call(this,zi),d(this,Ve).varint()}uint32(){return this.int32()}bool(){return this.int32()!==0}uint64(){return k(this,_r,Ni).call(this,zi),d(this,Ve).varintBig()}sint64(){const t=this.uint64();return t>>1n^-(t&1n)}double(){return k(this,_r,Ni).call(this,ac),d(this,Ve).double()}maybeSkip(){if(!(d(this,Me)<0)){if(d(this,Me)===zi)d(this,Ve).skipVarint();else if(d(this,Me)===ac)d(this,Ve).skip(8);else if(d(this,Me)===uc){const t=d(this,Ve).varint();d(this,Ve).skip(t)}else if(d(this,Me)===t1)d(this,Ve).skip(4);else throw new q(`Unexpected wire type ${d(this,Me)}`);E(this,Me,-1)}}}Ve=new WeakMap,Me=new WeakMap,_r=new WeakSet,Ni=function(t){if(d(this,Me)!==t)throw new q(`Expected wire type ${t}, got ${d(this,Me)}`);E(this,Me,-1)};function _a(e,t){const n=new n1(e),r=new r1(n);let s=t.default();for(;!n.eof();){const i=n.varint(),o=i>>3,a=i&7;r.setup(a);const u=t[o];if(u!==void 0){const c=u(r,s);c!==void 0&&(s=c)}r.maybeSkip()}return s}var Nt,Mn,_s,Be,_e,ji,xl,vy,Ci;const Dd=class Dd{constructor(){C(this,_e);C(this,Nt);C(this,Mn);C(this,_s);C(this,Be);E(this,Nt,new ArrayBuffer(256)),E(this,Mn,new Uint8Array(d(this,Nt))),E(this,_s,new DataView(d(this,Nt))),E(this,Be,0)}bytes(t,n){k(this,_e,Ci).call(this,t,uc),k(this,_e,xl).call(this,n.byteLength),k(this,_e,ji).call(this,n.byteLength),d(this,Mn).set(n,d(this,Be)),E(this,Be,d(this,Be)+n.byteLength)}string(t,n){this.bytes(t,new TextEncoder().encode(n))}message(t,n,r){const s=new Dd;r(s,n),this.bytes(t,s.data())}int32(t,n){k(this,_e,Ci).call(this,t,zi),k(this,_e,xl).call(this,n)}uint32(t,n){this.int32(t,n)}bool(t,n){this.int32(t,n?1:0)}sint64(t,n){k(this,_e,Ci).call(this,t,zi),k(this,_e,vy).call(this,n<<1n^n>>63n)}double(t,n){k(this,_e,Ci).call(this,t,ac),k(this,_e,ji).call(this,8),d(this,_s).setFloat64(d(this,Be),n,!0),E(this,Be,d(this,Be)+8)}data(){return new Uint8Array(d(this,Nt),0,d(this,Be))}};Nt=new WeakMap,Mn=new WeakMap,_s=new WeakMap,Be=new WeakMap,_e=new WeakSet,ji=function(t){if(d(this,Be)+t<=d(this,Nt).byteLength)return;let n=d(this,Nt).byteLength;for(;n<d(this,Be)+t;)n*=2;const r=new ArrayBuffer(n),s=new Uint8Array(r),i=new DataView(r);s.set(new Uint8Array(d(this,Nt),0,d(this,Be))),E(this,Nt,r),E(this,Mn,s),E(this,_s,i)},xl=function(t){k(this,_e,ji).call(this,5),t=0|t;do{let n=t&127;t>>>=7,n|=t?128:0,d(this,Mn)[Kr(this,Be)._++]=n}while(t)},vy=function(t){k(this,_e,ji).call(this,10),t=t&0xffffffffffffffffn;do{let n=Number(t&0x7fn);t>>=7n,n|=t?128:0,d(this,Mn)[Kr(this,Be)._++]=n}while(t)},Ci=function(t,n){k(this,_e,xl).call(this,t<<3|n)};let cc=Dd;function xy(e,t){const n=new cc;return t(n,e),n.data()}var nt,rn;class ki{constructor(){C(this,nt);C(this,rn);E(this,nt,new Set),E(this,rn,new Set)}alloc(){for(const n of d(this,rn))return d(this,rn).delete(n),d(this,nt).add(n),d(this,nt).has(d(this,nt).size-1)||d(this,rn).add(d(this,nt).size-1),n;const t=d(this,nt).size;return d(this,nt).add(t),t}free(t){if(!d(this,nt).delete(t))throw new ir("Freeing an id that is not allocated");d(this,rn).delete(d(this,nt).size),t<d(this,nt).size&&d(this,rn).add(t)}}nt=new WeakMap,rn=new WeakMap;function fe(e,t){throw new ir(t)}function qi(e){if(e===null)return null;if(typeof e=="string")return e;if(typeof e=="number"){if(!Number.isFinite(e))throw new RangeError("Only finite numbers (not Infinity or NaN) can be passed as arguments");return e}else if(typeof e=="bigint"){if(e<s1||e>i1)throw new RangeError("This bigint value is too large to be represented as a 64-bit integer and passed as argument");return e}else{if(typeof e=="boolean")return e?1n:0n;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;if(e instanceof Date)return+e.valueOf();if(typeof e=="object")return""+e.toString();throw new TypeError("Unsupported type of value")}}const s1=-9223372036854775808n,i1=9223372036854775807n;function wy(e,t){if(e===null)return null;if(typeof e=="number")return e;if(typeof e=="string")return e;if(typeof e=="bigint")if(t==="number"){const n=Number(e);if(!Number.isSafeInteger(n))throw new RangeError("Received integer which is too large to be safely represented as a JavaScript number");return n}else{if(t==="bigint")return e;if(t==="string")return""+e;throw new ii("Invalid value for IntMode")}else{if(e instanceof Uint8Array)return e.slice().buffer;throw e===void 0?new q("Received unrecognized type of Value"):fe(e,"Impossible type of Value")}}function Lo(e){return{affectedRowCount:e.affectedRowCount,lastInsertRowid:e.lastInsertRowid,columnNames:e.cols.map(t=>t.name),columnDecltypes:e.cols.map(t=>t.decltype)}}function Ey(e,t){const n=Lo(e),r=e.rows.map(s=>Ny(n.columnNames,s,t));return{...n,rows:r}}function Sy(e,t){const n=Lo(e);let r;return e.rows.length>0&&(r=Ny(n.columnNames,e.rows[0],t)),{...n,row:r}}function _y(e,t){const n=Lo(e);let r;return e.rows.length>0&&n.columnNames.length>0&&(r=wy(e.rows[0][0],t)),{...n,value:r}}function Ny(e,t,n){const r={};Object.defineProperty(r,"length",{value:t.length});for(let s=0;s<t.length;++s){const i=wy(t[s],n);Object.defineProperty(r,s,{value:i});const o=e[s];o!==void 0&&!Object.hasOwn(r,o)&&Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0})}return r}function Gs(e){return new my(e.message,e)}var Ns,js,sn;class kd{constructor(t,n){C(this,Ns);C(this,js);C(this,sn);E(this,Ns,t),E(this,js,n),E(this,sn,void 0)}_getSqlId(t){if(d(this,Ns)!==t)throw new ii("Attempted to use SQL text opened with other object");if(d(this,sn)!==void 0)throw new xt("SQL text is closed",d(this,sn));return d(this,js)}close(){this._setClosed(new ue("SQL text was manually closed"))}_setClosed(t){d(this,sn)===void 0&&(E(this,sn,t),d(this,Ns)._closeSql(d(this,js)))}get closed(){return d(this,sn)!==void 0}}Ns=new WeakMap,js=new WeakMap,sn=new WeakMap;function dc(e,t){return t instanceof kd?{sqlId:t._getSqlId(e)}:{sql:""+t}}var $t,jt;class Gl{constructor(){C(this,$t);C(this,jt);E(this,$t,[]),E(this,jt,[])}get length(){return d(this,$t).length+d(this,jt).length}push(t){d(this,$t).push(t)}shift(){return d(this,jt).length===0&&d(this,$t).length>0&&(E(this,jt,d(this,$t).reverse()),E(this,$t,[])),d(this,jt).pop()}first(){return d(this,jt).length!==0?d(this,jt)[d(this,jt).length-1]:d(this,$t)[0]}}$t=new WeakMap,jt=new WeakMap;let jy=class{constructor(t){H(this,"sql");H(this,"_args");H(this,"_namedArgs");this.sql=t,this._args=[],this._namedArgs=new Map}bindIndexes(t){this._args.length=0;for(const n of t)this._args.push(qi(n));return this}bindIndex(t,n){if(t!==(t|0)||t<=0)throw new RangeError("Index of a positional argument must be positive integer");for(;this._args.length<t;)this._args.push(null);return this._args[t-1]=qi(n),this}bindName(t,n){return this._namedArgs.set(t,qi(n)),this}unbindAll(){return this._args.length=0,this._namedArgs.clear(),this}};function Cy(e,t,n){let r,s=[],i=[];if(t instanceof jy){r=t.sql,s=t._args;for(const[u,c]of t._namedArgs.entries())i.push({name:u,value:c})}else Array.isArray(t)?(r=t[0],Array.isArray(t[1])?s=t[1].map(u=>qi(u)):i=Object.entries(t[1]).map(([u,c])=>({name:u,value:qi(c)}))):r=t;const{sql:o,sqlId:a}=dc(e,r);return{sql:o,sqlId:a,args:s,namedArgs:i,wantRows:n}}var po,Cs,wp;let o1=(wp=class{constructor(t,n){H(this,"_stream");C(this,po);H(this,"_steps");C(this,Cs);this._stream=t,E(this,po,n),this._steps=[],E(this,Cs,!1)}step(){return new u1(this)}execute(){if(d(this,Cs))throw new ii("This batch has already been executed");E(this,Cs,!0);const t={steps:this._steps.map(n=>n.proto)};return d(this,po)?a1(this._stream,this._steps,t):l1(this._stream,this._steps,t)}},po=new WeakMap,Cs=new WeakMap,wp);function l1(e,t,n){return e._batch(n).then(r=>{for(let s=0;s<t.length;++s){const i=r.stepResults.get(s),o=r.stepErrors.get(s);t[s].callback(i,o)}})}async function a1(e,t,n){const r=await e._openCursor(n);try{let s=0,i,o=[];for(;;){const a=await r.next();if(a===void 0)break;if(a.type==="step_begin"){if(a.step<s||a.step>=t.length)throw new q("Server produced StepBeginEntry for unexpected step");if(i!==void 0)throw new q("Server produced StepBeginEntry before terminating previous step");for(let u=s;u<a.step;++u)t[u].callback(void 0,void 0);s=a.step+1,i=a,o=[]}else if(a.type==="step_end"){if(i===void 0)throw new q("Server produced StepEndEntry but no step is active");const u={cols:i.cols,rows:o,affectedRowCount:a.affectedRowCount,lastInsertRowid:a.lastInsertRowid};t[i.step].callback(u,void 0),i=void 0,o=[]}else if(a.type==="step_error"){if(i===void 0){if(a.step>=t.length)throw new q("Server produced StepErrorEntry for unexpected step");for(let u=s;u<a.step;++u)t[u].callback(void 0,void 0)}else{if(a.step!==i.step)throw new q("Server produced StepErrorEntry for unexpected step");i=void 0,o=[]}t[a.step].callback(void 0,a.error),s=a.step+1}else if(a.type==="row"){if(i===void 0)throw new q("Server produced RowEntry but no step is active");o.push(a.row)}else throw a.type==="error"?Gs(a.error):a.type==="none"?new q("Server produced unrecognized CursorEntry"):fe(a,"Impossible CursorEntry")}if(i!==void 0)throw new q("Server closed Cursor before terminating active step");for(let a=s;a<t.length;++a)t[a].callback(void 0,void 0)}finally{r.close()}}var on,Nr,Ti,Ep;let u1=(Ep=class{constructor(t){C(this,Nr);H(this,"_batch");C(this,on);H(this,"_index");this._batch=t,E(this,on,[]),this._index=void 0}condition(t){return d(this,on).push(t._proto),this}query(t){return k(this,Nr,Ti).call(this,t,!0,Ey)}queryRow(t){return k(this,Nr,Ti).call(this,t,!0,Sy)}queryValue(t){return k(this,Nr,Ti).call(this,t,!0,_y)}run(t){return k(this,Nr,Ti).call(this,t,!1,Lo)}},on=new WeakMap,Nr=new WeakSet,Ti=function(t,n,r){if(this._index!==void 0)throw new ii("This BatchStep has already been added to the batch");const s=Cy(this._batch._stream._sqlOwner(),t,n);let i;d(this,on).length===0?i=void 0:d(this,on).length===1?i=d(this,on)[0]:i={type:"and",conds:d(this,on).slice()};const o={stmt:s,condition:i};return new Promise((a,u)=>{const c=(p,h)=>{p!==void 0&&h!==void 0?u(new q("Server returned both result and error")):h!==void 0?u(Gs(h)):a(p!==void 0?r(p,this._batch._stream.intMode):void 0)};this._index=this._batch._steps.length,this._batch._steps.push({proto:o,callback:c})})},Ep),Ye=class vr{constructor(t,n){H(this,"_batch");H(this,"_proto");this._batch=t,this._proto=n}static ok(t){return new vr(t._batch,{type:"ok",step:dp(t)})}static error(t){return new vr(t._batch,{type:"error",step:dp(t)})}static not(t){return new vr(t._batch,{type:"not",cond:t._proto})}static and(t,n){for(const r of n)fp(t,r);return new vr(t,{type:"and",conds:n.map(r=>r._proto)})}static or(t,n){for(const r of n)fp(t,r);return new vr(t,{type:"or",conds:n.map(r=>r._proto)})}static isAutocommit(t){return t._stream.client()._ensureVersion(3,"BatchCond.isAutocommit()"),new vr(t,{type:"is_autocommit"})}};function dp(e){if(e._index===void 0)throw new ii("Cannot add a condition referencing a step that has not been added to the batch");return e._index}function fp(e,t){if(t._batch!==e)throw new ii("Cannot mix BatchCond objects for different Batch objects")}function c1(e){return{paramNames:e.params.map(t=>t.name),columns:e.cols,isExplain:e.isExplain,isReadonly:e.isReadonly}}var jr,Ri;class ky{constructor(t){C(this,jr);H(this,"intMode");this.intMode=t}query(t){return k(this,jr,Ri).call(this,t,!0,Ey)}queryRow(t){return k(this,jr,Ri).call(this,t,!0,Sy)}queryValue(t){return k(this,jr,Ri).call(this,t,!0,_y)}run(t){return k(this,jr,Ri).call(this,t,!1,Lo)}batch(t=!1){return new o1(this,t)}describe(t){const n=dc(this._sqlOwner(),t);return this._describe(n).then(c1)}sequence(t){const n=dc(this._sqlOwner(),t);return this._sequence(n)}}jr=new WeakSet,Ri=function(t,n,r){const s=Cy(this._sqlOwner(),t,n);return this._execute(s).then(i=>r(i,this.intMode))};class Ty{}const d1=1e3,f1=10;var ta,Cr,ks,Ts,kr,ln,Tr,na,Ry;class p1 extends Ty{constructor(n,r,s){super();C(this,na);C(this,ta);C(this,Cr);C(this,ks);C(this,Ts);C(this,kr);C(this,ln);C(this,Tr);E(this,ta,n),E(this,Cr,r),E(this,ks,s),E(this,Ts,new Gl),E(this,kr,new Gl),E(this,ln,void 0),E(this,Tr,!1)}async next(){for(;;){if(d(this,ln)!==void 0)throw new xt("Cursor is closed",d(this,ln));for(;!d(this,Tr)&&d(this,kr).length<f1;)d(this,kr).push(k(this,na,Ry).call(this));const n=d(this,Ts).shift();if(d(this,Tr)||n!==void 0)return n;await d(this,kr).shift().then(r=>{if(r!==void 0){for(const s of r.entries)d(this,Ts).push(s);d(this,Tr)||E(this,Tr,r.done)}})}}_setClosed(n){d(this,ln)===void 0&&(E(this,ln,n),d(this,Cr)._sendCursorRequest(this,{type:"close_cursor",cursorId:d(this,ks)}).catch(()=>{}),d(this,Cr)._cursorClosed(this))}close(){this._setClosed(new ue("Cursor was manually closed"))}get closed(){return d(this,ln)!==void 0}}ta=new WeakMap,Cr=new WeakMap,ks=new WeakMap,Ts=new WeakMap,kr=new WeakMap,ln=new WeakMap,Tr=new WeakMap,na=new WeakSet,Ry=function(){return d(this,Cr)._sendCursorRequest(this,{type:"fetch_cursor",cursorId:d(this,ks),maxCount:d1}).then(n=>n,n=>{this._setClosed(n)})};var je,pt,an,rt,Fn,Ct,ge,Xr,pc,wl,El;const Md=class Md extends ky{constructor(n,r){super(n.intMode);C(this,ge);C(this,je);C(this,pt);C(this,an);C(this,rt);C(this,Fn);C(this,Ct);E(this,je,n),E(this,pt,r),E(this,an,new Gl),E(this,rt,void 0),E(this,Fn,!1),E(this,Ct,void 0)}static open(n){const r=n._streamIdAlloc.alloc(),s=new Md(n,r),i=()=>{},o=u=>{var c;return k(c=s,ge,El).call(c,u)},a={type:"open_stream",streamId:r};return n._sendRequest(a,{responseCallback:i,errorCallback:o}),s}client(){return d(this,je)}_sqlOwner(){return d(this,je)}_execute(n){return k(this,ge,Xr).call(this,{type:"execute",streamId:d(this,pt),stmt:n}).then(r=>r.result)}_batch(n){return k(this,ge,Xr).call(this,{type:"batch",streamId:d(this,pt),batch:n}).then(r=>r.result)}_describe(n){return d(this,je)._ensureVersion(2,"describe()"),k(this,ge,Xr).call(this,{type:"describe",streamId:d(this,pt),sql:n.sql,sqlId:n.sqlId}).then(r=>r.result)}_sequence(n){return d(this,je)._ensureVersion(2,"sequence()"),k(this,ge,Xr).call(this,{type:"sequence",streamId:d(this,pt),sql:n.sql,sqlId:n.sqlId}).then(r=>{})}getAutocommit(){return d(this,je)._ensureVersion(3,"getAutocommit()"),k(this,ge,Xr).call(this,{type:"get_autocommit",streamId:d(this,pt)}).then(n=>n.isAutocommit)}_openCursor(n){return d(this,je)._ensureVersion(3,"cursor"),new Promise((r,s)=>{k(this,ge,pc).call(this,{type:"cursor",batch:n,cursorCallback:r,errorCallback:s})})}_sendCursorRequest(n,r){if(n!==d(this,rt))throw new ir("Cursor not associated with the stream attempted to execute a request");return new Promise((s,i)=>{d(this,Ct)!==void 0?i(new xt("Stream is closed",d(this,Ct))):d(this,je)._sendRequest(r,{responseCallback:s,errorCallback:i})})}_cursorClosed(n){if(n!==d(this,rt))throw new ir("Cursor was closed, but it was not associated with the stream");E(this,rt,void 0),k(this,ge,wl).call(this)}close(){k(this,ge,El).call(this,new ue("Stream was manually closed"))}closeGracefully(){E(this,Fn,!0),k(this,ge,wl).call(this)}get closed(){return d(this,Ct)!==void 0||d(this,Fn)}};je=new WeakMap,pt=new WeakMap,an=new WeakMap,rt=new WeakMap,Fn=new WeakMap,Ct=new WeakMap,ge=new WeakSet,Xr=function(n){return new Promise((r,s)=>{k(this,ge,pc).call(this,{type:"request",request:n,responseCallback:r,errorCallback:s})})},pc=function(n){d(this,Ct)!==void 0?n.errorCallback(new xt("Stream is closed",d(this,Ct))):d(this,Fn)?n.errorCallback(new xt("Stream is closing",void 0)):(d(this,an).push(n),k(this,ge,wl).call(this))},wl=function(){for(;;){const n=d(this,an).first();if(n===void 0&&d(this,rt)===void 0&&d(this,Fn)){k(this,ge,El).call(this,new ue("Stream was gracefully closed"));break}else if((n==null?void 0:n.type)==="request"&&d(this,rt)===void 0){const{request:r,responseCallback:s,errorCallback:i}=n;d(this,an).shift(),d(this,je)._sendRequest(r,{responseCallback:s,errorCallback:i})}else if((n==null?void 0:n.type)==="cursor"&&d(this,rt)===void 0){const{batch:r,cursorCallback:s}=n;d(this,an).shift();const i=d(this,je)._cursorIdAlloc.alloc(),o=new p1(d(this,je),this,i),a={type:"open_cursor",streamId:d(this,pt),cursorId:i,batch:r},u=()=>{},c=p=>o._setClosed(p);d(this,je)._sendRequest(a,{responseCallback:u,errorCallback:c}),E(this,rt,o),s(o)}else break}},El=function(n){if(d(this,Ct)!==void 0)return;for(E(this,Ct,n),d(this,rt)!==void 0&&d(this,rt)._setClosed(n);;){const o=d(this,an).shift();if(o!==void 0)o.errorCallback(n);else break}const r={type:"close_stream",streamId:d(this,pt)},s=()=>d(this,je)._streamIdAlloc.free(d(this,pt)),i=()=>{};d(this,je)._sendRequest(r,{responseCallback:s,errorCallback:i})};let fc=Md;function Td(e,t){t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId),e.arrayObjects("args",t.args,by),e.arrayObjects("named_args",t.namedArgs,h1),e.boolean("want_rows",t.wantRows)}function h1(e,t){e.string("name",t.name),e.object("value",t.value,by)}function Xl(e,t){e.arrayObjects("steps",t.steps,m1)}function m1(e,t){t.condition!==void 0&&e.object("condition",t.condition,hc),e.object("stmt",t.stmt,Td)}function hc(e,t){if(e.stringRaw("type",t.type),t.type==="ok"||t.type==="error")e.number("step",t.step);else if(t.type==="not")e.object("cond",t.cond,hc);else if(t.type==="and"||t.type==="or")e.arrayObjects("conds",t.conds,hc);else if(t.type!=="is_autocommit")throw fe(t,"Impossible type of BatchCond")}function by(e,t){if(t===null)e.stringRaw("type","null");else if(typeof t=="bigint")e.stringRaw("type","integer"),e.stringRaw("value",""+t);else if(typeof t=="number")e.stringRaw("type","float"),e.number("value",t);else if(typeof t=="string")e.stringRaw("type","text"),e.string("value",t);else if(t instanceof Uint8Array)e.stringRaw("type","blob"),e.stringRaw("base64",jd.fromUint8Array(t));else if(t!==void 0)throw fe(t,"Impossible type of Value")}function y1(e,t){if(e.stringRaw("type",t.type),t.type==="hello")t.jwt!==void 0&&e.string("jwt",t.jwt);else if(t.type==="request")e.number("request_id",t.requestId),e.object("request",t.request,g1);else throw fe(t,"Impossible type of ClientMsg")}function g1(e,t){if(e.stringRaw("type",t.type),t.type==="open_stream")e.number("stream_id",t.streamId);else if(t.type==="close_stream")e.number("stream_id",t.streamId);else if(t.type==="execute")e.number("stream_id",t.streamId),e.object("stmt",t.stmt,Td);else if(t.type==="batch")e.number("stream_id",t.streamId),e.object("batch",t.batch,Xl);else if(t.type==="open_cursor")e.number("stream_id",t.streamId),e.number("cursor_id",t.cursorId),e.object("batch",t.batch,Xl);else if(t.type==="close_cursor")e.number("cursor_id",t.cursorId);else if(t.type==="fetch_cursor")e.number("cursor_id",t.cursorId),e.number("max_count",t.maxCount);else if(t.type==="sequence")e.number("stream_id",t.streamId),t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId);else if(t.type==="describe")e.number("stream_id",t.streamId),t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId);else if(t.type==="store_sql")e.number("sql_id",t.sqlId),e.string("sql",t.sql);else if(t.type==="close_sql")e.number("sql_id",t.sqlId);else if(t.type==="get_autocommit")e.number("stream_id",t.streamId);else throw fe(t,"Impossible type of Request")}function Rd(e,t){t.sql!==void 0&&e.string(1,t.sql),t.sqlId!==void 0&&e.int32(2,t.sqlId);for(const n of t.args)e.message(3,n,Iy);for(const n of t.namedArgs)e.message(4,n,v1);e.bool(5,t.wantRows)}function v1(e,t){e.string(1,t.name),e.message(2,t.value,Iy)}function Na(e,t){for(const n of t.steps)e.message(1,n,x1)}function x1(e,t){t.condition!==void 0&&e.message(1,t.condition,bd),e.message(2,t.stmt,Rd)}function bd(e,t){if(t.type==="ok")e.uint32(1,t.step);else if(t.type==="error")e.uint32(2,t.step);else if(t.type==="not")e.message(3,t.cond,bd);else if(t.type==="and")e.message(4,t.conds,pp);else if(t.type==="or")e.message(5,t.conds,pp);else if(t.type==="is_autocommit")e.message(6,void 0,Py);else throw fe(t,"Impossible type of BatchCond")}function pp(e,t){for(const n of t)e.message(1,n,bd)}function Iy(e,t){if(t===null)e.message(1,void 0,Py);else if(typeof t=="bigint")e.sint64(2,t);else if(typeof t=="number")e.double(3,t);else if(typeof t=="string")e.string(4,t);else if(t instanceof Uint8Array)e.bytes(5,t);else if(t!==void 0)throw fe(t,"Impossible type of Value")}function Py(e,t){}function w1(e,t){if(t.type==="hello")e.message(1,t,E1);else if(t.type==="request")e.message(2,t,S1);else throw fe(t,"Impossible type of ClientMsg")}function E1(e,t){t.jwt!==void 0&&e.string(1,t.jwt)}function S1(e,t){e.int32(1,t.requestId);const n=t.request;if(n.type==="open_stream")e.message(2,n,_1);else if(n.type==="close_stream")e.message(3,n,N1);else if(n.type==="execute")e.message(4,n,j1);else if(n.type==="batch")e.message(5,n,C1);else if(n.type==="open_cursor")e.message(6,n,k1);else if(n.type==="close_cursor")e.message(7,n,T1);else if(n.type==="fetch_cursor")e.message(8,n,R1);else if(n.type==="sequence")e.message(9,n,b1);else if(n.type==="describe")e.message(10,n,I1);else if(n.type==="store_sql")e.message(11,n,P1);else if(n.type==="close_sql")e.message(12,n,A1);else if(n.type==="get_autocommit")e.message(13,n,L1);else throw fe(n,"Impossible type of Request")}function _1(e,t){e.int32(1,t.streamId)}function N1(e,t){e.int32(1,t.streamId)}function j1(e,t){e.int32(1,t.streamId),e.message(2,t.stmt,Rd)}function C1(e,t){e.int32(1,t.streamId),e.message(2,t.batch,Na)}function k1(e,t){e.int32(1,t.streamId),e.int32(2,t.cursorId),e.message(3,t.batch,Na)}function T1(e,t){e.int32(1,t.cursorId)}function R1(e,t){e.int32(1,t.cursorId),e.uint32(2,t.maxCount)}function b1(e,t){e.int32(1,t.streamId),t.sql!==void 0&&e.string(2,t.sql),t.sqlId!==void 0&&e.int32(3,t.sqlId)}function I1(e,t){e.int32(1,t.streamId),t.sql!==void 0&&e.string(2,t.sql),t.sqlId!==void 0&&e.int32(3,t.sqlId)}function P1(e,t){e.int32(1,t.sqlId),e.string(2,t.sql)}function A1(e,t){e.int32(1,t.sqlId)}function L1(e,t){e.int32(1,t.streamId)}function Xs(e){const t=At(e.message),n=Mt(e.code);return{message:t,code:n}}function Id(e){const t=or(e.cols,Ay),n=Kl(e.rows).map(o=>or(o,My)),r=Mr(e.affected_row_count),s=Mt(e.last_insert_rowid),i=s!==void 0?BigInt(s):void 0;return{cols:t,rows:n,affectedRowCount:r,lastInsertRowid:i}}function Ay(e){const t=Mt(e.name),n=Mt(e.decltype);return{name:t,decltype:n}}function Ly(e){const t=new Map;Kl(e.step_results).forEach((r,s)=>{r!==null&&t.set(s,Id(Re(r)))});const n=new Map;return Kl(e.step_errors).forEach((r,s)=>{r!==null&&n.set(s,Xs(Re(r)))}),{stepResults:t,stepErrors:n}}function Oy(e){const t=At(e.type);if(t==="step_begin"){const n=Mr(e.step),r=or(e.cols,Ay);return{type:"step_begin",step:n,cols:r}}else if(t==="step_end"){const n=Mr(e.affected_row_count),r=Mt(e.last_insert_rowid),s=r!==void 0?BigInt(r):void 0;return{type:"step_end",affectedRowCount:n,lastInsertRowid:s}}else if(t==="step_error"){const n=Mr(e.step),r=Xs(Re(e.error));return{type:"step_error",step:n,error:r}}else{if(t==="row")return{type:"row",row:or(e.row,My)};if(t==="error")return{type:"error",error:Xs(Re(e.error))};throw new q("Unexpected type of CursorEntry")}}function Dy(e){const t=or(e.params,O1),n=or(e.cols,D1),r=ao(e.is_explain),s=ao(e.is_readonly);return{params:t,cols:n,isExplain:r,isReadonly:s}}function O1(e){return{name:Mt(e.name)}}function D1(e){const t=At(e.name),n=Mt(e.decltype);return{name:t,decltype:n}}function My(e){const t=At(e.type);if(t==="null")return null;if(t==="integer"){const n=At(e.value);return BigInt(n)}else{if(t==="float")return Mr(e.value);if(t==="text")return At(e.value);if(t==="blob")return jd.toUint8Array(At(e.base64));throw new q("Unexpected type of Value")}}function M1(e){const t=At(e.type);if(t==="hello_ok")return{type:"hello_ok"};if(t==="hello_error")return{type:"hello_error",error:Xs(Re(e.error))};if(t==="response_ok"){const n=Mr(e.request_id),r=F1(Re(e.response));return{type:"response_ok",requestId:n,response:r}}else if(t==="response_error"){const n=Mr(e.request_id),r=Xs(Re(e.error));return{type:"response_error",requestId:n,error:r}}else throw new q("Unexpected type of ServerMsg")}function F1(e){const t=At(e.type);if(t==="open_stream")return{type:"open_stream"};if(t==="close_stream")return{type:"close_stream"};if(t==="execute")return{type:"execute",result:Id(Re(e.result))};if(t==="batch")return{type:"batch",result:Ly(Re(e.result))};if(t==="open_cursor")return{type:"open_cursor"};if(t==="close_cursor")return{type:"close_cursor"};if(t==="fetch_cursor"){const n=or(e.entries,Oy),r=ao(e.done);return{type:"fetch_cursor",entries:n,done:r}}else{if(t==="sequence")return{type:"sequence"};if(t==="describe")return{type:"describe",result:Dy(Re(e.result))};if(t==="store_sql")return{type:"store_sql"};if(t==="close_sql")return{type:"close_sql"};if(t==="get_autocommit")return{type:"get_autocommit",isAutocommit:ao(e.is_autocommit)};throw new q("Unexpected type of Response")}}const Jt={default(){return{message:"",code:void 0}},1(e,t){t.message=e.string()},2(e,t){t.code=e.string()}},Js={default(){return{cols:[],rows:[],affectedRowCount:0,lastInsertRowid:void 0}},1(e,t){t.cols.push(e.message(Fy))},2(e,t){t.rows.push(e.message(Uy))},3(e,t){t.affectedRowCount=Number(e.uint64())},4(e,t){t.lastInsertRowid=e.sint64()}},Fy={default(){return{name:void 0,decltype:void 0}},1(e,t){t.name=e.string()},2(e,t){t.decltype=e.string()}},Uy={default(){return[]},1(e,t){t.push(e.message(W1))}},Jl={default(){return{stepResults:new Map,stepErrors:new Map}},1(e,t){const[n,r]=e.message(U1);t.stepResults.set(n,r)},2(e,t){const[n,r]=e.message(z1);t.stepErrors.set(n,r)}},U1={default(){return[0,Js.default()]},1(e,t){t[0]=e.uint32()},2(e,t){t[1]=e.message(Js)}},z1={default(){return[0,Jt.default()]},1(e,t){t[0]=e.uint32()},2(e,t){t[1]=e.message(Jt)}},zy={default(){return{type:"none"}},1(e){return e.message(q1)},2(e){return e.message($1)},3(e){return e.message(V1)},4(e){return{type:"row",row:e.message(Uy)}},5(e){return{type:"error",error:e.message(Jt)}}},q1={default(){return{type:"step_begin",step:0,cols:[]}},1(e,t){t.step=e.uint32()},2(e,t){t.cols.push(e.message(Fy))}},$1={default(){return{type:"step_end",affectedRowCount:0,lastInsertRowid:void 0}},1(e,t){t.affectedRowCount=e.uint32()},2(e,t){t.lastInsertRowid=e.uint64()}},V1={default(){return{type:"step_error",step:0,error:Jt.default()}},1(e,t){t.step=e.uint32()},2(e,t){t.error=e.message(Jt)}},Zl={default(){return{params:[],cols:[],isExplain:!1,isReadonly:!1}},1(e,t){t.params.push(e.message(B1))},2(e,t){t.cols.push(e.message(H1))},3(e,t){t.isExplain=e.bool()},4(e,t){t.isReadonly=e.bool()}},B1={default(){return{name:void 0}},1(e,t){t.name=e.string()}},H1={default(){return{name:"",decltype:void 0}},1(e,t){t.name=e.string()},2(e,t){t.decltype=e.string()}},W1={default(){},1(e){return null},2(e){return e.sint64()},3(e){return e.double()},4(e){return e.string()},5(e){return e.bytes()}},Q1={default(){return{type:"none"}},1(e){return{type:"hello_ok"}},2(e){return e.message(Y1)},3(e){return e.message(G1)},4(e){return e.message(K1)}},Y1={default(){return{type:"hello_error",error:Jt.default()}},1(e,t){t.error=e.message(Jt)}},K1={default(){return{type:"response_error",requestId:0,error:Jt.default()}},1(e,t){t.requestId=e.int32()},2(e,t){t.error=e.message(Jt)}},G1={default(){return{type:"response_ok",requestId:0,response:{type:"none"}}},1(e,t){t.requestId=e.int32()},2(e,t){t.response={type:"open_stream"}},3(e,t){t.response={type:"close_stream"}},4(e,t){t.response=e.message(X1)},5(e,t){t.response=e.message(J1)},6(e,t){t.response={type:"open_cursor"}},7(e,t){t.response={type:"close_cursor"}},8(e,t){t.response=e.message(Z1)},9(e,t){t.response={type:"sequence"}},10(e,t){t.response=e.message(eE)},11(e,t){t.response={type:"store_sql"}},12(e,t){t.response={type:"close_sql"}},13(e,t){t.response=e.message(tE)}},X1={default(){return{type:"execute",result:Js.default()}},1(e,t){t.result=e.message(Js)}},J1={default(){return{type:"batch",result:Jl.default()}},1(e,t){t.result=e.message(Jl)}},Z1={default(){return{type:"fetch_cursor",entries:[],done:!1}},1(e,t){t.entries.push(e.message(zy))},2(e,t){t.done=e.bool()}},eE={default(){return{type:"describe",result:Zl.default()}},1(e,t){t.result=e.message(Zl)}},tE={default(){return{type:"get_autocommit",isAutocommit:!1}},1(e,t){t.isAutocommit=e.bool()}},nE=new Map([["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]),qy=new Map([["hrana3-protobuf",{version:3,encoding:"protobuf"}],["hrana3",{version:3,encoding:"json"}],["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]);var Ae,Vt,Rr,He,br,We,Rs,kt,Un,bs,Q,mc,$y,yc,Vy,By,Ut,Hy,Wy,Sp;let rE=(Sp=class extends hy{constructor(n,r){super();C(this,Q);C(this,Ae);C(this,Vt);C(this,Rr);C(this,He);C(this,br);C(this,We);C(this,Rs);C(this,kt);C(this,Un);H(this,"_streamIdAlloc");H(this,"_cursorIdAlloc");C(this,bs);E(this,Ae,n),E(this,Vt,[]),E(this,Rr,!1),E(this,He,void 0),E(this,br,!1),E(this,We,void 0),E(this,Rs,!1),E(this,kt,new Map),E(this,Un,new ki),this._streamIdAlloc=new ki,this._cursorIdAlloc=new ki,E(this,bs,new ki),d(this,Ae).binaryType="arraybuffer",d(this,Ae).addEventListener("open",()=>k(this,Q,$y).call(this)),d(this,Ae).addEventListener("close",s=>k(this,Q,By).call(this,s)),d(this,Ae).addEventListener("error",s=>k(this,Q,Vy).call(this,s)),d(this,Ae).addEventListener("message",s=>k(this,Q,Hy).call(this,s)),k(this,Q,mc).call(this,{type:"hello",jwt:r})}getVersion(){return new Promise((n,r)=>{if(E(this,Rs,!0),d(this,He)!==void 0)r(d(this,He));else if(d(this,Rr))n(d(this,We).version);else{const s=()=>n(d(this,We).version);d(this,Vt).push({openCallback:s,errorCallback:r})}})}_ensureVersion(n,r){if(d(this,We)===void 0||!d(this,Rs))throw new Ks(`${r} is supported only on protocol version ${n} and higher, but the version supported by the WebSocket server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(d(this,We).version<n)throw new Ks(`${r} is supported on protocol version ${n} and higher, but the WebSocket server only supports version ${d(this,We).version}`)}_sendRequest(n,r){if(d(this,He)!==void 0){r.errorCallback(new xt("Client is closed",d(this,He)));return}const s=d(this,Un).alloc();d(this,kt).set(s,{...r,type:n.type}),k(this,Q,mc).call(this,{type:"request",requestId:s,request:n})}openStream(){return fc.open(this)}storeSql(n){this._ensureVersion(2,"storeSql()");const r=d(this,bs).alloc(),s=new kd(this,r),i=()=>{},o=u=>s._setClosed(u),a={type:"store_sql",sqlId:r,sql:n};return this._sendRequest(a,{responseCallback:i,errorCallback:o}),s}_closeSql(n){if(d(this,He)!==void 0)return;const r=()=>d(this,bs).free(n),s=o=>k(this,Q,Ut).call(this,o),i={type:"close_sql",sqlId:n};this._sendRequest(i,{responseCallback:r,errorCallback:s})}close(){k(this,Q,Ut).call(this,new ue("Client was manually closed"))}get closed(){return d(this,He)!==void 0}},Ae=new WeakMap,Vt=new WeakMap,Rr=new WeakMap,He=new WeakMap,br=new WeakMap,We=new WeakMap,Rs=new WeakMap,kt=new WeakMap,Un=new WeakMap,bs=new WeakMap,Q=new WeakSet,mc=function(n){if(d(this,He)!==void 0)throw new ir("Trying to send a message on a closed client");if(d(this,Rr))k(this,Q,yc).call(this,n);else{const r=()=>k(this,Q,yc).call(this,n),s=()=>{};d(this,Vt).push({openCallback:r,errorCallback:s})}},$y=function(){const n=d(this,Ae).protocol;if(n===void 0){k(this,Q,Ut).call(this,new ue("The `WebSocket.protocol` property is undefined. This most likely means that the WebSocket implementation provided by the environment is broken. If you are using Miniflare 2, please update to Miniflare 3, which fixes this problem."));return}else if(n==="")E(this,We,{version:1,encoding:"json"});else if(E(this,We,qy.get(n)),d(this,We)===void 0){k(this,Q,Ut).call(this,new q(`Unrecognized WebSocket subprotocol: ${JSON.stringify(n)}`));return}for(const r of d(this,Vt))r.openCallback();d(this,Vt).length=0,E(this,Rr,!0)},yc=function(n){const r=d(this,We).encoding;if(r==="json"){const s=gy(n,y1);d(this,Ae).send(s)}else if(r==="protobuf"){const s=xy(n,w1);d(this,Ae).send(s)}else throw fe(r,"Impossible encoding")},Vy=function(n){const s=n.message??"WebSocket was closed due to an error";k(this,Q,Ut).call(this,new lc(s))},By=function(n){let r=`WebSocket was closed with code ${n.code}`;n.reason&&(r+=`: ${n.reason}`),k(this,Q,Ut).call(this,new lc(r))},Ut=function(n){if(d(this,He)===void 0){E(this,He,n);for(const r of d(this,Vt))r.errorCallback(n);d(this,Vt).length=0;for(const[r,s]of d(this,kt).entries())s.errorCallback(n),d(this,Un).free(r);d(this,kt).clear(),d(this,Ae).close()}},Hy=function(n){if(d(this,He)===void 0)try{let r;const s=d(this,We).encoding;if(s==="json"){if(typeof n.data!="string"){d(this,Ae).close(3003,"Only text messages are accepted with JSON encoding"),k(this,Q,Ut).call(this,new q("Received non-text message from server with JSON encoding"));return}r=Cd(JSON.parse(n.data),M1)}else if(s==="protobuf"){if(!(n.data instanceof ArrayBuffer)){d(this,Ae).close(3003,"Only binary messages are accepted with Protobuf encoding"),k(this,Q,Ut).call(this,new q("Received non-binary message from server with Protobuf encoding"));return}r=_a(new Uint8Array(n.data),Q1)}else throw fe(s,"Impossible encoding");k(this,Q,Wy).call(this,r)}catch(r){d(this,Ae).close(3007,"Could not handle message"),k(this,Q,Ut).call(this,r)}},Wy=function(n){if(n.type==="none")throw new q("Received an unrecognized ServerMsg");if(n.type==="hello_ok"||n.type==="hello_error"){if(d(this,br))throw new q("Received a duplicated hello response");if(E(this,br,!0),n.type==="hello_error")throw Gs(n.error);return}else if(!d(this,br))throw new q("Received a non-hello message before a hello response");if(n.type==="response_ok"){const r=n.requestId,s=d(this,kt).get(r);if(d(this,kt).delete(r),s===void 0)throw new q("Received unexpected OK response");d(this,Un).free(r);try{if(s.type!==n.response.type)throw console.dir({responseState:s,msg:n}),new q("Received unexpected type of response");s.responseCallback(n.response)}catch(i){throw s.errorCallback(i),i}}else if(n.type==="response_error"){const r=n.requestId,s=d(this,kt).get(r);if(d(this,kt).delete(r),s===void 0)throw new q("Received unexpected error response");d(this,Un).free(r),s.errorCallback(Gs(n.error))}else throw fe(n,"Impossible ServerMsg type")},Sp);const sE=fetch,Qy=Request,iE=Headers;let fs;if(typeof queueMicrotask<"u")fs=queueMicrotask;else{const e=Promise.resolve();fs=t=>{e.then(t)}}var st,Tt,Qe,ra,Yy;class oE{constructor(t){C(this,ra);C(this,st);C(this,Tt);C(this,Qe);E(this,st,new Uint8Array(new ArrayBuffer(t))),E(this,Tt,0),E(this,Qe,0)}get length(){return d(this,Qe)-d(this,Tt)}data(){return d(this,st).slice(d(this,Tt),d(this,Qe))}push(t){k(this,ra,Yy).call(this,t.byteLength),d(this,st).set(t,d(this,Qe)),E(this,Qe,d(this,Qe)+t.byteLength)}shift(t){E(this,Tt,d(this,Tt)+t)}}st=new WeakMap,Tt=new WeakMap,Qe=new WeakMap,ra=new WeakSet,Yy=function(t){if(d(this,Qe)+t<=d(this,st).byteLength)return;const n=d(this,Qe)-d(this,Tt);if(n+t<=d(this,st).byteLength&&2*d(this,Qe)>=d(this,st).byteLength)d(this,st).copyWithin(0,d(this,Tt),d(this,Qe));else{let r=d(this,st).byteLength;do r*=2;while(n+t>r);const s=new Uint8Array(new ArrayBuffer(r));s.set(d(this,st).slice(d(this,Tt),d(this,Qe)),0),E(this,st,s)}E(this,Qe,n),E(this,Tt,0)};function lE(e){const t=Mt(e.baton),n=Mt(e.base_url),r=or(e.results,aE);return{baton:t,baseUrl:n,results:r}}function aE(e){const t=At(e.type);if(t==="ok")return{type:"ok",response:uE(Re(e.response))};if(t==="error")return{type:"error",error:Xs(Re(e.error))};throw new q("Unexpected type of StreamResult")}function uE(e){const t=At(e.type);if(t==="close")return{type:"close"};if(t==="execute")return{type:"execute",result:Id(Re(e.result))};if(t==="batch")return{type:"batch",result:Ly(Re(e.result))};if(t==="sequence")return{type:"sequence"};if(t==="describe")return{type:"describe",result:Dy(Re(e.result))};if(t==="store_sql")return{type:"store_sql"};if(t==="close_sql")return{type:"close_sql"};if(t==="get_autocommit")return{type:"get_autocommit",isAutocommit:ao(e.is_autocommit)};throw new q("Unexpected type of StreamResponse")}function cE(e){const t=Mt(e.baton),n=Mt(e.base_url);return{baton:t,baseUrl:n}}const dE={default(){return{baton:void 0,baseUrl:void 0,results:[]}},1(e,t){t.baton=e.string()},2(e,t){t.baseUrl=e.string()},3(e,t){t.results.push(e.message(fE))}},fE={default(){return{type:"none"}},1(e){return{type:"ok",response:e.message(pE)}},2(e){return{type:"error",error:e.message(Jt)}}},pE={default(){return{type:"none"}},1(e){return{type:"close"}},2(e){return e.message(hE)},3(e){return e.message(mE)},4(e){return{type:"sequence"}},5(e){return e.message(yE)},6(e){return{type:"store_sql"}},7(e){return{type:"close_sql"}},8(e){return e.message(gE)}},hE={default(){return{type:"execute",result:Js.default()}},1(e,t){t.result=e.message(Js)}},mE={default(){return{type:"batch",result:Jl.default()}},1(e,t){t.result=e.message(Jl)}},yE={default(){return{type:"describe",result:Zl.default()}},1(e,t){t.result=e.message(Zl)}},gE={default(){return{type:"get_autocommit",isAutocommit:!1}},1(e,t){t.isAutocommit=e.bool()}},vE={default(){return{baton:void 0,baseUrl:void 0}},1(e,t){t.baton=e.string()},2(e,t){t.baseUrl=e.string()}};var ho,Ir,un,Bt,cn,Is,Nn,gc,Ky,Gy;class xE extends Ty{constructor(n,r){super();C(this,Nn);C(this,ho);C(this,Ir);C(this,un);C(this,Bt);C(this,cn);C(this,Is);E(this,ho,n),E(this,Ir,r),E(this,un,void 0),E(this,Bt,new oE(16*1024)),E(this,cn,void 0),E(this,Is,!1)}async open(n){if(n.body===null)throw new q("No response body for cursor request");E(this,un,n.body.getReader());const r=await k(this,Nn,gc).call(this,cE,vE);if(r===void 0)throw new q("Empty response to cursor request");return r}next(){return k(this,Nn,gc).call(this,Oy,zy)}close(){this._setClosed(new ue("Cursor was manually closed"))}_setClosed(n){d(this,cn)===void 0&&(E(this,cn,n),d(this,ho)._cursorClosed(this),d(this,un)!==void 0&&d(this,un).cancel())}get closed(){return d(this,cn)!==void 0}}ho=new WeakMap,Ir=new WeakMap,un=new WeakMap,Bt=new WeakMap,cn=new WeakMap,Is=new WeakMap,Nn=new WeakSet,gc=async function(n,r){for(;;){if(d(this,Is))return;if(d(this,cn)!==void 0)throw new xt("Cursor is closed",d(this,cn));if(d(this,Ir)==="json"){const o=k(this,Nn,Ky).call(this);if(o!==void 0){const a=new TextDecoder().decode(o),u=JSON.parse(a);return Cd(u,n)}}else if(d(this,Ir)==="protobuf"){const o=k(this,Nn,Gy).call(this);if(o!==void 0)return _a(o,r)}else throw fe(d(this,Ir),"Impossible encoding");if(d(this,un)===void 0)throw new ir("Attempted to read from HTTP cursor before it was opened");const{value:s,done:i}=await d(this,un).read();if(i&&d(this,Bt).length===0)E(this,Is,!0);else{if(i)throw new q("Unexpected end of cursor stream");d(this,Bt).push(s)}}},Ky=function(){const n=d(this,Bt).data(),s=n.indexOf(10);if(s<0)return;const i=n.slice(0,s);return d(this,Bt).shift(s+1),i},Gy=function(){const n=d(this,Bt).data();let r=0,s=0;for(;;){if(s>=n.byteLength)return;const o=n[s];if(r|=(o&127)<<7*s,s+=1,!(o&128))break}if(n.byteLength<s+r)return;const i=n.slice(s,s+r);return d(this,Bt).shift(s+r),i};function wE(e,t){t.baton!==void 0&&e.string("baton",t.baton),e.arrayObjects("requests",t.requests,EE)}function EE(e,t){if(e.stringRaw("type",t.type),t.type!=="close"){if(t.type==="execute")e.object("stmt",t.stmt,Td);else if(t.type==="batch")e.object("batch",t.batch,Xl);else if(t.type==="sequence")t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId);else if(t.type==="describe")t.sql!==void 0&&e.string("sql",t.sql),t.sqlId!==void 0&&e.number("sql_id",t.sqlId);else if(t.type==="store_sql")e.number("sql_id",t.sqlId),e.string("sql",t.sql);else if(t.type==="close_sql")e.number("sql_id",t.sqlId);else if(t.type!=="get_autocommit")throw fe(t,"Impossible type of StreamRequest")}}function SE(e,t){t.baton!==void 0&&e.string("baton",t.baton),e.object("batch",t.batch,Xl)}function _E(e,t){t.baton!==void 0&&e.string(1,t.baton);for(const n of t.requests)e.message(2,n,NE)}function NE(e,t){if(t.type==="close")e.message(1,t,jE);else if(t.type==="execute")e.message(2,t,CE);else if(t.type==="batch")e.message(3,t,kE);else if(t.type==="sequence")e.message(4,t,TE);else if(t.type==="describe")e.message(5,t,RE);else if(t.type==="store_sql")e.message(6,t,bE);else if(t.type==="close_sql")e.message(7,t,IE);else if(t.type==="get_autocommit")e.message(8,t,PE);else throw fe(t,"Impossible type of StreamRequest")}function jE(e,t){}function CE(e,t){e.message(1,t.stmt,Rd)}function kE(e,t){e.message(1,t.batch,Na)}function TE(e,t){t.sql!==void 0&&e.string(1,t.sql),t.sqlId!==void 0&&e.int32(2,t.sqlId)}function RE(e,t){t.sql!==void 0&&e.string(1,t.sql),t.sqlId!==void 0&&e.int32(2,t.sqlId)}function bE(e,t){e.int32(1,t.sqlId),e.string(2,t.sql)}function IE(e,t){e.int32(1,t.sqlId)}function PE(e,t){}function AE(e,t){t.baton!==void 0&&e.string(1,t.baton),e.message(2,t.batch,Na)}var dn,zn,Ps,mo,qn,Rt,$n,fn,pn,Vn,Ht,As,$,Rn,vc,xr,Xy,Jy,xc,Zy,eg,wc;class LE extends ky{constructor(n,r,s,i){super(n.intMode);C(this,$);C(this,dn);C(this,zn);C(this,Ps);C(this,mo);C(this,qn);C(this,Rt);C(this,$n);C(this,fn);C(this,pn);C(this,Vn);C(this,Ht);C(this,As);E(this,dn,n),E(this,zn,r.toString()),E(this,Ps,s),E(this,mo,i),E(this,qn,void 0),E(this,Rt,new Gl),E(this,$n,!1),E(this,pn,!1),E(this,Vn,!1),E(this,Ht,void 0),E(this,As,new ki)}client(){return d(this,dn)}_sqlOwner(){return this}storeSql(n){const r=d(this,As).alloc();return k(this,$,Rn).call(this,{type:"store_sql",sqlId:r,sql:n}).then(()=>{},s=>this._setClosed(s)),new kd(this,r)}_closeSql(n){d(this,Ht)===void 0&&k(this,$,Rn).call(this,{type:"close_sql",sqlId:n}).then(()=>d(this,As).free(n),r=>this._setClosed(r))}_execute(n){return k(this,$,Rn).call(this,{type:"execute",stmt:n}).then(r=>r.result)}_batch(n){return k(this,$,Rn).call(this,{type:"batch",batch:n}).then(r=>r.result)}_describe(n){return k(this,$,Rn).call(this,{type:"describe",sql:n.sql,sqlId:n.sqlId}).then(r=>r.result)}_sequence(n){return k(this,$,Rn).call(this,{type:"sequence",sql:n.sql,sqlId:n.sqlId}).then(r=>{})}getAutocommit(){return d(this,dn)._ensureVersion(3,"getAutocommit()"),k(this,$,Rn).call(this,{type:"get_autocommit"}).then(n=>n.isAutocommit)}_openCursor(n){return new Promise((r,s)=>{k(this,$,vc).call(this,{type:"cursor",batch:n,cursorCallback:r,errorCallback:s})})}_cursorClosed(n){if(n!==d(this,fn))throw new ir("Cursor was closed, but it was not associated with the stream");E(this,fn,void 0),fs(()=>k(this,$,xr).call(this))}close(){this._setClosed(new ue("Stream was manually closed"))}closeGracefully(){E(this,pn,!0),fs(()=>k(this,$,xr).call(this))}get closed(){return d(this,Ht)!==void 0||d(this,pn)}_setClosed(n){if(d(this,Ht)===void 0){for(E(this,Ht,n),d(this,fn)!==void 0&&d(this,fn)._setClosed(n),d(this,dn)._streamClosed(this);;){const r=d(this,Rt).shift();if(r!==void 0)r.errorCallback(n);else break}(d(this,qn)!==void 0||d(this,$n))&&!d(this,Vn)&&(d(this,Rt).push({type:"pipeline",request:{type:"close"},responseCallback:()=>{},errorCallback:()=>{}}),E(this,Vn,!0),fs(()=>k(this,$,xr).call(this)))}}}dn=new WeakMap,zn=new WeakMap,Ps=new WeakMap,mo=new WeakMap,qn=new WeakMap,Rt=new WeakMap,$n=new WeakMap,fn=new WeakMap,pn=new WeakMap,Vn=new WeakMap,Ht=new WeakMap,As=new WeakMap,$=new WeakSet,Rn=function(n){return new Promise((r,s)=>{k(this,$,vc).call(this,{type:"pipeline",request:n,responseCallback:r,errorCallback:s})})},vc=function(n){if(d(this,Ht)!==void 0)throw new xt("Stream is closed",d(this,Ht));if(d(this,pn))throw new xt("Stream is closing",void 0);d(this,Rt).push(n),fs(()=>k(this,$,xr).call(this))},xr=function(){if(d(this,$n)||d(this,fn)!==void 0)return;if(d(this,pn)&&d(this,Rt).length===0){this._setClosed(new ue("Stream was gracefully closed"));return}const n=d(this,dn)._endpoint;if(n===void 0){d(this,dn)._endpointPromise.then(()=>k(this,$,xr).call(this),s=>this._setClosed(s));return}const r=d(this,Rt).shift();if(r!==void 0)if(r.type==="pipeline"){const s=[r];for(;;){const i=d(this,Rt).first();if(i!==void 0&&i.type==="pipeline")s.push(i),d(this,Rt).shift();else if(i===void 0&&d(this,pn)&&!d(this,Vn)){s.push({type:"pipeline",request:{type:"close"},responseCallback:()=>{},errorCallback:()=>{}}),E(this,Vn,!0);break}else break}k(this,$,Xy).call(this,n,s)}else if(r.type==="cursor")k(this,$,Jy).call(this,n,r);else throw fe(r,"Impossible type of QueueEntry")},Xy=function(n,r){k(this,$,xc).call(this,()=>k(this,$,Zy).call(this,r,n),s=>DE(s,n.encoding),s=>s.baton,s=>s.baseUrl,s=>OE(r,s),s=>r.forEach(i=>i.errorCallback(s)))},Jy=function(n,r){const s=new xE(this,n.encoding);E(this,fn,s),k(this,$,xc).call(this,()=>k(this,$,eg).call(this,r,n),i=>s.open(i),i=>i.baton,i=>i.baseUrl,i=>r.cursorCallback(s),i=>r.errorCallback(i))},xc=function(n,r,s,i,o,a){let u;try{const c=n();u=d(this,mo)(c)}catch(c){u=Promise.reject(c)}E(this,$n,!0),u.then(c=>c.ok?r(c):ME(c).then(p=>{throw p})).then(c=>{E(this,qn,s(c)),E(this,zn,i(c)??d(this,zn)),o(c)}).catch(c=>{this._setClosed(c),a(c)}).finally(()=>{E(this,$n,!1),k(this,$,xr).call(this)})},Zy=function(n,r){return k(this,$,wc).call(this,new URL(r.pipelinePath,d(this,zn)),{baton:d(this,qn),requests:n.map(s=>s.request)},r.encoding,wE,_E)},eg=function(n,r){if(r.cursorPath===void 0)throw new Ks(`Cursors are supported only on protocol version 3 and higher, but the HTTP server only supports version ${r.version}.`);return k(this,$,wc).call(this,new URL(r.cursorPath,d(this,zn)),{baton:d(this,qn),batch:n.batch},r.encoding,SE,AE)},wc=function(n,r,s,i,o){let a,u;if(s==="json")a=gy(r,i),u="application/json";else if(s==="protobuf")a=xy(r,o),u="application/x-protobuf";else throw fe(s,"Impossible encoding");const c=new iE;return c.set("content-type",u),d(this,Ps)!==void 0&&c.set("authorization",`Bearer ${d(this,Ps)}`),new Qy(n.toString(),{method:"POST",headers:c,body:a})};function OE(e,t){if(t.results.length!==e.length)throw new q("Server returned unexpected number of pipeline results");for(let n=0;n<e.length;++n){const r=t.results[n],s=e[n];if(r.type==="ok"){if(r.response.type!==s.request.type)throw new q("Received unexpected type of response");s.responseCallback(r.response)}else if(r.type==="error")s.errorCallback(Gs(r.error));else throw r.type==="none"?new q("Received unrecognized type of StreamResult"):fe(r,"Received impossible type of StreamResult")}}async function DE(e,t){var n;if(t==="json"){const r=await e.json();return Cd(r,lE)}if(t==="protobuf"){const r=await e.arrayBuffer();return _a(new Uint8Array(r),dE)}throw await((n=e.body)==null?void 0:n.cancel()),fe(t,"Impossible encoding")}async function ME(e){var r;const t=e.headers.get("content-type")??"text/plain";let n=`Server returned HTTP status ${e.status}`;if(t==="application/json"){const s=await e.json();return"message"in s?Gs(s):new vl(n,e.status)}if(t==="text/plain"){const s=(await e.text()).trim();return s!==""&&(n+=`: ${s}`),new vl(n,e.status)}return await((r=e.body)==null?void 0:r.cancel()),new vl(n,e.status)}const FE=[{versionPath:"v3-protobuf",pipelinePath:"v3-protobuf/pipeline",cursorPath:"v3-protobuf/cursor",version:3,encoding:"protobuf"}],Ec={versionPath:"v2",pipelinePath:"v2/pipeline",cursorPath:void 0,version:2,encoding:"json"};var Ls,yo,Os,hn,Pr,Ds,Sl,_p;let UE=(_p=class extends hy{constructor(n,r,s,i=2){super();C(this,Ds);C(this,Ls);C(this,yo);C(this,Os);C(this,hn);C(this,Pr);H(this,"_endpointPromise");H(this,"_endpoint");E(this,Ls,n),E(this,yo,r),E(this,Os,s??sE),E(this,hn,void 0),E(this,Pr,new Set),i==3?(this._endpointPromise=zE(d(this,Os),d(this,Ls)),this._endpointPromise.then(o=>this._endpoint=o,o=>k(this,Ds,Sl).call(this,o))):(this._endpointPromise=Promise.resolve(Ec),this._endpointPromise.then(o=>this._endpoint=o,o=>k(this,Ds,Sl).call(this,o)))}async getVersion(){return this._endpoint!==void 0?this._endpoint.version:(await this._endpointPromise).version}_ensureVersion(n,r){if(!(n<=Ec.version)){if(this._endpoint===void 0)throw new Ks(`${r} is supported only on protocol version ${n} and higher, but the version supported by the HTTP server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(this._endpoint.version<n)throw new Ks(`${r} is supported only on protocol version ${n} and higher, but the HTTP server only supports version ${this._endpoint.version}.`)}}openStream(){if(d(this,hn)!==void 0)throw new xt("Client is closed",d(this,hn));const n=new LE(this,d(this,Ls),d(this,yo),d(this,Os));return d(this,Pr).add(n),n}_streamClosed(n){d(this,Pr).delete(n)}close(){k(this,Ds,Sl).call(this,new ue("Client was manually closed"))}get closed(){return d(this,hn)!==void 0}},Ls=new WeakMap,yo=new WeakMap,Os=new WeakMap,hn=new WeakMap,Pr=new WeakMap,Ds=new WeakSet,Sl=function(n){if(d(this,hn)===void 0){E(this,hn,n);for(const r of Array.from(d(this,Pr)))r._setClosed(new xt("Client was closed",n))}},_p);async function zE(e,t){const n=e;for(const r of FE){const s=new URL(r.versionPath,t),i=new Qy(s.toString(),{method:"GET"}),o=await n(i);if(await o.arrayBuffer(),o.ok)return r}return Ec}function tg(e,t,n=2){if(typeof ds>"u")throw new yy("WebSockets are not supported in this environment");var r=void 0;n==3?r=Array.from(qy.keys()):r=Array.from(nE.keys());const s=new ds(e,r);return new rE(s,t)}function hp(e,t,n,r=2){return new UE(e instanceof URL?e:new URL(e),t,n,r)}var Ms,mn,Fe;class ng{constructor(t,n){C(this,Ms);C(this,mn);C(this,Fe);E(this,Ms,t),E(this,mn,n),E(this,Fe,void 0)}execute(t){return this.batch([t]).then(n=>n[0])}async batch(t){const n=this._getStream();if(n.closed)throw new Y("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{const r=t.map(Fr);let s;if(d(this,Fe)===void 0){this._getSqlCache().apply(r);const o=n.batch(d(this,mn)>=3),a=o.step(),u=a.run(oc(d(this,Ms)));let c=a;s=r.map(p=>{const h=o.step().condition(Ye.ok(c));d(this,mn)>=3&&h.condition(Ye.not(Ye.isAutocommit(o)));const g=h.query(p);return g.catch(()=>{}),c=h,g}),E(this,Fe,o.execute().then(()=>u).then(()=>{}));try{await d(this,Fe)}catch(p){throw this.close(),p}}else{d(this,mn)<3&&await d(this,Fe),this._getSqlCache().apply(r);const o=n.batch(d(this,mn)>=3);let a;s=r.map(u=>{const c=o.step();a!==void 0&&c.condition(Ye.ok(a)),d(this,mn)>=3&&c.condition(Ye.not(Ye.isAutocommit(o)));const p=c.query(u);return p.catch(()=>{}),a=c,p}),await o.execute()}const i=[];for(const o of s){const a=await o;if(a===void 0)throw new Y("Statement in a transaction was not executed, probably because the transaction has been rolled back","TRANSACTION_CLOSED");i.push(ja(a))}return i}catch(r){throw ce(r)}}async executeMultiple(t){const n=this._getStream();if(n.closed)throw new Y("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{if(d(this,Fe)===void 0){E(this,Fe,n.run(oc(d(this,Ms))).then(()=>{}));try{await d(this,Fe)}catch(r){throw this.close(),r}}else await d(this,Fe);await n.sequence(t)}catch(r){throw ce(r)}}async rollback(){try{const t=this._getStream();if(t.closed||d(this,Fe)===void 0)return;const n=t.run("ROLLBACK").catch(r=>{throw ce(r)});t.closeGracefully(),await n}catch(t){throw ce(t)}finally{this.close()}}async commit(){try{const t=this._getStream();if(t.closed)throw new Y("Cannot commit the transaction because it is already closed","TRANSACTION_CLOSED");if(d(this,Fe)!==void 0)await d(this,Fe);else return;const n=t.run("COMMIT").catch(r=>{throw ce(r)});t.closeGracefully(),await n}catch(t){throw ce(t)}finally{this.close()}}}Ms=new WeakMap,mn=new WeakMap,Fe=new WeakMap;async function ea(e,t,n,r,s=!1){s&&n.step().run("PRAGMA foreign_keys=off");const i=n.step(),o=i.run(oc(e));let a=i;const u=r.map(w=>{const x=n.step().condition(Ye.ok(a));t>=3&&x.condition(Ye.not(Ye.isAutocommit(n)));const S=x.query(w);return a=x,S}),c=n.step().condition(Ye.ok(a));t>=3&&c.condition(Ye.not(Ye.isAutocommit(n)));const p=c.run("COMMIT");n.step().condition(Ye.not(Ye.ok(c))).run("ROLLBACK").catch(w=>{}),s&&n.step().run("PRAGMA foreign_keys=on"),await n.execute();const g=[];await o;for(const w of u){const x=await w;if(x===void 0)throw new Y("Statement in a batch was not executed, probably because the transaction has been rolled back","TRANSACTION_CLOSED");g.push(ja(x))}return await p,g}function Fr(e){let t,n;Array.isArray(e)?[t,n]=e:typeof e=="string"?t=e:(t=e.sql,n=e.args);const r=new jy(t);if(n)if(Array.isArray(n))r.bindIndexes(n);else for(const[s,i]of Object.entries(n))r.bindName(s,i);return r}function ja(e){const t=e.columnNames.map(o=>o??""),n=e.columnDecltypes.map(o=>o??""),r=e.rows,s=e.affectedRowCount,i=e.lastInsertRowid!==void 0?e.lastInsertRowid:void 0;return new Gw(t,n,r,s,i)}function ce(e){if(e instanceof ue){const t=rg(e);return new Y(e.message,t,void 0,e)}return e}function rg(e){return e instanceof my&&e.code!==void 0?e.code:e instanceof q?"HRANA_PROTO_ERROR":e instanceof xt?e.cause instanceof ue?rg(e.cause):"HRANA_CLOSED_ERROR":e instanceof lc?"HRANA_WEBSOCKET_ERROR":e instanceof vl?"SERVER_ERROR":e instanceof Ks?"PROTOCOL_VERSION_ERROR":e instanceof ir?"INTERNAL_ERROR":"UNKNOWN"}var go,Wt;class Pd{constructor(t,n){C(this,go);C(this,Wt);H(this,"capacity");E(this,go,t),E(this,Wt,new qE),this.capacity=n}apply(t){if(this.capacity<=0)return;const n=new Set;for(const r of t){if(typeof r.sql!="string")continue;const s=r.sql;if(s.length>=5e3)continue;let i=d(this,Wt).get(s);if(i===void 0){for(;d(this,Wt).size+1>this.capacity;){const[o,a]=d(this,Wt).peekLru();if(n.has(a))break;a.close(),d(this,Wt).delete(o)}d(this,Wt).size+1<=this.capacity&&(i=d(this,go).storeSql(s),d(this,Wt).set(s,i))}i!==void 0&&(r.sql=i,n.add(i))}}}go=new WeakMap,Wt=new WeakMap;var bt;class qE{constructor(){C(this,bt);E(this,bt,new Map)}get(t){const n=d(this,bt).get(t);return n!==void 0&&(d(this,bt).delete(t),d(this,bt).set(t,n)),n}set(t,n){d(this,bt).set(t,n)}peekLru(){for(const t of d(this,bt).entries())return t}delete(t){d(this,bt).delete(t)}get size(){return d(this,bt).size}}bt=new WeakMap;function $E(e){var t=0,n=[];function r(){t--,t<e&&s()}function s(){var u=n.shift();a.queue=n.length,u&&o(u.fn).then(u.resolve).catch(u.reject)}function i(u){return new Promise(function(c,p){n.push({fn:u,resolve:c,reject:p}),a.queue=n.length})}function o(u){t++;try{return Promise.resolve(u()).then(function(c){return r(),c},function(c){throw r(),c})}catch(c){return r(),Promise.reject(c)}}var a=function(u){return t>=e?i(u):o(u)};return a}function VE(e,t){var n=!1,r=this;return Promise.all(e.map(function(){var s=arguments;return r(function(){if(!n)return t.apply(void 0,s).catch(function(i){throw n=!0,i})})}))}function mp(e){return e.queue=0,e.map=VE,e}var BE=function(e){return mp(e?$E(e):function(t){return t()})};const sg=Np(BE);function HE(e){if(e.scheme!=="wss"&&e.scheme!=="ws")throw new Y(`The WebSocket client supports only "libsql:", "wss:" and "ws:" URLs, got ${JSON.stringify(e.scheme+":")}. For more information, please read ${lo}`,"URL_SCHEME_NOT_SUPPORTED");if(e.encryptionKey!==void 0)throw new Y("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if(e.scheme==="ws"&&e.tls)throw new Y('A "ws:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if(e.scheme==="wss"&&!e.tls)throw new Y('A "wss:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");const t=rc(e.scheme,e.authority,e.path);let n;try{n=tg(t,e.authToken)}catch(r){if(r instanceof yy){const s=e.scheme==="wss"?"https":"http",i=rc(s,e.authority,e.path);throw new Y(`This environment does not support WebSockets, please switch to the HTTP client by using a "${s}:" URL (${JSON.stringify(i)}). For more information, please read ${lo}`,"WEBSOCKETS_NOT_SUPPORTED")}throw ce(r)}return new QE(n,t,e.authToken,e.intMode,e.concurrency)}const WE=60*1e3,yp=100;var vo,xo,wo,we,Le,_c,Eo,ot,Jr,bi;class QE{constructor(t,n,r,s,i){C(this,ot);C(this,vo);C(this,xo);C(this,wo);C(this,we);C(this,Le);H(this,"closed");H(this,"protocol");C(this,_c);C(this,Eo);E(this,vo,n),E(this,xo,r),E(this,wo,s),E(this,we,k(this,ot,bi).call(this,t)),E(this,Le,void 0),this.closed=!1,this.protocol="ws",E(this,Eo,sg(i))}async limit(t){return d(this,Eo).call(this,t)}async execute(t,n){let r;return typeof t=="string"?r={sql:t,args:n||[]}:r=t,this.limit(async()=>{const s=await k(this,ot,Jr).call(this);try{const i=Fr(r);s.conn.sqlCache.apply([i]);const o=s.stream.query(i);s.stream.closeGracefully();const a=await o;return ja(a)}catch(i){throw ce(i)}finally{this._closeStream(s)}})}async batch(t,n="deferred"){return this.limit(async()=>{const r=await k(this,ot,Jr).call(this);try{const i=t.map(p=>Array.isArray(p)?{sql:p[0],args:p[1]||[]}:p).map(Fr),o=await r.conn.client.getVersion();r.conn.sqlCache.apply(i);const a=r.stream.batch(o>=3);return await ea(n,o,a,i)}catch(s){throw ce(s)}finally{this._closeStream(r)}})}async migrate(t){return this.limit(async()=>{const n=await k(this,ot,Jr).call(this);try{const r=t.map(Fr),s=await n.conn.client.getVersion(),i=n.stream.batch(s>=3);return await ea("deferred",s,i,r,!0)}catch(r){throw ce(r)}finally{this._closeStream(n)}})}async transaction(t="write"){return this.limit(async()=>{const n=await k(this,ot,Jr).call(this);try{const r=await n.conn.client.getVersion();return new YE(this,n,t,r)}catch(r){throw this._closeStream(n),ce(r)}})}async executeMultiple(t){return this.limit(async()=>{const n=await k(this,ot,Jr).call(this);try{const r=n.stream.sequence(t);n.stream.closeGracefully(),await r}catch(r){throw ce(r)}finally{this._closeStream(n)}})}sync(){throw new Y("sync not supported in ws mode","SYNC_NOT_SUPPORTED")}async reconnect(){try{for(const r of Array.from(d(this,we).streamStates))try{r.stream.close()}catch{}d(this,we).client.close()}catch{}if(d(this,Le)){try{d(this,Le).client.close()}catch{}E(this,Le,void 0)}const t=k(this,ot,bi).call(this),n=await t.client.getVersion();t.useSqlCache=n>=2,t.useSqlCache&&(t.sqlCache.capacity=yp),E(this,we,t),this.closed=!1}_closeStream(t){t.stream.close();const n=t.conn;n.streamStates.delete(t),n.streamStates.size===0&&n!==d(this,we)&&n.client.close()}close(){if(d(this,we).client.close(),this.closed=!0,d(this,Le)){try{d(this,Le).client.close()}catch{}E(this,Le,void 0)}this.closed=!0}}vo=new WeakMap,xo=new WeakMap,wo=new WeakMap,we=new WeakMap,Le=new WeakMap,_c=new WeakMap,Eo=new WeakMap,ot=new WeakSet,Jr=async function(){if(this.closed)throw new Y("The client is closed","CLIENT_CLOSED");if(new Date().valueOf()-d(this,we).openTime.valueOf()>WE&&d(this,Le)===void 0){const s=k(this,ot,bi).call(this);E(this,Le,s),s.client.getVersion().then(i=>{d(this,we)!==s&&d(this,we).streamStates.size===0&&d(this,we).client.close(),E(this,we,s),E(this,Le,void 0)},i=>{E(this,Le,void 0)})}if(d(this,we).client.closed)try{d(this,Le)!==void 0?E(this,we,d(this,Le)):E(this,we,k(this,ot,bi).call(this))}catch(s){throw ce(s)}const r=d(this,we);try{r.useSqlCache===void 0&&(r.useSqlCache=await r.client.getVersion()>=2,r.useSqlCache&&(r.sqlCache.capacity=yp));const s=r.client.openStream();s.intMode=d(this,wo);const i={conn:r,stream:s};return r.streamStates.add(i),i}catch(s){throw ce(s)}},bi=function(t){try{return t??(t=tg(d(this,vo),d(this,xo))),{client:t,useSqlCache:void 0,sqlCache:new Pd(t,0),openTime:new Date,streamStates:new Set}}catch(n){throw ce(n)}};var So,Bn;class YE extends ng{constructor(n,r,s,i){super(s,i);C(this,So);C(this,Bn);E(this,So,n),E(this,Bn,r)}_getStream(){return d(this,Bn).stream}_getSqlCache(){return d(this,Bn).conn.sqlCache}close(){d(this,So)._closeStream(d(this,Bn))}get closed(){return d(this,Bn).stream.closed}}So=new WeakMap,Bn=new WeakMap;function KE(e){if(e.scheme!=="https"&&e.scheme!=="http")throw new Y(`The HTTP client supports only "libsql:", "https:" and "http:" URLs, got ${JSON.stringify(e.scheme+":")}. For more information, please read ${lo}`,"URL_SCHEME_NOT_SUPPORTED");if(e.encryptionKey!==void 0)throw new Y("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if(e.scheme==="http"&&e.tls)throw new Y('A "http:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if(e.scheme==="https"&&!e.tls)throw new Y('A "https:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");const t=rc(e.scheme,e.authority,e.path);return new GE(t,e.authToken,e.intMode,e.fetch,e.concurrency)}const ig=30;var Ee,Fs,Us,zs,_o,qs,No;class GE{constructor(t,n,r,s,i){C(this,Ee);H(this,"protocol");C(this,Fs);C(this,Us);C(this,zs);C(this,_o);C(this,qs);C(this,No);E(this,Fs,t),E(this,qs,n),E(this,Us,r),E(this,zs,s),E(this,_o,i),E(this,Ee,hp(d(this,Fs),d(this,qs),d(this,zs))),d(this,Ee).intMode=d(this,Us),this.protocol="http",E(this,No,sg(d(this,_o)))}async limit(t){return d(this,No).call(this,t)}async execute(t,n){let r;return typeof t=="string"?r={sql:t,args:n||[]}:r=t,this.limit(async()=>{try{const s=Fr(r);let i;const o=d(this,Ee).openStream();try{i=o.query(s)}finally{o.closeGracefully()}const a=await i;return ja(a)}catch(s){throw ce(s)}})}async batch(t,n="deferred"){return this.limit(async()=>{try{const s=t.map(c=>Array.isArray(c)?{sql:c[0],args:c[1]||[]}:c).map(Fr),i=await d(this,Ee).getVersion();let o;const a=d(this,Ee).openStream();try{new Pd(a,ig).apply(s);const p=a.batch(!1);o=ea(n,i,p,s)}finally{a.closeGracefully()}return await o}catch(r){throw ce(r)}})}async migrate(t){return this.limit(async()=>{try{const n=t.map(Fr),r=await d(this,Ee).getVersion();let s;const i=d(this,Ee).openStream();try{const a=i.batch(!1);s=ea("deferred",r,a,n,!0)}finally{i.closeGracefully()}return await s}catch(n){throw ce(n)}})}async transaction(t="write"){return this.limit(async()=>{try{const n=await d(this,Ee).getVersion();return new XE(d(this,Ee).openStream(),t,n)}catch(n){throw ce(n)}})}async executeMultiple(t){return this.limit(async()=>{try{let n;const r=d(this,Ee).openStream();try{n=r.sequence(t)}finally{r.closeGracefully()}await n}catch(n){throw ce(n)}})}sync(){throw new Y("sync not supported in http mode","SYNC_NOT_SUPPORTED")}close(){d(this,Ee).close()}async reconnect(){try{this.closed||d(this,Ee).close()}finally{E(this,Ee,hp(d(this,Fs),d(this,qs),d(this,zs))),d(this,Ee).intMode=d(this,Us)}}get closed(){return d(this,Ee).closed}}Ee=new WeakMap,Fs=new WeakMap,Us=new WeakMap,zs=new WeakMap,_o=new WeakMap,qs=new WeakMap,No=new WeakMap;var Ar,jo;class XE extends ng{constructor(n,r,s){super(r,s);C(this,Ar);C(this,jo);E(this,Ar,n),E(this,jo,new Pd(n,ig))}_getStream(){return d(this,Ar)}_getSqlCache(){return d(this,jo)}close(){d(this,Ar).close()}get closed(){return d(this,Ar).closed}}Ar=new WeakMap,jo=new WeakMap;function JE(e){return ZE(Zw(e))}function ZE(e){if(e.scheme==="ws"||e.scheme==="wss")return HE(e);if(e.scheme==="http"||e.scheme==="https")return KE(e);throw new Y(`The client that uses Web standard APIs supports only "libsql:", "wss:", "ws:", "https:" and "http:" URLs, got ${JSON.stringify(e.scheme+":")}. For more information, please read ${lo}`,"URL_SCHEME_NOT_SUPPORTED")}const ye=JE({url:"libsql://thexsolfines-frontenddev.aws-ap-south-1.turso.io",authToken:"eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJhIjoicnciLCJpYXQiOjE3NTgxODk2MzcsImlkIjoiZThhODE1ODMtZDY3Ni00ZDkzLWFkODMtMWMwMTVjNzNjMzA0IiwicmlkIjoiODJhOTYzOGEtMzY0MC00ZTMxLTk1YzItZDdmYzZiNWY3NzU5In0.9T0vETRcXFCM-20MtRQH2sohTt6L2tnz7rhwh5gLX68NnuSwJHI25UzxqCXagJSgXrXKpjy5G75-rTl5740EAQ"}),rl=1;async function eS(){try{console.log("🗄️ Checking database status..."),await ye.execute(`
      CREATE TABLE IF NOT EXISTS schema_info (
        version INTEGER PRIMARY KEY,
        initialized_at DATETIME DEFAULT CURRENT_TIMESTAMP,
        last_updated DATETIME DEFAULT CURRENT_TIMESTAMP
      )
    `);const e=await ye.execute("SELECT version FROM schema_info ORDER BY version DESC LIMIT 1"),t=e.rows.length>0?e.rows[0].version:0,n=t===0,r=t<rl;return!n&&!r?(console.log("✅ Database is up to date, skipping initialization"),!0):(n?(console.log("🗄️ Initializing database for first time..."),await tS(),await nS(),await sS(),await ye.execute({sql:"INSERT INTO schema_info (version) VALUES (?)",args:[rl]}),console.log("✅ Database initialized successfully!")):r&&(console.log(`🔄 Updating database schema from version ${t} to ${rl}...`),await rS(t),await ye.execute({sql:"INSERT INTO schema_info (version) VALUES (?)",args:[rl]}),console.log("✅ Database schema updated successfully!")),!0)}catch(e){throw console.error("❌ Database initialization failed:",e),e}}async function tS(){await ye.execute(`
    CREATE TABLE IF NOT EXISTS employees (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      name TEXT NOT NULL,
      department TEXT,
      employee_id TEXT,
      phone TEXT,
      email TEXT,
      created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
      updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
    )
  `),await ye.execute(`
    CREATE TABLE IF NOT EXISTS violation_types (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      name TEXT NOT NULL,
      description TEXT,
      default_amount DECIMAL(10,2),
      severity TEXT DEFAULT 'Medium',
      suggestions TEXT,
      created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
      updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
    )
  `),await ye.execute(`
    CREATE TABLE IF NOT EXISTS fines (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      employee_id INTEGER NOT NULL,
      violation_type_id INTEGER NOT NULL,
      amount DECIMAL(10,2) NOT NULL,
      reason TEXT NOT NULL,
      notes TEXT,
      fine_date DATETIME DEFAULT CURRENT_TIMESTAMP,
      created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
      updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
      FOREIGN KEY (employee_id) REFERENCES employees (id),
      FOREIGN KEY (violation_type_id) REFERENCES violation_types (id)
    )
  `),await ye.execute(`
    CREATE TABLE IF NOT EXISTS admin_settings (
      id INTEGER PRIMARY KEY DEFAULT 1,
      admin_name TEXT,
      admin_email TEXT,
      admin_phone TEXT,
      company_name TEXT,
      smtp_server TEXT,
      smtp_port INTEGER,
      smtp_username TEXT,
      smtp_password TEXT,
      email_signature TEXT,
      updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
    )
  `)}async function nS(){(await ye.execute("SELECT id FROM admin_settings WHERE id = 1")).rows.length===0&&await ye.execute({sql:`
        INSERT INTO admin_settings (
          id, admin_name, admin_email, admin_phone, company_name,
          smtp_server, smtp_port, smtp_username, email_signature
        ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
      `,args:[1,"System Administrator","admin@company.com","+92-300-0000000","Your Company","",587,"","Best regards,<br>Fine Management System"]})}async function rS(e){console.log(`Running migrations from version ${e}...`),console.log("Migrations completed.")}async function sS(){try{console.log("🌱 Seeding initial demo data...");const e=await ye.execute("SELECT COUNT(*) as count FROM employees"),t=await ye.execute("SELECT COUNT(*) as count FROM violation_types"),n=await ye.execute("SELECT COUNT(*) as count FROM fines");if(e.rows[0].count>0||t.rows[0].count>0||n.rows[0].count>0){console.log("📊 Data already exists, skipping seed to prevent duplicates");return}const r=[["John Smith","IT","EMP001","+1-555-0101","john.smith@company.com"],["Sarah Johnson","HR","EMP002","+1-555-0102","sarah.johnson@company.com"],["Mike Davis","Finance","EMP003","+1-555-0103","mike.davis@company.com"],["Emma Wilson","Marketing","EMP004","+1-555-0104","emma.wilson@company.com"],["Robert Brown","Operations","EMP005","+1-555-0105","robert.brown@company.com"]];for(const o of r)await ye.execute({sql:"INSERT INTO employees (name, department, employee_id, phone, email) VALUES (?, ?, ?, ?, ?)",args:o});const s=[["Late Arrival","Employee arrived late to work",25,"Low",'["Set multiple alarms","Leave home earlier","Check traffic conditions"]'],["Dress Code Violation","Not following company dress code",15,"Low",'["Review dress code policy","Prepare clothes night before","Ask supervisor for clarification"]'],["Unauthorized Break","Taking break without permission",30,"Medium",'["Request permission from supervisor","Follow break schedule","Use official break times"]'],["Safety Violation","Not following safety protocols",100,"High",'["Review safety manual","Attend safety training","Report unsafe conditions"]'],["Phone Usage","Using personal phone during work hours",20,"Low",'["Put phone on silent","Use phone only during breaks","Keep phone in locker"]']];for(const o of s)await ye.execute({sql:"INSERT INTO violation_types (name, description, default_amount, severity, suggestions) VALUES (?, ?, ?, ?, ?)",args:o});const i=[[1,1,25,"Arrived 15 minutes late","Employee apologized and promised to improve","2024-01-15 09:15:00"],[2,2,15,"Wearing inappropriate casual wear","First warning given","2024-01-18 10:00:00"],[3,3,30,"Extended lunch break by 20 minutes","No prior approval obtained","2024-01-20 13:20:00"],[1,4,100,"Did not wear safety helmet in construction area","Serious safety concern","2024-01-22 14:30:00"],[4,5,20,"Using phone during meeting","Disrupted important client call","2024-01-25 11:45:00"]];for(const o of i)await ye.execute({sql:"INSERT INTO fines (employee_id, violation_type_id, amount, reason, notes, fine_date) VALUES (?, ?, ?, ?, ?, ?)",args:o});console.log("✅ Dummy data seeded successfully!")}catch(e){console.error("❌ Error seeding dummy data:",e)}}function oe(e){throw console.error("❌ Database Error:",e),new Error(e.message||"Database operation failed")}async function Xt(e,t=[]){try{const n=await ye.execute({sql:e,args:t});return{id:n.lastInsertRowid,changes:n.rowsAffected,rows:n.rows}}catch(n){throw n}}async function at(e,t=[]){try{return(await ye.execute({sql:e,args:t})).rows[0]||null}catch(n){throw n}}async function Es(e,t=[]){try{return(await ye.execute({sql:e,args:t})).rows}catch(n){throw n}}function Wr(e){if(e instanceof FormData){const t={};for(let[n,r]of e.entries())t[n]=r;return t}return e}const Ur={async login(e){const{username:t,password:n}=e,r="admin",s="admin5388@thex",i="viewer",o="view123@thex";if(t===r&&n===s){const a={username:r,isAdmin:!0,role:"admin",permissions:["view_fines","manage_fines","manage_employees","manage_violations","admin_settings"]};return localStorage.setItem("auth",JSON.stringify(a)),{success:!0,user:a}}else if(t===i&&n===o){const a={username:i,isAdmin:!1,role:"viewer",permissions:["view_fines"]};return localStorage.setItem("auth",JSON.stringify(a)),{success:!0,user:a}}else throw new Error("Invalid credentials")},async logout(){return localStorage.removeItem("auth"),{success:!0}},async checkAuth(){const e=localStorage.getItem("auth");return e?{isAuthenticated:!0,user:JSON.parse(e)}:{isAuthenticated:!1,user:null}},hasPermission(e,t){return e&&e.permissions&&e.permissions.includes(t)}},On={async getAll(){try{return{data:await Es("SELECT * FROM employees ORDER BY name")}}catch(e){oe(e)}},async getById(e){try{const t=await at("SELECT * FROM employees WHERE id = ?",[e]);if(!t)throw new Error("Employee not found");return{data:t}}catch(t){oe(t)}},async add(e){try{const t=Wr(e),{name:n,department:r,employee_id:s,phone:i,email:o}=t;if(!n||!n.trim())throw new Error("Employee name is required");const a=await Xt(`INSERT INTO employees (name, department, employee_id, phone, email)
         VALUES (?, ?, ?, ?, ?)`,[n.trim(),r||"",s||"",i||"",o||""]);return{data:{status:"success",employee:await at("SELECT * FROM employees WHERE id = ?",[a.id])}}}catch(t){oe(t)}},async update(e,t){try{const n=Wr(t),{name:r,department:s,employee_id:i,phone:o,email:a}=n;if(!r||!r.trim())throw new Error("Employee name is required");return await Xt("UPDATE employees SET name = ?, department = ?, employee_id = ?, phone = ?, email = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?",[r.trim(),s||"",i||"",o||"",a||"",e]),{data:{status:"success",employee:await at("SELECT * FROM employees WHERE id = ?",[e])}}}catch(n){oe(n)}},async delete(e,t={}){try{const{force:n}=t,r=await Es("SELECT * FROM fines WHERE employee_id = ?",[e]),s=await at("SELECT * FROM employees WHERE id = ?",[e]);if(r.length>0&&!n)throw new Error(`Cannot delete employee "${(s==null?void 0:s.name)||"Unknown"}" with ${r.length} existing fine(s). To delete anyway, please confirm in the dialog that appears.`);return await Xt("DELETE FROM employees WHERE id = ?",[e]),{data:{status:"success",message:r.length>0?`Employee deleted. ${r.length} fine record(s) remain for historical purposes.`:"Employee deleted successfully."}}}catch(n){oe(n)}},async getTotals(){try{return{data:await Es(`
        SELECT
          e.id as employee_id,
          e.name as employee,
          COUNT(f.id) as fine_count,
          COALESCE(SUM(f.amount), 0) as total_amount,
          COALESCE(AVG(f.amount), 0) as avg_amount,
          MIN(f.fine_date) as first_fine,
          MAX(f.fine_date) as last_fine
        FROM employees e
        LEFT JOIN fines f ON e.id = f.employee_id
        GROUP BY e.id, e.name
        ORDER BY total_amount DESC, e.name
      `)}}catch(e){oe(e)}}},ps={async getAll(){try{return{data:await Es("SELECT * FROM violation_types ORDER BY name")}}catch(e){oe(e)}},async getById(e){try{const t=await at("SELECT * FROM violation_types WHERE id = ?",[e]);if(!t)throw new Error("Violation type not found");return{data:t}}catch(t){oe(t)}},async add(e){try{const t=Wr(e),{name:n,description:r,default_amount:s,severity:i,suggestions:o}=t;if(!n||!n.trim())throw new Error("Violation name is required");if(!s||parseFloat(s)<=0)throw new Error("Valid default amount is required");const a=o?o.split(",").filter(p=>p.trim()):[],u=await Xt("INSERT INTO violation_types (name, description, default_amount, severity, suggestions) VALUES (?, ?, ?, ?, ?)",[n.trim(),r||"",parseFloat(s),i||"Medium",JSON.stringify(a)]);return{data:{status:"success",violationType:await at("SELECT * FROM violation_types WHERE id = ?",[u.id])}}}catch(t){oe(t)}},async update(e,t){try{const n=Wr(t),{name:r,description:s,default_amount:i,severity:o,suggestions:a}=n;if(!r||!r.trim())throw new Error("Violation name is required");if(!i||parseFloat(i)<=0)throw new Error("Valid default amount is required");const u=a?a.split(",").filter(p=>p.trim()):[];return await Xt("UPDATE violation_types SET name = ?, description = ?, default_amount = ?, severity = ?, suggestions = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?",[r.trim(),s||"",parseFloat(i),o||"Medium",JSON.stringify(u),e]),{data:{status:"success",violationType:await at("SELECT * FROM violation_types WHERE id = ?",[e])}}}catch(n){oe(n)}},async delete(e){try{if((await Es("SELECT * FROM fines WHERE violation_type_id = ?",[e])).length>0)throw new Error("Cannot delete violation type that is used in fines");return await Xt("DELETE FROM violation_types WHERE id = ?",[e]),{data:{status:"success"}}}catch(t){oe(t)}}},zr={async getAll(e={}){try{const{startDate:t,endDate:n,employeeId:r,violationTypeId:s,minAmount:i,maxAmount:o,searchTerm:a}=e;let u=`
        SELECT
          f.*,
          e.name as employee,
          vt.name as violation_name,
          f.fine_date as date
        FROM fines f
        LEFT JOIN employees e ON f.employee_id = e.id
        LEFT JOIN violation_types vt ON f.violation_type_id = vt.id
      `;const c=[],p=[];if(t&&n?(p.push("DATE(f.fine_date) BETWEEN DATE(?) AND DATE(?)"),c.push(t,n)):t?(p.push("DATE(f.fine_date) >= DATE(?)"),c.push(t)):n&&(p.push("DATE(f.fine_date) <= DATE(?)"),c.push(n)),r&&r!=="all"&&(p.push("f.employee_id = ?"),c.push(r)),s&&s!=="all"&&(p.push("f.violation_type_id = ?"),c.push(s)),i&&parseFloat(i)>0&&(p.push("f.amount >= ?"),c.push(parseFloat(i))),o&&parseFloat(o)>0&&(p.push("f.amount <= ?"),c.push(parseFloat(o))),a&&a.trim()){p.push("(e.name LIKE ? OR vt.name LIKE ? OR f.reason LIKE ? OR f.notes LIKE ?)");const g=`%${a.trim()}%`;c.push(g,g,g,g)}return p.length>0&&(u+=" WHERE "+p.join(" AND ")),u+=" ORDER BY f.fine_date DESC",{data:await Es(u,c)}}catch(t){oe(t)}},async getById(e){try{const t=await at("SELECT * FROM fines WHERE id = ?",[e]);if(!t)throw new Error("Fine not found");return{data:t}}catch(t){oe(t)}},async add(e){try{const t=Wr(e),{employee_id:n,violation_type_id:r,amount:s,reason:i,notes:o,fine_date:a}=t;if(!n||parseInt(n)<=0)throw new Error("Employee is required");if(!r||parseInt(r)<=0)throw new Error("Violation type is required");if(!s||parseFloat(s)<=0)throw new Error("Valid amount is required");if(!i||!i.trim())throw new Error("Reason is required");if(!await at("SELECT * FROM employees WHERE id = ?",[n]))throw new Error("Selected employee not found");if(!await at("SELECT * FROM violation_types WHERE id = ?",[r]))throw new Error("Selected violation type not found");const p=a||new Date().toISOString();return{data:{status:"success",fine_id:(await Xt("INSERT INTO fines (employee_id, violation_type_id, amount, reason, notes, fine_date) VALUES (?, ?, ?, ?, ?, ?)",[parseInt(n),parseInt(r),parseFloat(s),i.trim(),o||"",p])).id}}}catch(t){oe(t)}},async update(e,t){try{const n=Wr(t),{employee_id:r,violation_type_id:s,amount:i,reason:o,notes:a,fine_date:u}=n;if(!r||parseInt(r)<=0)throw new Error("Employee is required");if(!s||parseInt(s)<=0)throw new Error("Violation type is required");if(!i||parseFloat(i)<=0)throw new Error("Valid amount is required");if(!o||!o.trim())throw new Error("Reason is required");const c=u?"UPDATE fines SET employee_id = ?, violation_type_id = ?, amount = ?, reason = ?, notes = ?, fine_date = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?":"UPDATE fines SET employee_id = ?, violation_type_id = ?, amount = ?, reason = ?, notes = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?",p=u?[parseInt(r),parseInt(s),parseFloat(i),o.trim(),a||"",u,e]:[parseInt(r),parseInt(s),parseFloat(i),o.trim(),a||"",e];return await Xt(c,p),{data:{status:"success",fine:await at("SELECT * FROM fines WHERE id = ?",[e])}}}catch(n){oe(n)}},async delete(e){try{return await Xt("DELETE FROM fines WHERE id = ?",[e]),{data:{status:"success"}}}catch(t){oe(t)}},async emailReceipt(e,t=null){try{const r=await fetch(`http://localhost:5173//api/send-email-receipt?fineId=${e}`,{method:"POST",headers:{"Content-Type":"application/json"}}),s=await r.json();if(!r.ok)throw new Error(s.error||"Failed to send email");return{data:s}}catch(n){oe(n)}},async emailEmployeeReport(e){try{const n=await fetch(`http://localhost:5173//api/send-employee-report?employeeName=${encodeURIComponent(e)}`,{method:"POST",headers:{"Content-Type":"application/json"}}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to send email");return{data:r}}catch(t){oe(t)}},async sendTestEmail(e){try{const n=await fetch("http://localhost:5173//api/send-test-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({testEmail:e})}),r=await n.text();if(!r.trim())throw new Error("Server returned empty response. Please check your server configuration.");let s;try{s=JSON.parse(r)}catch(i){throw console.error("JSON parse error:",i),console.error("Response text:",r),new Error(`Invalid response from server. Response: ${r.substring(0,200)}...`)}if(!n.ok)throw new Error(s.error||`Server error: ${n.status} ${n.statusText}`);return{data:s}}catch(t){console.error("Test email error details:",{message:t.message,testEmail:e,timestamp:new Date().toISOString()}),oe(t)}}},gi={async getSettings(){try{return{data:await at("SELECT * FROM admin_settings WHERE id = 1")||{}}}catch(e){oe(e)}},async updateSettings(e){try{const t=Wr(e),{admin_name:n,admin_email:r,admin_phone:s,company_name:i,smtp_server:o,smtp_port:a,smtp_username:u,smtp_password:c,email_signature:p}=t;return await Xt("UPDATE admin_settings SET admin_name = ?, admin_email = ?, admin_phone = ?, company_name = ?, smtp_server = ?, smtp_port = ?, smtp_username = ?, smtp_password = ?, email_signature = ?, updated_at = CURRENT_TIMESTAMP WHERE id = 1",[n||"",r||"",s||"",i||"",o||"",a||587,u||"",c||"",p||""]),{data:{status:"success",settings:await at("SELECT * FROM admin_settings WHERE id = 1")}}}catch(t){oe(t)}},async changePassword(e){return{data:{status:"success",message:"Password change simulation completed",note:"Simulation only - no real password change"}}}},og=v.createContext(),iS={user:null,isAuthenticated:!1,isLoading:!0,employees:[],violationTypes:[],fines:[],adminSettings:{},filters:{startDate:"",endDate:"",employeeId:"",violationTypeId:"",sortBy:"date-desc",minAmount:"",maxAmount:"",searchTerm:""}};function oS(e,t){switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_AUTH":return{...e,user:t.payload.user,isAuthenticated:t.payload.isAuthenticated,isLoading:!1};case"LOGOUT":return{...e,user:null,isAuthenticated:!1};case"SET_EMPLOYEES":return{...e,employees:t.payload};case"ADD_EMPLOYEE":return{...e,employees:[...e.employees,t.payload]};case"UPDATE_EMPLOYEE":return{...e,employees:e.employees.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_EMPLOYEE":return{...e,employees:e.employees.filter(n=>n.id!==t.payload)};case"SET_VIOLATION_TYPES":return{...e,violationTypes:t.payload};case"ADD_VIOLATION_TYPE":return{...e,violationTypes:[...e.violationTypes,t.payload]};case"UPDATE_VIOLATION_TYPE":return{...e,violationTypes:e.violationTypes.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_VIOLATION_TYPE":return{...e,violationTypes:e.violationTypes.filter(n=>n.id!==t.payload)};case"SET_FINES":return{...e,fines:t.payload};case"ADD_FINE":return{...e,fines:[...e.fines,t.payload]};case"UPDATE_FINE":return{...e,fines:e.fines.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_FINE":return{...e,fines:e.fines.filter(n=>n.id!==t.payload)};case"SET_ADMIN_SETTINGS":return{...e,adminSettings:t.payload};case"SET_FILTERS":return{...e,filters:{...e.filters,...t.payload}};default:return e}}function lS({children:e}){const[t,n]=v.useReducer(oS,iS);v.useEffect(()=>{r()},[]);const r=async()=>{try{const a=await Ur.checkAuth();n({type:"SET_AUTH",payload:{user:a.user,isAuthenticated:a.isAuthenticated}})}catch(a){console.error("Auth check failed:",a),n({type:"SET_AUTH",payload:{user:null,isAuthenticated:!1}})}},o={...t,dispatch:n,login:async a=>{try{const u=await Ur.login(a);return n({type:"SET_AUTH",payload:{user:u.user,isAuthenticated:!0}}),{success:!0}}catch(u){return{success:!1,error:u.message}}},logout:async()=>{try{return await Ur.logout(),n({type:"LOGOUT"}),{success:!0}}catch(a){return console.error("Logout failed:",a),{success:!1}}}};return l.jsx(og.Provider,{value:o,children:e})}function fr(){const e=v.useContext(og);if(!e)throw new Error("useApp must be used within AppProvider");return e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},p)=>v.createElement("svg",{ref:p,...aS,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${uS(e)}`,a].join(" "),...c},[...t.map(([h,g])=>v.createElement(h,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=G("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=G("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=G("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=G("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=G("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=G("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=G("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=G("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=G("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=G("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ES(){const{isAuthenticated:e,user:t,logout:n}=fr(),r=Po(),s=async()=>{try{await n(),M.success("Logged out successfully"),r("/")}catch{M.error("Logout failed")}};return l.jsxs("header",{className:"header",children:[l.jsx("div",{children:l.jsx("a",{href:"/",style:{textDecoration:"none"},children:l.jsx("h1",{className:"header-title",children:"ThexSol Fine Tracker"})})}),l.jsxs("div",{className:"header-actions",children:[l.jsx("div",{className:"flex gap-2",children:e?l.jsxs("button",{onClick:s,className:"nav-link",children:[l.jsx(mS,{size:16}),"Logout"]}):l.jsxs(Si,{to:"/login",className:"nav-link",children:[l.jsx(hS,{size:16}),"Login"]})}),l.jsxs("div",{className:"flex gap-2",children:[Ur.hasPermission(t,"manage_employees")&&l.jsxs(Si,{to:"/employees",className:"nav-link",children:[l.jsx(wS,{size:16}),"Employees"]}),Ur.hasPermission(t,"manage_violations")&&l.jsxs(Si,{to:"/violations",className:"nav-link",children:[l.jsx(lg,{size:16}),"Violations"]}),Ur.hasPermission(t,"admin_settings")&&l.jsxs(Si,{to:"/settings",className:"nav-link",children:[l.jsx(xS,{size:16}),"Settings"]}),e&&t&&l.jsx("span",{className:"nav-link text-blue-600 font-medium",children:t.role==="admin"?"Admin":"Viewer"})]})]})]})}function Oo({size:e="md",text:t="Loading..."}){const n={sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16"};return l.jsx("div",{className:"loading",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:`spinner ${n[e]}`}),t&&l.jsx("p",{className:"text-muted",children:t})]})})}function SS(){const{isLoading:e}=fr();return e?l.jsx(Oo,{}):l.jsxs("div",{className:"container",children:[l.jsx(ES,{}),l.jsx("main",{children:l.jsx(Ix,{})})]})}function _S({employees:e,violationTypes:t,onSubmit:n}){var S,T;const[r,s]=v.useState({employee:"",violation_type_id:"",reason:"",amount:"",notes:""}),[i,o]=v.useState(!1),[a,u]=v.useState(null),[c,p]=v.useState(null),h=m=>{const{name:f,value:y}=m.target;if(s(_=>({..._,[f]:y})),f==="employee"){const _=e.find(N=>N.name===y);u(_)}if(f==="violation_type_id"){const _=t.find(N=>N.id===parseInt(y));p(_),_&&_.default_amount&&!r.amount&&s(N=>({...N,amount:_.default_amount.toString()}))}},g=m=>{s(f=>({...f,reason:m}))},w=async m=>{if(m.preventDefault(),!a||!r.violation_type_id||!r.reason||!r.amount){M.error("Please fill in all required fields");return}if(parseFloat(r.amount)<=0){M.error("Please enter a valid fine amount");return}o(!0);try{const f={employee_id:a==null?void 0:a.id,violation_type_id:r.violation_type_id,reason:`${c==null?void 0:c.name}: ${r.reason}`,amount:r.amount,notes:r.notes};await zr.add(f),M.success("Fine issued successfully!"),s({employee:"",violation_type_id:"",reason:"",amount:"",notes:""}),u(null),p(null),n&&n()}catch(f){console.error("Error submitting fine:",f),M.error(f.message||"Failed to issue fine")}finally{o(!1)}},x=()=>{s({employee:"",violation_type_id:"",reason:"",amount:"",notes:""}),u(null),p(null)};return l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[l.jsxs("div",{className:"form-grid gap-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Select Employee *"}),l.jsxs("select",{name:"employee",value:r.employee,onChange:h,className:"form-select",required:!0,children:[l.jsx("option",{value:"",children:"-- Choose Employee --"}),e.map(m=>l.jsx("option",{value:m.name,children:m.name},m.id))]}),a&&l.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg flex items-center gap-3",children:[l.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"#3b82f6",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"500"},children:((T=(S=a.name)==null?void 0:S.charAt(0))==null?void 0:T.toUpperCase())||"?"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:a.name}),l.jsxs("div",{className:"text-sm text-gray-600",children:[a.department&&`${a.department} • `,a.employee_id&&`ID: ${a.employee_id}`]})]})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Violation Type *"}),l.jsxs("select",{name:"violation_type_id",value:r.violation_type_id,onChange:h,className:"form-select",required:!0,children:[l.jsx("option",{value:"",children:"-- Select Type --"}),t.map(m=>l.jsx("option",{value:m.id,children:m.name},m.id))]}),c&&l.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",backgroundColor:"#fef2f2",color:"#dc2626",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"500"},children:c.name.substring(0,2).toUpperCase()}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:c.name}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Severity: ",c.severity," • Default: ₨",c.default_amount]})]})]})})]})]}),l.jsx("div",{className:"form-grid gap-6",children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Fine Amount (PKR) *"}),l.jsxs("div",{className:"relative",children:[l.jsx(fS,{size:20,className:"absolute left-3 translate-top text-gray-400"}),l.jsx("input",{type:"number",name:"amount",value:r.amount,onChange:h,className:"form-input pl-10",placeholder:"0.00",step:"0.01",min:"0",required:!0})]}),l.jsx("div",{className:"flex gap-2 mt-2",children:[100,250,500,1e3].map(m=>l.jsxs("button",{type:"button",onClick:()=>s(f=>({...f,amount:m.toString()})),className:"btn btn-sm btn-secondary",children:["₨",m]},m))})]})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Violation Details *"}),l.jsx("textarea",{name:"reason",value:r.reason,onChange:h,className:"form-input form-textarea",placeholder:"Describe the violation...",rows:"3",required:!0}),c&&(()=>{try{const m=typeof c.suggestions=="string"?JSON.parse(c.suggestions||"[]"):c.suggestions||[];return m.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Quick suggestions:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((f,y)=>l.jsx("button",{type:"button",onClick:()=>g(f),className:"btn btn-sm btn-secondary text-xs",children:f},y))})]})}catch(m){return console.warn("Error parsing suggestions:",m),null}})()]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Additional Notes (Optional)"}),l.jsx("textarea",{name:"notes",value:r.notes,onChange:h,className:"form-input form-textarea",placeholder:"Any additional comments...",rows:"2"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary flex-1",children:i?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Issuing Fine..."]}):l.jsxs(l.Fragment,{children:[l.jsx(pS,{size:20}),"Issue Fine & Generate Receipt"]})}),l.jsx("button",{type:"button",onClick:x,className:"btn btn-secondary",children:"Clear Form"})]})]})}function Od({isOpen:e,onClose:t,title:n,children:r,size:s="md"}){const i={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"};return v.useEffect(()=>{const o=a=>{a.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[e,t]),e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-start justify-center z-50 p-4 overflow-scroll",style:{backdropFilter:"blur(4px)"},onClick:t,children:l.jsxs("div",{className:`bg-white rounded-xl shadow-2xl ${i[s]} w-full max-h-[90vh] overflow-hidden transform transition-all duration-300 scale-100`,style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.05)"},onClick:o=>o.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:n}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-all duration-200 p-1 rounded-full hover:bg-gray-100",title:"Close (ESC)","aria-label":"Close modal",children:l.jsx(ht,{size:20})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)] bg-white",children:r})]})}):null}function NS({fine:e,employees:t,violationTypes:n,onSubmit:r,onCancel:s}){const[i,o]=v.useState({employee:"",violation_type_id:"",reason:"",amount:"",notes:""});v.useEffect(()=>{if(e){const p=e.reason.split(": "),h=p.length>1?p.slice(1).join(": "):e.reason;o({employee:e.employee||"",violation_type_id:e.violation_type_id||"",reason:h,amount:e.amount||"",notes:e.notes||""})}},[e]);const a=p=>{const{name:h,value:g}=p.target;if(o(w=>({...w,[h]:g})),h==="violation_type_id"){const w=n.find(x=>x.id===parseInt(g));w&&w.default_amount&&!i.amount&&o(x=>({...x,amount:w.default_amount.toString()}))}},u=p=>{p.preventDefault();const h=t.find(S=>S.name===i.employee);if(!h||!i.violation_type_id||!i.reason||!i.amount){alert("Please fill in all required fields");return}if(parseFloat(i.amount)<=0){alert("Please enter a valid fine amount");return}const g=n.find(S=>S.id===parseInt(i.violation_type_id)),w=g?g.name:"Unknown Violation",x={employee_id:h.id,violation_type_id:i.violation_type_id,reason:`${w}: ${i.reason}`,amount:i.amount,notes:i.notes};r(x)},c=n.find(p=>p.id===parseInt(i.violation_type_id));return l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Employee *"}),l.jsxs("select",{name:"employee",value:i.employee,onChange:a,className:"form-select",required:!0,children:[l.jsx("option",{value:"",children:"-- Choose Employee --"}),t.map(p=>l.jsx("option",{value:p.name,children:p.name},p.id))]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Violation Type *"}),l.jsxs("select",{name:"violation_type_id",value:i.violation_type_id,onChange:a,className:"form-select",required:!0,children:[l.jsx("option",{value:"",children:"-- Select Type --"}),n.map(p=>l.jsx("option",{value:p.id,children:p.name},p.id))]})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Amount (PKR) *"}),l.jsx("input",{type:"number",name:"amount",value:i.amount,onChange:a,className:"form-input",placeholder:"0.00",step:"0.01",min:"0",required:!0}),c&&l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Default amount for ",c.name,": ₨",c.default_amount]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Violation Details *"}),l.jsx("textarea",{name:"reason",value:i.reason,onChange:a,className:"form-input form-textarea",placeholder:"Describe the violation...",rows:"3",required:!0}),c&&(()=>{try{const p=typeof c.suggestions=="string"?JSON.parse(c.suggestions||"[]"):c.suggestions||[];return p.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Quick suggestions:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:p.map((h,g)=>l.jsx("button",{type:"button",onClick:()=>o(w=>({...w,reason:h})),className:"btn btn-sm btn-secondary text-xs",children:h},g))})]})}catch(p){return console.warn("Error parsing suggestions:",p),null}})()]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Additional Notes"}),l.jsx("textarea",{name:"notes",value:i.notes,onChange:a,className:"form-input form-textarea",placeholder:"Any additional comments...",rows:"2"})]}),l.jsxs("div",{className:"flex gap-4 justify-end",children:[l.jsxs("button",{type:"button",onClick:s,className:"btn btn-secondary",children:[l.jsx(ht,{size:20}),"Cancel"]}),l.jsxs("button",{type:"submit",className:"btn btn-primary",children:[l.jsx(Ss,{size:20}),"Save Changes"]})]})]})}function jS({fines:e,employees:t,violationTypes:n,isAuthenticated:r,onUpdate:s}){const[i,o]=v.useState(null),[a,u]=v.useState(!1),c=m=>t.find(f=>f.name===m),p=m=>{const f=m.split(": "),y=f.length>1?f[0]:"Other";return n.find(_=>_.name===y)},h=m=>{const f=m.split(": ");return f.length>1?f.slice(1).join(": "):m},g=m=>{o(m),u(!0)},w=async m=>{if(window.confirm("Are you sure you want to delete this fine? This action cannot be undone."))try{await zr.delete(m.id),M.success("Fine deleted successfully"),s&&s()}catch(f){console.error("Error deleting fine:",f),M.error("Failed to delete fine")}},x=m=>{m.employee_obj||c(m.employee);const f=p(m.reason),y=h(m.reason),_=`
      <html>
        <head>
          <title>Fine Receipt - ${m.employee}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; margin: 0; }
            .receipt { border: 2px solid #000; padding: 20px; max-width: 400px; margin: 0 auto; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
            .logo { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
            .title { font-size: 16px; margin: 5px 0; }
            .row { display: flex; justify-content: space-between; margin-bottom: 8px; padding: 5px 0; border-bottom: 1px dotted #ccc; }
            .total { font-weight: bold; font-size: 16px; margin-top: 15px; padding-top: 10px; border-top: 2px solid #000; }
            .footer { margin-top: 20px; text-align: center; font-size: 12px; color: #666; }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <div class="logo">ThexSol Fine Tracker</div>
              <div class="title">FINE RECEIPT</div>
              <div>Receipt #${m.id}</div>
            </div>
            <div class="row"><span><strong>Employee:</strong></span><span>${m.employee}</span></div>
            <div class="row"><span><strong>Violation:</strong></span><span>${(f==null?void 0:f.name)||"Other"}</span></div>
            <div class="row"><span><strong>Details:</strong></span><span>${y}</span></div>
            ${m.notes?`<div class="row"><span><strong>Notes:</strong></span><span>${m.notes}</span></div>`:""}
            <div class="row"><span><strong>Date:</strong></span><span>${new Date(m.date).toLocaleString()}</span></div>
            <div class="total">
              <div class="row"><span><strong>FINE AMOUNT:</strong></span><span><strong>₨${parseFloat(m.amount).toFixed(2)}</strong></span></div>
            </div>
            <div class="footer">
              <p>Keep this receipt for your records</p>
              <p>ThexSol Office Management System</p>
            </div>
          </div>
          <script>
            window.onload = function() {
              window.print();
              window.onafterprint = function(){ window.close(); };
            };
          <\/script>
        </body>
      </html>
    `,N=window.open("","_blank");N.document.write(_),N.document.close()},S=async m=>{const f=m.employee_obj||c(m.employee);if(!f||!f.email){M.error("Employee email not found");return}if(window.confirm(`Send receipt to ${f.email}?`))try{await zr.emailReceipt(m.id),M.success("Receipt emailed successfully!")}catch(y){console.error("Error emailing receipt:",y),M.error("Failed to send email")}},T=async m=>{try{await zr.update(i.id,m),M.success("Fine updated successfully"),u(!1),o(null),s&&s()}catch(f){console.error("Error updating fine:",f),M.error("Failed to update fine")}};return e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"📋"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No fines recorded"}),l.jsx("p",{className:"text-gray-600",children:r?"Get started by issuing your first fine above":"No fine records to display"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto overflow_scroll",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Employee"}),l.jsx("th",{children:"Violation"}),l.jsx("th",{children:"Reason"}),l.jsx("th",{children:"Amount"}),l.jsx("th",{children:"Date"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:e.map(m=>{var N,b;const f=m.employee_obj||c(m.employee),y=p(m.reason),_=h(m.reason);return l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("div",{className:"employee-cell",children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#3b82f6",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"500"},children:((b=(N=m.employee)==null?void 0:N.charAt(0))==null?void 0:b.toUpperCase())||"?"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:m.employee||"Unknown Employee"}),(f==null?void 0:f.department)&&l.jsx("div",{className:"text-sm text-gray-600",children:f.department})]})]})}),l.jsx("td",{children:l.jsxs("div",{className:"violation-cell",children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",backgroundColor:"#fef2f2",color:"#dc2626",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"500"},children:((y==null?void 0:y.name)||"Other").substring(0,2).toUpperCase()}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:(y==null?void 0:y.name)||"Other"}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Severity: ",(y==null?void 0:y.severity)||"Medium"]})]})]})}),l.jsx("td",{children:l.jsxs("div",{className:"max-w-xs",children:[l.jsx("div",{className:"truncate",title:_,children:_}),m.notes&&l.jsxs("div",{className:"text-sm text-gray-600 truncate",title:m.notes,children:["Note: ",m.notes]})]})}),l.jsx("td",{children:l.jsxs("span",{className:"font-medium text-green-600",children:["₨",parseFloat(m.amount).toFixed(2)]})}),l.jsxs("td",{children:[l.jsx("div",{className:"text-sm",children:new Date(m.date).toLocaleDateString()}),l.jsx("div",{className:"text-xs text-gray-600",children:new Date(m.date).toLocaleTimeString()})]}),l.jsx("td",{children:l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>x(m),className:"btn btn-sm btn-secondary",title:"Print Receipt",children:l.jsx(gS,{size:16})}),(f==null?void 0:f.email)&&l.jsx("button",{onClick:()=>S(m),className:"btn btn-sm btn-secondary",title:"Email Receipt",children:l.jsx(uo,{size:16})}),r&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>g(m),className:"btn btn-sm btn-primary",title:"Edit Fine",children:l.jsx(Ad,{size:16})}),l.jsx("button",{onClick:()=>w(m),className:"btn btn-sm btn-danger",title:"Delete Fine",children:l.jsx(ka,{size:16})})]})]})})]},m.id)})})]})}),l.jsx(Od,{isOpen:a,onClose:()=>{u(!1),o(null)},title:"Edit Fine",size:"lg",children:i&&l.jsx(NS,{fine:i,employees:t,violationTypes:n,onSubmit:T,onCancel:()=>{u(!1),o(null)}})})]})}function CS({filters:e,employees:t,violationTypes:n,onFilterChange:r,onReset:s,showEmployeeTotals:i,onToggleEmployeeTotals:o}){var T,m;const[a,u]=v.useState(!1),[c,p]=v.useState(e.searchTerm||""),h=v.useCallback((f,y)=>{r({[f]:y})},[r]),g=v.useCallback(f=>{p(f);const y=setTimeout(()=>{h("searchTerm",f)},300);return()=>clearTimeout(y)},[h]),w=f=>f?new Date(f).toISOString().split("T")[0]:"",x=v.useMemo(()=>e.startDate||e.endDate||e.employeeId||e.violationTypeId||e.minAmount||e.maxAmount||e.searchTerm,[e]),S=v.useMemo(()=>[{label:"Today",action:()=>{const f=new Date().toISOString().split("T")[0];h("startDate",f),h("endDate",f)}},{label:"Last 7 days",action:()=>{const f=new Date,y=new Date(f);y.setDate(f.getDate()-7),h("startDate",y.toISOString().split("T")[0]),h("endDate",f.toISOString().split("T")[0])}},{label:"Last 30 days",action:()=>{const f=new Date,y=new Date(f);y.setDate(f.getDate()-30),h("startDate",y.toISOString().split("T")[0]),h("endDate",f.toISOString().split("T")[0])}},{label:"This month",action:()=>{const f=new Date,y=new Date(f.getFullYear(),f.getMonth(),1);h("startDate",y.toISOString().split("T")[0]),h("endDate",f.toISOString().split("T")[0])}}],[h]);return l.jsxs("div",{className:"filters-container bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[l.jsxs("div",{className:"filter-header flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ca,{size:20,className:"text-gray-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters & Search"}),x&&l.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:"Active"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>u(!a),className:"btn btn-secondary btn-sm",children:a?"Hide Filters":"Show All Filters"}),l.jsxs("button",{onClick:s,className:"btn btn-secondary btn-sm",children:[l.jsx(vS,{size:16}),"Reset"]}),l.jsxs("button",{onClick:o,className:`btn btn-sm ${i?"btn-primary":"btn-secondary"}`,children:[l.jsx(ag,{size:16}),i?"Hide":"Show"," Totals"]})]})]}),l.jsx("div",{className:"search-bar mb-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ld,{size:20,className:"absolute left-3 top-1/2  translate-top text-gray-400"}),l.jsx("input",{type:"text",value:c,onChange:f=>g(f.target.value),placeholder:"Search by employee name, violation, reason...",className:"form-input pl-10 pr-10 w-full"}),c&&l.jsx("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l.jsx(ht,{size:16})})]})}),l.jsx("div",{className:"quick-filters mb-4",children:l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Quick filters:"}),S.map((f,y)=>l.jsx("button",{onClick:f.action,className:"quick-filter-btn px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700 transition-colors",children:f.label},y))]})}),a&&l.jsxs("div",{className:"expanded-filters space-y-4",children:[l.jsxs("div",{className:"filter-section",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Date Range"}),l.jsxs("div",{className:"grid sm:grid-cols-2 grid-cols-2  gap-4",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label text-sm",children:"From Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(gp,{size:16,className:"absolute left-3 top-1/2  translate-top text-gray-400"}),l.jsx("input",{type:"date",value:w(e.startDate),onChange:f=>h("startDate",f.target.value),className:"form-input pl-10"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label text-sm",children:"To Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(gp,{size:16,className:"absolute left-3 top-1/2  translate-top text-gray-400"}),l.jsx("input",{type:"date",value:w(e.endDate),onChange:f=>h("endDate",f.target.value),className:"form-input pl-10"})]})]})]})]}),l.jsxs("div",{className:"filter-section",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Categories"}),l.jsxs("div",{className:"grid sm:grid-cols-2 grid-cols-2  gap-4",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label text-sm",children:"Employee"}),l.jsxs("select",{value:e.employeeId||"",onChange:f=>h("employeeId",f.target.value),className:"form-select",children:[l.jsx("option",{value:"",children:"All Employees"}),t.map(f=>l.jsx("option",{value:f.id,children:f.name},f.id))]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label text-sm",children:"Violation Type"}),l.jsxs("select",{value:e.violationTypeId||"",onChange:f=>h("violationTypeId",f.target.value),className:"form-select",children:[l.jsx("option",{value:"",children:"All Violations"}),n.map(f=>l.jsx("option",{value:f.id,children:f.name},f.id))]})]})]})]}),l.jsxs("div",{className:"filter-section",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Amount Range"}),l.jsxs("div",{className:"grid sm:grid-cols-2 grid-cols-2  gap-4",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label text-sm",children:"Min Amount (₨)"}),l.jsx("input",{type:"number",value:e.minAmount||"",onChange:f=>h("minAmount",f.target.value),className:"form-input",placeholder:"0.00",step:"0.01",min:"0"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label text-sm",children:"Max Amount (₨)"}),l.jsx("input",{type:"number",value:e.maxAmount||"",onChange:f=>h("maxAmount",f.target.value),className:"form-input",placeholder:"999.99",step:"0.01",min:"0"})]})]})]})]}),x&&l.jsx("div",{className:"active-filters mt-4 pt-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active filters:"}),e.searchTerm&&l.jsxs("span",{className:"active-filter-tag bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm inline-flex items-center gap-1",children:['Search: "',e.searchTerm,'"',l.jsx("button",{onClick:()=>g(""),className:"ml-1 hover:bg-indigo-200 rounded-full p-0.5",children:l.jsx(ht,{size:14})})]}),e.startDate&&l.jsxs("span",{className:"active-filter-tag bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm inline-flex items-center gap-1",children:["From: ",new Date(e.startDate).toLocaleDateString(),l.jsx("button",{onClick:()=>h("startDate",""),className:"ml-1 hover:bg-purple-200 rounded-full p-0.5",children:l.jsx(ht,{size:14})})]}),e.endDate&&l.jsxs("span",{className:"active-filter-tag bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm inline-flex items-center gap-1",children:["To: ",new Date(e.endDate).toLocaleDateString(),l.jsx("button",{onClick:()=>h("endDate",""),className:"ml-1 hover:bg-purple-200 rounded-full p-0.5",children:l.jsx(ht,{size:14})})]}),e.employeeId&&l.jsxs("span",{className:"active-filter-tag bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm inline-flex items-center gap-1",children:["Employee: ",((T=t.find(f=>f.id==e.employeeId))==null?void 0:T.name)||"Unknown",l.jsx("button",{onClick:()=>h("employeeId",""),className:"ml-1 hover:bg-blue-200 rounded-full p-0.5",children:l.jsx(ht,{size:14})})]}),e.violationTypeId&&l.jsxs("span",{className:"active-filter-tag bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm inline-flex items-center gap-1",children:["Violation: ",((m=n.find(f=>f.id==e.violationTypeId))==null?void 0:m.name)||"Unknown",l.jsx("button",{onClick:()=>h("violationTypeId",""),className:"ml-1 hover:bg-red-200 rounded-full p-0.5",children:l.jsx(ht,{size:14})})]}),e.minAmount&&l.jsxs("span",{className:"active-filter-tag bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm inline-flex items-center gap-1",children:["Min: ₨",e.minAmount,l.jsx("button",{onClick:()=>h("minAmount",""),className:"ml-1 hover:bg-green-200 rounded-full p-0.5",children:l.jsx(ht,{size:14})})]}),e.maxAmount&&l.jsxs("span",{className:"active-filter-tag bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm inline-flex items-center gap-1",children:["Max: ₨",e.maxAmount,l.jsx("button",{onClick:()=>h("maxAmount",""),className:"ml-1 hover:bg-orange-200 rounded-full p-0.5",children:l.jsx(ht,{size:14})})]})]})})]})}function kS({employees:e,onFilterByEmployee:t}){const[n,r]=v.useState([]),[s,i]=v.useState(!0);v.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const c=await On.getTotals();r(c.data)}catch(c){console.error("Error loading employee totals:",c),M.error("Failed to load employee totals")}finally{i(!1)}},a=async c=>{const p=e.find(h=>h.name===c);if(!p||!p.email){M.error("Employee email not found");return}if(window.confirm(`Send complete fine report to ${c} (${p.email})?`))try{await zr.emailEmployeeReport(c),M.success("Employee report emailed successfully!")}catch(h){console.error("Error emailing employee report:",h),M.error("Failed to send employee report")}},u=c=>e.find(p=>p.name===c);return s?l.jsxs("div",{className:"card mt-3",children:[l.jsx("div",{className:"card-header",children:l.jsx("h4",{className:"text-lg font-semibold",children:"Employee Fine Totals"})}),l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"spinner"})})]}):n.length===0?l.jsxs("div",{className:"card mt-3",children:[l.jsx("div",{className:"card-header",children:l.jsx("h4",{className:"text-lg font-semibold",children:"Employee Fine Totals"})}),l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No employee fine data available"})]}):l.jsxs("div",{className:"card mt-3",children:[l.jsxs("div",{className:"card-header",children:[l.jsxs("h4",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(ag,{size:20}),"Employee Fine Totals"]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Summary of fines by employee with totals and statistics"})]}),l.jsx("div",{className:"overflow-x-auto overflow_scroll",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Employee"}),l.jsx("th",{children:"Total Fines"}),l.jsx("th",{children:"Fine Count"}),l.jsx("th",{children:"Average Fine"}),l.jsx("th",{children:"First Fine"}),l.jsx("th",{children:"Last Fine"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:n.map(c=>{var g,w;const p=u(c.employee),h={width:"40px",height:"40px",borderRadius:"50%",backgroundColor:c.fine_count>0?"#ef4444":"#22c55e",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"500",border:"none"};return l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("div",{className:"employee-cell",children:[l.jsx("div",{style:h,children:((w=(g=c.employee)==null?void 0:g.charAt(0))==null?void 0:w.toUpperCase())||"?"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:c.employee}),(p==null?void 0:p.department)&&l.jsx("div",{className:"text-sm text-gray-600",children:p.department}),c.fine_count===0&&l.jsx("div",{className:"text-xs text-green-600 font-medium",children:"Perfect Record"})]})]})}),l.jsx("td",{children:l.jsxs("span",{className:`font-bold text-lg ${c.total_amount>0?"text-red-600":"text-green-600"}`,children:["₨",c.total_amount.toFixed(2)]})}),l.jsx("td",{children:l.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${c.fine_count>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:c.fine_count})}),l.jsx("td",{children:l.jsxs("span",{className:"text-gray-700",children:["₨",c.avg_amount.toFixed(2)]})}),l.jsx("td",{children:l.jsx("div",{className:"text-sm",children:c.first_fine?new Date(c.first_fine).toLocaleDateString():"-"})}),l.jsx("td",{children:l.jsx("div",{className:"text-sm",children:c.last_fine?new Date(c.last_fine).toLocaleDateString():"-"})}),l.jsx("td",{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{const x=u(c.employee);x&&t(x.id)},className:"btn btn-sm btn-secondary",title:"Filter by this employee",children:l.jsx(Ca,{size:16})}),(p==null?void 0:p.email)&&c.fine_count>0&&l.jsx("button",{onClick:()=>a(c.employee),className:"btn btn-sm btn-primary",title:"Email complete report",children:l.jsx(uo,{size:16})})]})})]},c.employee)})})]})}),l.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Total Employees"}),l.jsx("div",{className:"text-xl font-bold text-blue-600",children:n.length})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Employees with Fines"}),l.jsx("div",{className:"text-xl font-bold text-red-600",children:n.filter(c=>c.fine_count>0).length})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Perfect Record"}),l.jsx("div",{className:"text-xl font-bold text-green-600",children:n.filter(c=>c.fine_count===0).length})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Total Fine Amount"}),l.jsxs("div",{className:"text-xl font-bold text-purple-600",children:["₨",n.reduce((c,p)=>c+p.total_amount,0).toFixed(2)]})]})]})})]})}function TS(){const{isAuthenticated:e,employees:t,violationTypes:n,fines:r,dispatch:s,filters:i}=fr(),[o,a]=v.useState(!0),[u,c]=v.useState(!1),[p,h]=v.useState([]),[g,w]=v.useState(!1),[x,S]=v.useState(!0);v.useEffect(()=>{T()},[]),v.useEffect(()=>{m()},[i]);const T=async()=>{try{a(!0);const[P,A]=await Promise.all([On.getAll(),ps.getAll()]);s({type:"SET_EMPLOYEES",payload:P.data}),s({type:"SET_VIOLATION_TYPES",payload:A.data}),await m()}catch(P){console.error("Error loading data:",P),M.error("Failed to load data")}finally{a(!1)}},m=async()=>{var P;try{const A={};i.startDate&&(A.startDate=i.startDate),i.endDate&&(A.endDate=i.endDate),i.employeeId&&(A.employeeId=i.employeeId),i.violationTypeId&&(A.violationTypeId=i.violationTypeId);const D=await zr.getAll(A);console.log("📊 Fines loaded with filters:",{filters:A,count:(P=D.data)==null?void 0:P.length}),s({type:"SET_FINES",payload:D.data}),f(D.data)}catch(A){console.error("Error loading fines:",A),M.error("Failed to load fines")}},f=(P=r)=>{try{let A=[...P];if(i.searchTerm&&i.searchTerm.trim()){const D=i.searchTerm.toLowerCase().trim();A=A.filter(j=>{var F,U,Z,ie;const I=(F=j.employee)==null?void 0:F.toLowerCase().includes(D),V=((U=j.reason)==null?void 0:U.split(": "))||[],et=(V.length>1?V[0]:"").toLowerCase().includes(D),li=(V.length>1?V.slice(1).join(": "):j.reason||"").toLowerCase().includes(D),ai=(Z=j.notes)==null?void 0:Z.toLowerCase().includes(D),L=(ie=j.amount)==null?void 0:ie.toString().includes(D);return I||et||li||ai||L})}i.minAmount&&(A=A.filter(D=>D.amount>=parseFloat(i.minAmount))),i.maxAmount&&(A=A.filter(D=>D.amount<=parseFloat(i.maxAmount))),A.sort((D,j)=>{switch(i.sortBy){case"date-desc":return new Date(j.date||j.fine_date)-new Date(D.date||D.fine_date);case"date-asc":return new Date(D.date||D.fine_date)-new Date(j.date||j.fine_date);case"amount-desc":return j.amount-D.amount;case"amount-asc":return D.amount-j.amount;case"employee":return(D.employee||"").localeCompare(j.employee||"");default:return 0}}),h(A)}catch(A){console.error("❌ Error applying filters:",A),h([])}},y=P=>{s({type:"SET_FILTERS",payload:P})},_=()=>{s({type:"SET_FILTERS",payload:{startDate:"",endDate:"",employeeId:"",violationTypeId:"",sortBy:"date-desc",minAmount:"",maxAmount:""}})},N=()=>{const P=p.reduce((D,j)=>D+parseFloat(j.amount),0),A=r.reduce((D,j)=>D+parseFloat(j.amount),0);return{filtered:P.toFixed(2),grand:A.toFixed(2),count:p.length}};if(o)return l.jsx(Oo,{text:"Loading dashboard..."});const b=N();return l.jsxs("div",{className:"space-y-8",children:[e&&l.jsxs("section",{className:"card",children:[l.jsxs("div",{className:"card-header cursor-pointer",onClick:()=>w(!g),children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold",children:"💰 Issue a Fine"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Select an employee and violation type with visual confirmation"})]}),l.jsx("div",{className:"flex items-center text-gray-500",children:g?l.jsx(xp,{size:20,className:"transition-transform duration-200"}):l.jsx(vp,{size:20,className:"transition-transform duration-200"})})]}),l.jsx("div",{className:`accordion-content ${g?"accordion-open":"accordion-closed"}`,children:t.length===0||n.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-5xl mb-4",children:"📋"}),l.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Setup Required"}),l.jsx("p",{className:"text-gray-600 mb-4",children:t.length===0&&n.length===0?"Add employees and violation types first":t.length===0?"Add employees first to issue fines":"Add violation types first to issue fines"}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[t.length===0&&l.jsx("a",{href:"/employees",className:"btn btn-primary",children:"Add Employees"}),n.length===0&&l.jsx("a",{href:"/violations",className:"btn btn-primary",children:"Add Violations"})]})]}):l.jsx(_S,{employees:t,violationTypes:n,onSubmit:T})})]}),l.jsxs("section",{className:"card",children:[l.jsxs("div",{className:"card-header cursor-pointer",onClick:()=>S(!x),children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold",children:"📋 Fine Records"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage all fine records with filtering options"})]}),l.jsx("div",{className:"flex items-center text-gray-500",children:x?l.jsx(xp,{size:20,className:"transition-transform duration-200"}):l.jsx(vp,{size:20,className:"transition-transform duration-200"})})]}),l.jsxs("div",{className:`accordion-content ${x?"accordion-open":"accordion-closed"}`,children:[l.jsx(CS,{filters:i,employees:t,violationTypes:n,onFilterChange:y,onReset:_,showEmployeeTotals:u,onToggleEmployeeTotals:()=>c(!u)}),u&&l.jsx(kS,{employees:t,onFilterByEmployee:P=>y({employeeId:P})}),l.jsx(jS,{fines:p,employees:t,violationTypes:n,isAuthenticated:e,onUpdate:T}),l.jsxs("div",{className:"flex justify-between items-center mt-6 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("strong",{className:"text-lg",children:["Filtered Total: ₨",b.filtered]}),l.jsxs("span",{className:"text-gray-600 ml-2",children:["(",b.count," records)"]})]}),l.jsx("div",{children:l.jsxs("strong",{className:"text-lg",children:["Grand Total: ₨",b.grand]})})]})]})]})]})}function RS(){const[e,t]=v.useState({username:"",password:""}),[n,r]=v.useState(!1),{login:s}=fr(),i=Po(),o=u=>{t({...e,[u.target.name]:u.target.value})},a=async u=>{u.preventDefault(),r(!0);try{const c=await s(e);c.success?(M.success("Login successful!"),i("/")):M.error(c.error||"Login failed")}catch{M.error("Login failed")}finally{r(!1)}};return l.jsxs("div",{className:"login-wrapper",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute w-16 h-16 bg-white bg-opacity-10 rounded-full animate-pulse",style:{top:"20%",left:"10%",animationDelay:"0s"}}),l.jsx("div",{className:"absolute w-10 h-10 bg-white bg-opacity-10 rounded-full animate-pulse",style:{top:"60%",right:"15%",animationDelay:"2s"}}),l.jsx("div",{className:"absolute w-20 h-20 bg-white bg-opacity-10 rounded-full animate-pulse",style:{top:"40%",left:"70%",animationDelay:"4s"}})]}),l.jsxs(Si,{to:"/",className:"absolute top-5 left-5 flex items-center gap-2 text-white bg-white bg-opacity-20 px-4 py-2 rounded-full hover:bg-opacity-30 transition-all backdrop-blur-sm",children:[l.jsx(dS,{size:16}),"Back to Home"]}),l.jsxs("div",{className:"login-container",children:[l.jsxs("div",{className:"login-header",children:[l.jsx("div",{className:"login-logo",children:l.jsx(Sc,{size:40,className:"text-blue-600"})}),l.jsx("h1",{className:"text-3xl font-light mb-2",children:"Login Portal"}),l.jsx("p",{className:"opacity-90 text-sm",children:"ThexSol Fine Management System"})]}),l.jsx("div",{className:"login-form",children:l.jsxs("form",{onSubmit:a,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),l.jsxs("div",{className:"relative",children:[l.jsx(ug,{size:20,className:"absolute left-3 top-1/2  translate-top text-gray-400"}),l.jsx("input",{type:"text",id:"username",name:"username",value:e.username,onChange:o,className:"form-input pl-10",placeholder:"Enter your username",required:!0})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Sc,{size:20,className:"absolute left-3 top-1/2  translate-top text-gray-400"}),l.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:o,className:"form-input pl-10",placeholder:"Enter your password",required:!0})]})]}),l.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary w-full text-lg py-4 relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",transform:"translateY(0)",transition:"transform 0.2s ease"},onMouseEnter:u=>u.target.style.transform="translateY(-2px)",onMouseLeave:u=>u.target.style.transform="translateY(0)",children:n?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Logging in..."]}):"Login"})]})})]})]})}function bS({employee:e,onEdit:t,onDelete:n,isAuthenticated:r}){var s,i;return l.jsx("div",{className:"card",children:l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"avatar bg-blue-100 text-blue-600 flex items-center justify-center",children:((i=(s=e.name)==null?void 0:s.charAt(0))==null?void 0:i.toUpperCase())||"?"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-lg",children:e.name}),l.jsx("p",{className:"text-gray-600",children:e.department}),e.employee_id&&l.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",e.employee_id]})]}),r&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>t(e),className:"btn btn-sm btn-secondary",title:"Edit Employee",children:l.jsx(Ad,{size:16})}),l.jsx("button",{onClick:()=>n(e),className:"btn btn-sm btn-danger",title:"Delete Employee",children:l.jsx(ka,{size:16})})]})]}),l.jsxs("div",{className:"mt-4 space-y-2",children:[e.email&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(uo,{size:14}),l.jsx("span",{children:e.email})]}),e.phone&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(yS,{size:14}),l.jsx("span",{children:e.phone})]})]})]})})}function IS({isOpen:e,onClose:t,employee:n,onSubmit:r}){const[s,i]=v.useState({name:"",department:"",employee_id:"",phone:"",email:""}),[o,a]=v.useState(!1);v.useEffect(()=>{i(n?{name:n.name||"",department:n.department||"",employee_id:n.employee_id||"",phone:n.phone||"",email:n.email||""}:{name:"",department:"",employee_id:"",phone:"",email:""})},[n,e]);const u=p=>{const{name:h,value:g}=p.target;i(w=>({...w,[h]:g}))},c=async p=>{if(p.preventDefault(),!s.name.trim()){alert("Please enter employee name");return}a(!0);try{const h=new FormData;h.append("name",s.name.trim()),h.append("department",s.department.trim()),h.append("employee_id",s.employee_id.trim()),h.append("phone",s.phone.trim()),h.append("email",s.email.trim()),await r(h),i({name:"",department:"",employee_id:"",phone:"",email:""})}catch(h){console.error("Error submitting employee:",h)}finally{a(!1)}};return l.jsx(Od,{isOpen:e,onClose:t,title:n?"Edit Employee":"Add New Employee",size:"md",children:l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Name *"}),l.jsx("input",{type:"text",name:"name",value:s.name,onChange:u,className:"form-input",placeholder:"Employee name",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Employee ID"}),l.jsx("input",{type:"text",name:"employee_id",value:s.employee_id,onChange:u,className:"form-input",placeholder:"EMP001"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Department"}),l.jsx("input",{type:"text",name:"department",value:s.department,onChange:u,className:"form-input",placeholder:"HR, IT, Finance, etc."})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Phone"}),l.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:u,className:"form-input",placeholder:"+92-300-1234567"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Email"}),l.jsx("input",{type:"email",name:"email",value:s.email,onChange:u,className:"form-input",placeholder:"employee@company.com"})]}),l.jsxs("div",{className:"flex gap-4 justify-end",children:[l.jsxs("button",{type:"button",onClick:t,className:"btn btn-secondary",disabled:o,children:[l.jsx(ht,{size:20}),"Cancel"]}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ss,{size:20}),n?"Update":"Create"," Employee"]})})]})]})})}const PS=async e=>{try{const t=await On.getAll();e({type:"SET_EMPLOYEES",payload:t.data})}catch(t){console.error("Error reloading employees:",t)}},AS=async e=>{try{const t=await ps.getAll();e({type:"SET_VIOLATION_TYPES",payload:t.data})}catch(t){console.error("Error reloading violations:",t)}};function LS(){const{employees:e,dispatch:t,isAuthenticated:n}=fr(),[r,s]=v.useState(!0),[i,o]=v.useState(!1),[a,u]=v.useState(null),[c,p]=v.useState(""),[h,g]=v.useState("name"),[w,x]=v.useState([]);v.useEffect(()=>{S()},[]),v.useEffect(()=>{T()},[e,c,h]);const S=async()=>{try{s(!0);const N=await On.getAll();t({type:"SET_EMPLOYEES",payload:N.data})}catch(N){console.error("Error loading employees:",N),M.error("Failed to load employees")}finally{s(!1)}},T=()=>{let N=e.filter(b=>b.name.toLowerCase().includes(c.toLowerCase())||b.department&&b.department.toLowerCase().includes(c.toLowerCase())||b.employee_id&&b.employee_id.toLowerCase().includes(c.toLowerCase()));N.sort((b,P)=>{switch(h){case"name":return b.name.localeCompare(P.name);case"name-desc":return P.name.localeCompare(b.name);case"department":return(b.department||"").localeCompare(P.department||"");case"employee_id":return(b.employee_id||"").localeCompare(P.employee_id||"");default:return 0}}),x(N)},m=()=>{u(null),o(!0)},f=N=>{u(N),o(!0)},y=async N=>{if(window.confirm(`Are you sure you want to delete ${N.name}?`))try{await On.delete(N.id),t({type:"DELETE_EMPLOYEE",payload:N.id}),M.success("Employee deleted successfully")}catch(b){if(console.error("Error deleting employee:",b),b.message.includes("existing fine")){if(window.confirm(`${b.message}

Do you want to delete this employee anyway? Their fine records will be kept for historical purposes but marked as orphaned.`))try{await On.delete(N.id,{force:!0}),t({type:"DELETE_EMPLOYEE",payload:N.id}),M.success("Employee deleted. Fine records preserved for history.")}catch(A){console.error("Error force deleting employee:",A),M.error("Failed to delete employee")}}else M.error(b.message||"Failed to delete employee")}},_=async N=>{try{if(a){const b=await On.update(a.id,N);t({type:"UPDATE_EMPLOYEE",payload:b.data.employee}),M.success("Employee updated successfully")}else{const b=await On.add(N);t({type:"ADD_EMPLOYEE",payload:b.data.employee}),M.success("Employee added successfully")}setTimeout(()=>{console.log("🔄 Force reloading employees after save..."),PS(t)},100),o(!1)}catch(b){console.error("Error saving employee:",b),M.error("Failed to save employee")}};return r?l.jsx(Oo,{text:"Loading employees..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"👥 Employee Management"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage employee information and view statistics"})]}),n&&l.jsxs("button",{onClick:m,className:"btn btn-primary",children:[l.jsx(co,{size:20}),"Add Employee"]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ld,{size:20,className:"absolute left-3 top-1/2  translate-top text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search employees...",value:c,onChange:N=>p(N.target.value),className:"form-input pl-10"})]})}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ca,{size:20,className:"absolute left-3 top-1/2  translate-top text-gray-400"}),l.jsxs("select",{value:h,onChange:N=>g(N.target.value),className:"form-select pl-10",children:[l.jsx("option",{value:"name",children:"Sort by Name (A-Z)"}),l.jsx("option",{value:"name-desc",children:"Sort by Name (Z-A)"}),l.jsx("option",{value:"department",children:"Sort by Department"}),l.jsx("option",{value:"employee_id",children:"Sort by Employee ID"})]})]})})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(N=>l.jsx(bS,{employee:N,isAuthenticated:n,onEdit:f,onDelete:y},N.id))}),w.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"👤"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No employees found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:c?"Try adjusting your search criteria":"Get started by adding your first employee"}),n&&!c&&l.jsxs("button",{onClick:m,className:"btn btn-primary",children:[l.jsx(co,{size:20}),"Add Employee"]})]}),l.jsx(IS,{isOpen:i,onClose:()=>o(!1),employee:a,onSubmit:_})]})}function OS({violation:e,isAuthenticated:t,onEdit:n,onDelete:r}){var i;const s=o=>{switch(o==null?void 0:o.toLowerCase()){case"low":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"high":return"text-orange-600 bg-orange-100";case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return l.jsxs("div",{className:"card hover:shadow-lg transition-shadow border-l-4 border-blue-500",children:[l.jsxs("div",{className:"card-header",children:[l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:e.name}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})}),t&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>n(e),className:"btn btn-sm btn-primary",title:"Edit Violation",children:l.jsx(Ad,{size:16})}),l.jsx("button",{onClick:()=>r(e),className:"btn btn-sm btn-danger",title:"Delete Violation",children:l.jsx(ka,{size:16})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Default Amount:"}),l.jsxs("span",{className:"ml-2 font-bold text-lg text-green-600",children:["₨",((i=e.default_amount)==null?void 0:i.toFixed(2))||"0.00"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lg,{size:16,className:"text-gray-400"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s(e.severity)}`,children:e.severity||"Medium"})]})]}),Array.isArray(e.suggestions)&&e.suggestions.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Common Examples:"}),l.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[e.suggestions.slice(0,3).map((o,a)=>l.jsx("span",{className:"inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded",children:o},a)),e.suggestions.length>3&&l.jsxs("span",{className:"inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded",children:["+",e.suggestions.length-3," more"]})]})]})]})]})}function DS({isOpen:e,onClose:t,violation:n,onSubmit:r}){const[s,i]=v.useState({name:"",description:"",default_amount:"",severity:"Medium",suggestions:[]}),[o,a]=v.useState(""),[u,c]=v.useState(!1);v.useEffect(()=>{var x;i(n?{name:n.name||"",description:n.description||"",default_amount:((x=n.default_amount)==null?void 0:x.toString())||"",severity:n.severity||"Medium",suggestions:n.suggestions||[]}:{name:"",description:"",default_amount:"",severity:"Medium",suggestions:[]}),a("")},[n,e]);const p=x=>{const{name:S,value:T}=x.target;i(m=>({...m,[S]:T}))},h=()=>{o.trim()&&!s.suggestions.includes(o.trim())&&(i(x=>({...x,suggestions:[...x.suggestions,o.trim()]})),a(""))},g=x=>{i(S=>({...S,suggestions:S.suggestions.filter((T,m)=>m!==x)}))},w=async x=>{if(x.preventDefault(),!s.name.trim()){alert("Please enter violation name");return}if(!s.default_amount||parseFloat(s.default_amount)<0){alert("Please enter a valid default amount");return}c(!0);try{const S={name:s.name.trim(),description:s.description.trim(),default_amount:s.default_amount,severity:s.severity,suggestions:s.suggestions.join(",")};await r(S),i({name:"",description:"",default_amount:"",severity:"Medium",suggestions:[]}),a("")}catch(S){console.error("Error submitting violation:",S)}finally{c(!1)}};return l.jsx(Od,{isOpen:e,onClose:t,title:n?"Edit Violation Type":"Add New Violation Type",size:"lg",children:l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Violation Name *"}),l.jsx("input",{type:"text",name:"name",value:s.name,onChange:p,className:"form-input",placeholder:"e.g., Attendance Issues",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Default Amount (PKR) *"}),l.jsx("input",{type:"number",name:"default_amount",value:s.default_amount,onChange:p,className:"form-input",placeholder:"250.00",step:"0.01",min:"0",required:!0})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Description"}),l.jsx("textarea",{name:"description",value:s.description,onChange:p,className:"form-input form-textarea",placeholder:"Describe this violation type...",rows:"3"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Severity Level"}),l.jsxs("select",{name:"severity",value:s.severity,onChange:p,className:"form-select",children:[l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Critical",children:"Critical"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Common Examples/Suggestions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:o,onChange:x=>a(x.target.value),className:"form-input flex-1",placeholder:"Add a common example...",onKeyPress:x=>x.key==="Enter"&&(x.preventDefault(),h())}),l.jsx("button",{type:"button",onClick:h,className:"btn btn-primary",children:l.jsx(co,{size:16})})]}),s.suggestions.length>0&&l.jsx("div",{className:"space-y-2",children:s.suggestions.map((x,S)=>l.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded",children:[l.jsx("span",{className:"flex-1 text-sm",children:x}),l.jsx("button",{type:"button",onClick:()=>g(S),className:"text-red-500 hover:text-red-700",children:l.jsx(ka,{size:16})})]},S))})]})]}),l.jsxs("div",{className:"flex gap-4 justify-end",children:[l.jsxs("button",{type:"button",onClick:t,className:"btn btn-secondary",disabled:u,children:[l.jsx(ht,{size:20}),"Cancel"]}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ss,{size:20}),n?"Update":"Create"," Violation Type"]})})]})]})})}function MS(){const{violationTypes:e,dispatch:t,isAuthenticated:n,user:r,isLoading:s}=fr(),[i,o]=v.useState(!0),[a,u]=v.useState(null),[c,p]=v.useState(!1),[h,g]=v.useState(null),[w,x]=v.useState(""),[S,T]=v.useState("name"),[m,f]=v.useState(""),[y,_]=v.useState([]);v.useEffect(()=>{console.log("📋 ManageViolations - Component mounted"),console.log("🔐 Auth Status:",{isAuthenticated:n,user:r,contextLoading:s}),console.log("📊 Current violation types:",e),s||N()},[s]),v.useEffect(()=>{b()},[e,w,S,m]);const N=async()=>{try{console.log("📋 Loading violation types..."),o(!0),u(null);const I=await ps.getAll();console.log("✅ Violation types loaded:",I.data),t({type:"SET_VIOLATION_TYPES",payload:I.data})}catch(I){console.error("❌ Error loading violation types:",I),u(I.message||"Failed to load violation types"),M.error(`Failed to load violation types: ${I.message}`)}finally{o(!1)}},b=()=>{let I=e.filter(V=>{const xe=V.name.toLowerCase().includes(w.toLowerCase())||V.description&&V.description.toLowerCase().includes(w.toLowerCase()),et=!m||V.severity===m;return xe&&et});I.sort((V,xe)=>{switch(S){case"name":return V.name.localeCompare(xe.name);case"name-desc":return xe.name.localeCompare(V.name);case"amount-desc":return(xe.default_amount||0)-(V.default_amount||0);case"amount-asc":return(V.default_amount||0)-(xe.default_amount||0);case"severity":const et={Low:1,Medium:2,High:3,Critical:4};return(et[V.severity]||0)-(et[xe.severity]||0);default:return 0}}),_(I)},P=()=>{g(null),p(!0)},A=I=>{g(I),p(!0)},D=async I=>{if(window.confirm(`Are you sure you want to delete "${I.name}"?`))try{await ps.delete(I.id),t({type:"DELETE_VIOLATION_TYPE",payload:I.id}),M.success("Violation type deleted successfully")}catch(V){console.error("Error deleting violation type:",V),M.error("Failed to delete violation type")}},j=async I=>{try{if(h){const V=await ps.update(h.id,I);t({type:"UPDATE_VIOLATION_TYPE",payload:V.data.violationType}),M.success("Violation type updated successfully")}else{const V=await ps.add(I);t({type:"ADD_VIOLATION_TYPE",payload:V.data.violationType}),M.success("Violation type added successfully")}setTimeout(()=>{console.log("🔄 Force reloading violations after save..."),AS(t)},100),p(!1)}catch(V){console.error("Error saving violation type:",V),M.error("Failed to save violation type")}};return s||i?l.jsx(Oo,{text:"Loading violation types..."}):a?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"⚠️ Violation Management"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Configure violation types, penalties, and severity levels"})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-red-50 border border-red-200 rounded-lg",children:[l.jsx(cS,{className:"text-red-500",size:24}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-800",children:"Error Loading Violations"}),l.jsx("p",{className:"text-red-600 text-sm",children:a}),l.jsx("button",{onClick:N,className:"mt-2 btn btn-sm btn-primary",children:"Try Again"})]})]})})]}):n?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"⚠️ Violation Management"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Configure violation types, penalties, and severity levels"})]}),n&&l.jsxs("button",{onClick:P,className:"btn btn-primary",children:[l.jsx(co,{size:20}),"Add Violation Type"]})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ld,{size:20,className:"absolute left-3 top-1/2  translate-top text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search violation types...",value:w,onChange:I=>x(I.target.value),className:"form-input pl-10"})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("select",{value:m,onChange:I=>f(I.target.value),className:"form-select",children:[l.jsx("option",{value:"",children:"All Severities"}),l.jsx("option",{value:"Low",children:"Low"}),l.jsx("option",{value:"Medium",children:"Medium"}),l.jsx("option",{value:"High",children:"High"}),l.jsx("option",{value:"Critical",children:"Critical"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ca,{size:20,className:"absolute left-3 top-1/2  translate-top text-gray-400"}),l.jsxs("select",{value:S,onChange:I=>T(I.target.value),className:"form-select pl-10",children:[l.jsx("option",{value:"name",children:"Sort by Name (A-Z)"}),l.jsx("option",{value:"name-desc",children:"Sort by Name (Z-A)"}),l.jsx("option",{value:"amount-desc",children:"Sort by Amount (High-Low)"}),l.jsx("option",{value:"amount-asc",children:"Sort by Amount (Low-High)"}),l.jsx("option",{value:"severity",children:"Sort by Severity"})]})]})]})]})}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:y.map(I=>l.jsx(OS,{violation:I,isAuthenticated:n,onEdit:A,onDelete:D},I.id))}),y.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No violation types found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:w||m?"Try adjusting your search criteria":"Get started by adding your first violation type"}),n&&!w&&!m&&l.jsxs("button",{onClick:P,className:"btn btn-primary",children:[l.jsx(co,{size:20}),"Add Violation Type"]})]}),l.jsx(DS,{isOpen:c,onClose:()=>p(!1),violation:h,onSubmit:j})]}):l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🔒"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Authentication Required"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to access violation management"})]})})}function FS(){const{isAuthenticated:e}=fr(),t=Po(),[n,r]=v.useState(!0),[s,i]=v.useState("profile"),[o,a]=v.useState({}),[u,c]=v.useState({admin_name:"",admin_email:"",admin_phone:"",company_name:""}),[p,h]=v.useState(!1),[g,w]=v.useState({smtp_server:"",smtp_port:587,smtp_username:"",smtp_password:"",email_signature:""}),[x,S]=v.useState(!1),[T,m]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[f,y]=v.useState(!1);v.useEffect(()=>{if(!e){t("/login");return}_()},[e,t]);const _=async()=>{try{r(!0);const j=await gi.getSettings();a(j.data),c({admin_name:j.data.admin_name||"",admin_email:j.data.admin_email||"",admin_phone:j.data.admin_phone||"",company_name:j.data.company_name||""}),w({smtp_server:j.data.smtp_server||"smtp.gmail.com",smtp_port:j.data.smtp_port||587,smtp_username:j.data.smtp_username||"",smtp_password:j.data.smtp_password||"",email_signature:j.data.email_signature||`Best regards,
Fine Tracker System`})}catch(j){console.error("Error loading settings:",j),M.error("Failed to load settings")}finally{r(!1)}},N=async j=>{j.preventDefault(),h(!0);try{const I=new FormData;Object.entries(u).forEach(([xe,et])=>{I.append(xe,et)});const V=await gi.updateSettings(I);a(V.data.settings),M.success("Profile settings updated successfully")}catch(I){console.error("Error updating profile:",I),M.error("Failed to update profile settings")}finally{h(!1)}},b=async j=>{j.preventDefault(),S(!0);try{const I=new FormData;Object.entries(g).forEach(([xe,et])=>{I.append(xe,et)});const V=await gi.updateSettings(I);a(V.data.settings),M.success("Email settings updated successfully")}catch(I){console.error("Error updating email settings:",I),M.error("Failed to update email settings")}finally{S(!1)}},P=async()=>{if(!g.smtp_server||!g.smtp_username||!g.smtp_password){M.error("Please configure all SMTP settings before testing");return}const j=prompt("Enter email address to send test email to:","test@example.com");if(j)try{await gi.updateSettings(g),M.loading(`Sending test email to ${j}...`);const I=await zr.sendTestEmail(j);M.dismiss(),M.success(`Test email sent successfully to ${j}`)}catch(I){M.dismiss(),console.error("Error sending test email:",I),M.error(I.message||"Failed to send test email")}},A=async j=>{j.preventDefault(),y(!0);try{await gi.changePassword(T),m({currentPassword:"",newPassword:"",confirmPassword:""}),M.success("Password changed successfully")}catch(I){console.error("Error changing password:",I),M.error(I.message||"Failed to change password")}finally{y(!1)}},D=[{id:"profile",label:"Profile",icon:ug},{id:"email",label:"Email",icon:uo},{id:"password",label:"Password",icon:Sc}];return e?n?l.jsx(Oo,{text:"Loading admin settings..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"⚙️ Admin Settings"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your profile, email configuration, and security settings"})]}),l.jsxs("div",{className:"tab-container",children:[l.jsx("div",{className:"tab-list",children:D.map(j=>{const I=j.icon;return l.jsxs("button",{onClick:()=>i(j.id),className:`tab-button ${s===j.id?"active":""}`,children:[l.jsx(I,{size:18}),j.label]},j.id)})}),l.jsxs("div",{className:"tab-content",children:[s==="profile"&&l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"card-header",children:l.jsx("h3",{children:"Admin Profile"})}),l.jsx("div",{className:"card-body",children:l.jsxs("form",{onSubmit:N,className:"space-y-4",children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Admin Name"}),l.jsx("input",{type:"text",value:u.admin_name,onChange:j=>c(I=>({...I,admin_name:j.target.value})),className:"form-input",placeholder:"Administrator Name"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Company Name"}),l.jsx("input",{type:"text",value:u.company_name,onChange:j=>c(I=>({...I,company_name:j.target.value})),className:"form-input",placeholder:"Your Company Name"})]})]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Email Address"}),l.jsx("input",{type:"email",value:u.admin_email,onChange:j=>c(I=>({...I,admin_email:j.target.value})),className:"form-input",placeholder:"admin@company.com"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Phone Number"}),l.jsx("input",{type:"tel",value:u.admin_phone,onChange:j=>c(I=>({...I,admin_phone:j.target.value})),className:"form-input",placeholder:"+92-300-1234567"})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:p,className:"btn btn-primary",children:p?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ss,{size:20}),"Save Profile"]})})})]})})]}),s==="email"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"card bg-blue-50 border-blue-200",children:[l.jsx("div",{className:"card-header",children:l.jsx("h4",{className:"text-blue-800",children:"📧 Gmail SMTP Configuration"})}),l.jsxs("div",{className:"text-sm text-blue-700 space-y-2",children:[l.jsx("p",{children:l.jsx("strong",{children:"To use Gmail for sending emails:"})}),l.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4",children:[l.jsx("li",{children:"Enable 2-Factor Authentication on your Gmail account"}),l.jsx("li",{children:'Generate an "App Password" for this application'}),l.jsx("li",{children:"Use your Gmail address as SMTP Username"}),l.jsx("li",{children:"Use the App Password (not your regular password)"})]}),l.jsxs("p",{className:"mt-3",children:[l.jsx("strong",{children:"Default Settings:"})," Server: smtp.gmail.com, Port: 587 (TLS)"]})]})]}),l.jsxs("div",{className:"card bg-green-50 border-green-200",children:[l.jsx("div",{className:"card-header",children:l.jsx("h4",{className:"text-green-800",children:"✅ Email System Ready"})}),l.jsxs("div",{className:"text-sm text-green-700 space-y-2",children:[l.jsx("p",{children:l.jsx("strong",{children:"Your email system is now fully functional!"})}),l.jsxs("p",{children:["The system can now send ",l.jsx("strong",{children:"real emails"})," including:"]}),l.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[l.jsx("li",{children:"Fine receipts to employees"}),l.jsx("li",{children:"Employee fine reports"}),l.jsx("li",{children:"Test emails to verify configuration"})]}),l.jsx("p",{className:"mt-2",children:l.jsx("em",{children:"Configure your SMTP settings below and use the test button to verify everything works correctly."})})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"card-header",children:l.jsx("h3",{children:"Email Configuration"})}),l.jsx("div",{className:"card-body",children:l.jsxs("form",{onSubmit:b,className:"space-y-4",children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"SMTP Server"}),l.jsx("input",{type:"text",value:g.smtp_server,onChange:j=>w(I=>({...I,smtp_server:j.target.value})),className:"form-input",placeholder:"smtp.gmail.com"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"SMTP Port"}),l.jsx("input",{type:"number",value:g.smtp_port,onChange:j=>w(I=>({...I,smtp_port:parseInt(j.target.value)||587})),className:"form-input",placeholder:"587"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"SMTP Username"}),l.jsx("input",{type:"text",value:g.smtp_username,onChange:j=>w(I=>({...I,smtp_username:j.target.value})),className:"form-input",placeholder:"your-email@gmail.com"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"SMTP Password (App Password)"}),l.jsx("input",{type:"password",value:g.smtp_password,onChange:j=>w(I=>({...I,smtp_password:j.target.value})),className:"form-input",placeholder:"Gmail App Password (16 characters)"}),l.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Use Gmail App Password, not your regular password. Generate at:",l.jsx("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline ml-1",children:"myaccount.google.com/apppasswords"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Email Signature"}),l.jsx("textarea",{value:g.email_signature,onChange:j=>w(I=>({...I,email_signature:j.target.value})),className:"form-input form-textarea",rows:"4",placeholder:`Best regards,
Fine Management System`})]}),l.jsxs("div",{className:"flex justify-end",children:[l.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:x?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ss,{size:20}),"Save Email Settings"]})}),l.jsxs("button",{type:"button",onClick:P,className:"btn btn-secondary",disabled:!g.smtp_server||!g.smtp_username||!g.smtp_password,children:[l.jsx(uo,{size:20}),"Send Test Email"]})]})]})})]})]}),s==="password"&&l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"card-header",children:l.jsx("h3",{children:"Change Password"})}),l.jsx("div",{className:"card-body",children:l.jsxs("form",{onSubmit:A,className:"space-y-4",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Current Password"}),l.jsx("input",{type:"password",value:T.currentPassword,onChange:j=>m(I=>({...I,currentPassword:j.target.value})),className:"form-input",placeholder:"Enter current password",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"New Password"}),l.jsx("input",{type:"password",value:T.newPassword,onChange:j=>m(I=>({...I,newPassword:j.target.value})),className:"form-input",placeholder:"Enter new password",minLength:"6",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Confirm New Password"}),l.jsx("input",{type:"password",value:T.confirmPassword,onChange:j=>m(I=>({...I,confirmPassword:j.target.value})),className:"form-input",placeholder:"Confirm new password",required:!0})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:f,className:"btn btn-primary",children:f?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Changing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ss,{size:20}),"Change Password"]})})})]})})]})]})]})]}):null}function ru({children:e,permission:t,requireAuth:n=!0}){const{isAuthenticated:r,user:s}=fr();return n&&!r?l.jsx(Ju,{to:"/login",replace:!0}):t&&(!s||!Ur.hasPermission(s,t))?l.jsx(Ju,{to:"/",replace:!0}):e}function US(){return v.useEffect(()=>{async function e(){try{console.log("🚀 Fine Tracker Application Started"),await eS()}catch(t){console.error("❌ Database initialization failed:",t),console.warn("⚠️ App will continue to run, but database features may not work")}}e()},[]),l.jsx(lS,{children:l.jsx(zx,{children:l.jsxs("div",{className:"App",children:[l.jsxs(Ax,{children:[l.jsx(Tn,{path:"/login",element:l.jsx(RS,{})}),l.jsxs(Tn,{path:"/",element:l.jsx(SS,{}),children:[l.jsx(Tn,{index:!0,element:l.jsx(TS,{})}),l.jsx(Tn,{path:"employees",element:l.jsx(ru,{permission:"manage_employees",children:l.jsx(LS,{})})}),l.jsx(Tn,{path:"violations",element:l.jsx(ru,{permission:"manage_violations",children:l.jsx(MS,{})})}),l.jsx(Tn,{path:"settings",element:l.jsx(ru,{permission:"admin_settings",children:l.jsx(FS,{})})})]}),l.jsx(Tn,{path:"*",element:l.jsx(Ju,{to:"/",replace:!0})})]}),l.jsx(Iw,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--card-background)",color:"var(--text-color)",border:"1px solid var(--border-color)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-lg)"},success:{iconTheme:{primary:"var(--success-color)",secondary:"white"}},error:{iconTheme:{primary:"var(--danger-color)",secondary:"white"}}}})]})})})}su.createRoot(document.getElementById("root")).render(l.jsx(Op.StrictMode,{children:l.jsx(US,{})}));
